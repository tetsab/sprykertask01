(globalThis["webpackChunkspryker_b2c_demo_shop"] = globalThis["webpackChunkspryker_b2c_demo_shop"] || []).push([["spryker-zed-productmanagement-add"],{

/***/ "./vendor/spryker/gui/assets/Zed/js/modules/libs/formatted-number-input.js":
/*!*********************************************************************************!*\
  !*** ./vendor/spryker/gui/assets/Zed/js/modules/libs/formatted-number-input.js ***!
  \*********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var AutoNumeric = __webpack_require__(/*! autonumeric */ "./node_modules/autonumeric/dist/autoNumeric.min.js");
function initFormattedNumber() {
  let rootElement = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;
  var numberInputs = Array.from(rootElement.getElementsByClassName('js-formatted-number-input'));
  numberInputs.forEach(function (numberInput) {
    var hiddenInput = rootElement.getElementsByClassName(numberInput.dataset.target)[0];
    var config = {
      digitGroupSeparator: numberInput.dataset.groupSeparator,
      decimalCharacter: numberInput.dataset.decimalSeparator,
      decimalPlaces: numberInput.dataset.decimalRounding,
      allowDecimalPadding: false,
      digitalGroupSpacing: 3,
      modifyValueOnWheel: false
    };
    numberInput.value = hiddenInput.value;
    var formattedInput = new AutoNumeric(numberInput, config);
    numberInput.addEventListener('input', function () {
      hiddenInput.value = formattedInput.rawValue;
    });
  });
}
module.exports = initFormattedNumber;

/***/ }),

/***/ "./vendor/spryker/product-management/assets/Zed/js/modules/add.js":
/*!************************************************************************!*\
  !*** ./vendor/spryker/product-management/assets/Zed/js/modules/add.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/**
 * Copyright (c) 2016-present Spryker Systems GmbH. All rights reserved.
 * Use of this software requires acceptance of the Evaluation License Agreement. See LICENSE file.
 */



__webpack_require__(/*! ./main */ "./vendor/spryker/product-management/assets/Zed/js/modules/main.js");

/***/ }),

/***/ "./vendor/spryker/product-management/assets/Zed/js/modules/main.js":
/*!*************************************************************************!*\
  !*** ./vendor/spryker/product-management/assets/Zed/js/modules/main.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/**
 * Copyright (c) 2016-present Spryker Systems GmbH. All rights reserved.
 * Use of this software requires acceptance of the Evaluation License Agreement. See LICENSE file.
 */



__webpack_require__(/*! ../../sass/main.scss */ "./vendor/spryker/product-management/assets/Zed/sass/main.scss");
var initFormattedNumber = __webpack_require__(/*! ZedGuiModules/libs/formatted-number-input */ "./vendor/spryker/gui/assets/Zed/js/modules/libs/formatted-number-input.js");
$(document).ready(function () {
  /**
   * @param data
   * @param params
   * @returns {{results: *, pagination: {more: (boolean|number)}}}
   */
  function processAjaxResult(data, params) {
    //{"id_attribute":1,"values":[{"id_product_management_attribute_value":1,"fk_locale":66,"value":"intel-atom-quad-core","translation":"Intel Atom Z3560 Quad-Core US"}]}
    // parse the results into the format expected by Select2
    // since we are using custom formatting functions we do not need to
    // alter the remote JSON data, except to indicate that infinite
    // scrolling can be used
    params.page = params.page || 1;
    return {
      results: data.values,
      pagination: {
        more: params.page * 30 < data.total || 0
      }
    };
  }

  /**
   * @param $select
   * @param term
   */
  function select2_search($select, term) {
    $select.select2('open');

    // Get the search box within the dropdown or the selection
    // Dropdown = single, Selection = multiple
    var $search = $select.data('select2').dropdown.$search || $select.data('select2').selection.$search;
    // This is undocumented and may change in the future

    $search.val(term);
    $search.trigger('keyup');
  }

  /**
   * @param event
   */
  function addAnotherImageCollection(event) {
    event.preventDefault();
    var prototypeTemplate = $(event.target).closest('[data-image-collection-prototype]');
    var imageSet = $(event.target).closest('.image-set');
    var imageSetIndex = imageSet.data('imageSetIndex');
    var imageCollectionIndex = imageSet.find('.image-collection').length;
    var newOptionFormHTML = prototypeTemplate.data('imageCollectionPrototype').replace(/__image_set_name__/g, imageSetIndex).replace(/__name__/g, imageCollectionIndex).trim();
    newOptionFormHTML = setSortOrderFieldValue(newOptionFormHTML);
    imageSet.find('.image-collection-container').append($(newOptionFormHTML));
    $(newOptionFormHTML).get().forEach(element => initFormattedNumber(element));
  }

  /**
   * @param event
   */
  function addAnotherImageSet(event) {
    event.preventDefault();
    var prototypeTemplate = $(event.target).closest('[data-image-set-prototype][data-image-collection-prototype]');
    var imageSetIndex = prototypeTemplate.data('currentImageSetIndex') + 1;
    prototypeTemplate.data('currentImageSetIndex', imageSetIndex);
    var imageSetPrototype = prototypeTemplate.data('imageSetPrototype').replace(/__image_set_name__/g, imageSetIndex);
    var imageSet = $(imageSetPrototype);
    imageSet.data('imageSetIndex', imageSetIndex);
    $(event.target).before(imageSet);
    var imageCollectionPrototype = prototypeTemplate.data('imageCollectionPrototype').replace(/__image_set_name__/g, imageSetIndex).replace(/__name__/g, 0).trim();
    imageCollectionPrototype = setSortOrderFieldValue(imageCollectionPrototype);
    imageSet.find('.image-collection-container').append($(imageCollectionPrototype));
    $(imageCollectionPrototype).get().forEach(element => initFormattedNumber(element));
  }

  /**
   * @param imageCollectionPrototype
   */
  function setSortOrderFieldValue(imageCollectionPrototype) {
    imageCollectionPrototype = $($.parseHTML(imageCollectionPrototype));
    var sortOrderField = imageCollectionPrototype.find('[data-sort-order]');
    imageCollectionPrototype.find('.' + sortOrderField.data('target')).attr('value', sortOrderField.data('sort-order'));
    return imageCollectionPrototype;
  }

  /**
   * @param event
   */
  function deleteImageSet(event) {
    event.preventDefault();
    $(this).closest('.image-set').remove();
  }

  /**
   * @param event
   */
  function deleteImageCollection(event) {
    event.preventDefault();
    $(this).closest('.image-collection').remove();
  }

  /**
   * Init image set index
   */
  $('.image-set').each(function (i, imageSet) {
    var imageSetIndex = $(imageSet).closest('[data-image-set-prototype]').find('.image-set').index(imageSet);
    $(imageSet).data('imageSetIndex', imageSetIndex);
  });
  $('.image-set-container').each(function (i, imageSetContainer) {
    var currentImageSetIndex = $(imageSetContainer).find('.image-set').length - 1;
    $(imageSetContainer).data('currentImageSetIndex', currentImageSetIndex);
  });

  /**
   * Register global event listeners
   */
  $('body').on('click', '.add-another-image-set', addAnotherImageSet).on('click', '.add-another-image-collection', addAnotherImageCollection).on('click', '.remove-image-set', deleteImageSet).on('click', '.remove-image-collection', deleteImageCollection);
  $('.spryker-form-select2combobox:not([class=".tags"]):not([class=".ajax"])').select2({});
  $('.spryker-form-select2combobox.tags:not([class=".ajax"])').select2({
    tags: true
  });
  const dropdownWithParent = $('.spryker-form-select2combobox[dropdown-parent]');
  if (dropdownWithParent) {
    dropdownWithParent.select2({
      dropdownParent: dropdownWithParent.closest(dropdownWithParent.attr('dropdown-parent'))
    });
  }
  $('.spryker-form-select2combobox.ajax:not([class=".tags"])').select2({
    tags: false,
    preLoaded: false,
    ajax: {
      url: '/product-management/attribute/suggest/',
      dataType: 'json',
      delay: 250,
      cache: true,
      data: function (params) {
        var p = {
          q: params.term,
          page: params.page,
          id: this.attr('id_attribute'),
          locale_code: this.attr('locale_code')
        };
        return p;
      },
      processResults: processAjaxResult
    },
    minimumInputLength: 1
  });
  $('.spryker-form-select2combobox.ajax.tags').select2({
    tags: true,
    ajax: {
      url: '/product-management/attribute/suggest/',
      dataType: 'json',
      delay: 250,
      cache: true,
      preLoaded: false,
      data: function (params) {
        var p = {
          q: params.term,
          page: params.page,
          id: this.attr('id_attribute'),
          locale_code: this.attr('locale_code')
        };
        return p;
      },
      processResults: processAjaxResult
    },
    minimumInputLength: 1
  });
  $('.attribute_metadata_checkbox').each(function () {
    var $checkbox = $(this);
    var $input = $checkbox.parents('.attribute_metadata_row').find('.attribute_metadata_value');
    if (!$checkbox.prop('checked') && !$checkbox.prop('disabled')) {
      $input.prop('readonly', !$checkbox.prop('checked'));
      if ($input.hasClass('spryker-form-select2combobox')) {
        $input.prop('disabled', !$checkbox.prop('checked'));
      }
    }
  });
  $('.attribute_metadata_checkbox').off('click').on('click', function () {
    var $checkbox = $(this);
    var $input = $checkbox.parents('.attribute_metadata_row').find('.attribute_metadata_value');
    $input.prop('readonly', !$checkbox.prop('checked'));
    if ($input.hasClass('spryker-form-select2combobox')) {
      $input.prop('disabled', !$checkbox.prop('checked'));
      if ($checkbox.prop('checked')) {
        //fixes focus issues
        setTimeout(function () {
          $input.select2('focus');
        }, 0);
      }
    } else {
      $input.focus();
    }
  });
  $('.kv_attribute_autocomplete').each(function (key, value) {
    var input = $(value);
    var id = input.attr('id_attribute') || null;
    var locale_code = input.attr('locale_code') || null;
    input.autocomplete({
      minLength: 0,
      source: function (request, response) {
        $.ajax({
          url: '/product-management/attribute/suggest/',
          dataType: 'json',
          data: {
            q: request.term,
            id: id,
            locale_code: locale_code
          },
          success: function (data) {
            response($.map(data.values, function (item) {
              return {
                label: item.text,
                value: item.id
              };
            }));
          }
        });
      },
      select: function (event, ui) {
        var input = $(this);
        input.val(ui.item.label);
        input.attr('data-value', ui.item.value);
        return false;
      },
      focus: function (event, ui) {
        var input = $(this);
        input.val(ui.item.label);
        input.attr('data-value', ui.item.value);
        return false;
      }
    });
  });
  $('.kv_autocomplete_form').submit(function (e) {
    var form = $(this);
    $('.kv_attribute_autocomplete').each(function (key, value) {
      var $input = $(this);
      var hidden = $input.next();
      var inputValue = $input.attr('data-value');
      var name = hidden.attr('name');
      hidden.val(inputValue);
    });
  });
});

/***/ }),

/***/ "./vendor/spryker/product-management/assets/Zed/js/spryker-zed-productmanagement-add.entry.js":
/*!****************************************************************************************************!*\
  !*** ./vendor/spryker/product-management/assets/Zed/js/spryker-zed-productmanagement-add.entry.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/**
 * Copyright (c) 2016-present Spryker Systems GmbH. All rights reserved.
 * Use of this software requires acceptance of the Evaluation License Agreement. See LICENSE file.
 */



__webpack_require__(/*! ./modules/add */ "./vendor/spryker/product-management/assets/Zed/js/modules/add.js");

/***/ }),

/***/ "./node_modules/autonumeric/dist/autoNumeric.min.js":
/*!**********************************************************!*\
  !*** ./node_modules/autonumeric/dist/autoNumeric.min.js ***!
  \**********************************************************/
/***/ (function(module) {

/**
 * AutoNumeric.js v4.6.0
 * © 2009-2019 Robert J. Knothe, Alexandre Bonneau
 * Released under the MIT License.
 */
!function(e,t){ true?module.exports=t():0}(this,function(){return n={},a.m=i=[function(e,t,i){"use strict";i.r(t);var n={allowedTagList:["b","caption","cite","code","const","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","input","ins","kdb","label","li","option","output","p","q","s","sample","span","strong","td","th","u"]};Object.freeze(n.allowedTagList),Object.defineProperty(n,"allowedTagList",{configurable:!1,writable:!1}),n.keyCode={Backspace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,Pause:19,CapsLock:20,Esc:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,Delete:46,num0:48,num1:49,num2:50,num3:51,num4:52,num5:53,num6:54,num7:55,num8:56,num9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,OSLeft:91,OSRight:92,ContextMenu:93,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,MultiplyNumpad:106,PlusNumpad:107,MinusNumpad:109,DotNumpad:110,SlashNumpad:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NumLock:144,ScrollLock:145,HyphenFirefox:173,MyComputer:182,MyCalculator:183,Semicolon:186,Equal:187,Comma:188,Hyphen:189,Dot:190,Slash:191,Backquote:192,LeftBracket:219,Backslash:220,RightBracket:221,Quote:222,Command:224,AltGraph:225,AndroidDefault:229},Object.freeze(n.keyCode),Object.defineProperty(n,"keyCode",{configurable:!1,writable:!1}),n.fromCharCodeKeyCode={0:"LaunchCalculator",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",91:"OS",92:"OSRight",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",173:"-",182:"MyComputer",183:"MyCalculator",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Meta",225:"AltGraph"},Object.freeze(n.fromCharCodeKeyCode),Object.defineProperty(n,"fromCharCodeKeyCode",{configurable:!1,writable:!1}),n.keyName={Unidentified:"Unidentified",AndroidDefault:"AndroidDefault",Alt:"Alt",AltGr:"AltGraph",CapsLock:"CapsLock",Ctrl:"Control",Fn:"Fn",FnLock:"FnLock",Hyper:"Hyper",Meta:"Meta",OSLeft:"OS",OSRight:"OS",Command:"OS",NumLock:"NumLock",ScrollLock:"ScrollLock",Shift:"Shift",Super:"Super",Symbol:"Symbol",SymbolLock:"SymbolLock",Enter:"Enter",Tab:"Tab",Space:" ",LeftArrow:"ArrowLeft",UpArrow:"ArrowUp",RightArrow:"ArrowRight",DownArrow:"ArrowDown",End:"End",Home:"Home",PageUp:"PageUp",PageDown:"PageDown",Backspace:"Backspace",Clear:"Clear",Copy:"Copy",CrSel:"CrSel",Cut:"Cut",Delete:"Delete",EraseEof:"EraseEof",ExSel:"ExSel",Insert:"Insert",Paste:"Paste",Redo:"Redo",Undo:"Undo",Accept:"Accept",Again:"Again",Attn:"Attn",Cancel:"Cancel",ContextMenu:"ContextMenu",Esc:"Escape",Execute:"Execute",Find:"Find",Finish:"Finish",Help:"Help",Pause:"Pause",Play:"Play",Props:"Props",Select:"Select",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",BrightnessDown:"BrightnessDown",BrightnessUp:"BrightnessUp",Eject:"Eject",LogOff:"LogOff",Power:"Power",PowerOff:"PowerOff",PrintScreen:"PrintScreen",Hibernate:"Hibernate",Standby:"Standby",WakeUp:"WakeUp",Compose:"Compose",Dead:"Dead",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",Print:"Print",num0:"0",num1:"1",num2:"2",num3:"3",num4:"4",num5:"5",num6:"6",num7:"7",num8:"8",num9:"9",a:"a",b:"b",c:"c",d:"d",e:"e",f:"f",g:"g",h:"h",i:"i",j:"j",k:"k",l:"l",m:"m",n:"n",o:"o",p:"p",q:"q",r:"r",s:"s",t:"t",u:"u",v:"v",w:"w",x:"x",y:"y",z:"z",A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X",Y:"Y",Z:"Z",Semicolon:";",Equal:"=",Comma:",",Hyphen:"-",Minus:"-",Plus:"+",Dot:".",Slash:"/",Backquote:"`",LeftParenthesis:"(",RightParenthesis:")",LeftBracket:"[",RightBracket:"]",Backslash:"\\",Quote:"'",numpad0:"0",numpad1:"1",numpad2:"2",numpad3:"3",numpad4:"4",numpad5:"5",numpad6:"6",numpad7:"7",numpad8:"8",numpad9:"9",NumpadDot:".",NumpadDotAlt:",",NumpadMultiply:"*",NumpadPlus:"+",NumpadMinus:"-",NumpadSubtract:"-",NumpadSlash:"/",NumpadDotObsoleteBrowsers:"Decimal",NumpadMultiplyObsoleteBrowsers:"Multiply",NumpadPlusObsoleteBrowsers:"Add",NumpadMinusObsoleteBrowsers:"Subtract",NumpadSlashObsoleteBrowsers:"Divide",_allFnKeys:["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"],_someNonPrintableKeys:["Tab","Enter","Shift","ShiftLeft","ShiftRight","Control","ControlLeft","ControlRight","Alt","AltLeft","AltRight","Pause","CapsLock","Escape"],_directionKeys:["PageUp","PageDown","End","Home","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"]},Object.freeze(n.keyName._allFnKeys),Object.freeze(n.keyName._someNonPrintableKeys),Object.freeze(n.keyName._directionKeys),Object.freeze(n.keyName),Object.defineProperty(n,"keyName",{configurable:!1,writable:!1}),Object.freeze(n);var d=n;function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,a=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}return i}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var M=function(){function s(){!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this)}return function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(s,[{key:"isNull",value:function(e){return null===e}},{key:"isUndefined",value:function(e){return void 0===e}},{key:"isUndefinedOrNullOrEmpty",value:function(e){return null==e||""===e}},{key:"isString",value:function(e){return"string"==typeof e||e instanceof String}},{key:"isEmptyString",value:function(e){return""===e}},{key:"isBoolean",value:function(e){return"boolean"==typeof e}},{key:"isTrueOrFalseString",value:function(e){var t=String(e).toLowerCase();return"true"===t||"false"===t}},{key:"isObject",value:function(e){return"object"===l(e)&&null!==e&&!Array.isArray(e)}},{key:"isEmptyObj",value:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}},{key:"isNumberStrict",value:function(e){return"number"==typeof e}},{key:"isNumber",value:function(e){return!this.isArray(e)&&!isNaN(parseFloat(e))&&isFinite(e)}},{key:"isDigit",value:function(e){return/\d/.test(e)}},{key:"isNumberOrArabic",value:function(e){var t=this.arabicToLatinNumbers(e,!1,!0,!0);return this.isNumber(t)}},{key:"isInt",value:function(e){return"number"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)}},{key:"isFunction",value:function(e){return"function"==typeof e}},{key:"isIE11",value:function(){return"undefined"!=typeof window&&!!window.MSInputMethodContext&&!!document.documentMode}},{key:"contains",value:function(e,t){return!(!this.isString(e)||!this.isString(t)||""===e||""===t)&&-1!==e.indexOf(t)}},{key:"isInArray",value:function(e,t){return!(!this.isArray(t)||t===[]||this.isUndefined(e))&&-1!==t.indexOf(e)}},{key:"isArray",value:function(e){if("[object Array]"===Object.prototype.toString.call([]))return Array.isArray(e)||"object"===l(e)&&"[object Array]"===Object.prototype.toString.call(e);throw new Error("toString message changed for Object Array")}},{key:"isElement",value:function(e){return"undefined"!=typeof Element&&e instanceof Element}},{key:"isInputElement",value:function(e){return this.isElement(e)&&"input"===e.tagName.toLowerCase()}},{key:"decimalPlaces",value:function(e){var t=h(e.split("."),2)[1];return this.isUndefined(t)?0:t.length}},{key:"indexFirstNonZeroDecimalPlace",value:function(e){var t=h(String(Math.abs(e)).split("."),2)[1];if(this.isUndefined(t))return 0;var i=t.lastIndexOf("0");return-1===i?i=0:i+=2,i}},{key:"keyCodeNumber",value:function(e){return void 0===e.which?e.keyCode:e.which}},{key:"character",value:function(e){var t;if("Unidentified"===e.key||void 0===e.key||this.isSeleniumBot()){var i=this.keyCodeNumber(e);if(i===d.keyCode.AndroidDefault)return d.keyName.AndroidDefault;var n=d.fromCharCodeKeyCode[i];t=s.isUndefinedOrNullOrEmpty(n)?String.fromCharCode(i):n}else{var a;switch(e.key){case"Add":t=d.keyName.NumpadPlus;break;case"Apps":t=d.keyName.ContextMenu;break;case"Crsel":t=d.keyName.CrSel;break;case"Decimal":t=e.char?e.char:d.keyName.NumpadDot;break;case"Del":t="firefox"===(a=this.browser()).name&&a.version<=36||"ie"===a.name&&a.version<=9?d.keyName.Dot:d.keyName.Delete;break;case"Divide":t=d.keyName.NumpadSlash;break;case"Down":t=d.keyName.DownArrow;break;case"Esc":t=d.keyName.Esc;break;case"Exsel":t=d.keyName.ExSel;break;case"Left":t=d.keyName.LeftArrow;break;case"Meta":case"Super":t=d.keyName.OSLeft;break;case"Multiply":t=d.keyName.NumpadMultiply;break;case"Right":t=d.keyName.RightArrow;break;case"Spacebar":t=d.keyName.Space;break;case"Subtract":t=d.keyName.NumpadMinus;break;case"Up":t=d.keyName.UpArrow;break;default:t=e.key}}return t}},{key:"browser",value:function(){var e,t=navigator.userAgent,i=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(i[1])?{name:"ie",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""}:"Chrome"===i[1]&&null!==(e=t.match(/\b(OPR|Edge)\/(\d+)/))?{name:e[1].replace("OPR","opera"),version:e[2]}:(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=t.match(/version\/(\d+)/i))&&i.splice(1,1,e[1]),{name:i[0].toLowerCase(),version:i[1]})}},{key:"isSeleniumBot",value:function(){return!0===window.navigator.webdriver}},{key:"isNegative",value:function(e,t,i){var n=1<arguments.length&&void 0!==t?t:"-",a=!(2<arguments.length&&void 0!==i)||i;return e===n||""!==e&&(s.isNumber(e)?e<0:a?this.contains(e,n):this.isNegativeStrict(e,n))}},{key:"isNegativeStrict",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:"-";return e.charAt(0)===i}},{key:"isNegativeWithBrackets",value:function(e,t,i){return e.charAt(0)===t&&this.contains(e,i)}},{key:"isZeroOrHasNoValue",value:function(e){return!/[1-9]/g.test(e)}},{key:"setRawNegativeSign",value:function(e){return this.isNegativeStrict(e,"-")?e:"-".concat(e)}},{key:"replaceCharAt",value:function(e,t,i){return"".concat(e.substr(0,t)).concat(i).concat(e.substr(t+i.length))}},{key:"clampToRangeLimits",value:function(e,t){return Math.max(t.minimumValue,Math.min(t.maximumValue,e))}},{key:"countNumberCharactersOnTheCaretLeftSide",value:function(e,t,i){for(var n=new RegExp("[0-9".concat(i,"-]")),a=0,r=0;r<t;r++)n.test(e[r])&&a++;return a}},{key:"findCaretPositionInFormattedNumber",value:function(e,t,i,n){var a,r=i.length,s=e.length,o=0;for(a=0;a<r&&o<s&&o<t;a++)(e[o]===i[a]||"."===e[o]&&i[a]===n)&&o++;return a}},{key:"countCharInText",value:function(e,t){for(var i=0,n=0;n<t.length;n++)t[n]===e&&i++;return i}},{key:"convertCharacterCountToIndexPosition",value:function(e){return Math.max(e,e-1)}},{key:"getElementSelection",value:function(e){var t,i={};try{t=this.isUndefined(e.selectionStart)}catch(e){t=!1}try{if(t){var n=window.getSelection().getRangeAt(0);i.start=n.startOffset,i.end=n.endOffset,i.length=i.end-i.start}else i.start=e.selectionStart,i.end=e.selectionEnd,i.length=i.end-i.start}catch(e){i.start=0,i.end=0,i.length=0}return i}},{key:"setElementSelection",value:function(e,t,i){var n=2<arguments.length&&void 0!==i?i:null;if(this.isUndefinedOrNullOrEmpty(n)&&(n=t),this.isInputElement(e))e.setSelectionRange(t,n);else if(!s.isNull(e.firstChild)){var a=document.createRange();a.setStart(e.firstChild,t),a.setEnd(e.firstChild,n);var r=window.getSelection();r.removeAllRanges(),r.addRange(a)}}},{key:"throwError",value:function(e){throw new Error(e)}},{key:"warning",value:function(e,t){1<arguments.length&&void 0!==t&&!t||console.warn("Warning: ".concat(e))}},{key:"isWheelUpEvent",value:function(e){return e.deltaY||this.throwError("The event passed as a parameter is not a valid wheel event, '".concat(e.type,"' given.")),e.deltaY<0}},{key:"isWheelDownEvent",value:function(e){return e.deltaY||this.throwError("The event passed as a parameter is not a valid wheel event, '".concat(e.type,"' given.")),0<e.deltaY}},{key:"forceDecimalPlaces",value:function(e,t){var i=h(String(e).split("."),2),n=i[0],a=i[1];return a?"".concat(n,".").concat(a.substr(0,t)):e}},{key:"roundToNearest",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:1e3;return 0===e?0:(0===i&&this.throwError("The `stepPlace` used to round is equal to `0`. This value must not be equal to zero."),Math.round(e/i)*i)}},{key:"modifyAndRoundToNearestAuto",value:function(e,t,i){e=Number(this.forceDecimalPlaces(e,i));var n=Math.abs(e);if(0<=n&&n<1){var a,r=Math.pow(10,-i);if(0===e)return t?r:-r;var s,o=i,l=this.indexFirstNonZeroDecimalPlace(e);return a=o-1<=l?r:Math.pow(10,-(l+1)),s=t?e+a:e-a,this.roundToNearest(s,a)}e=parseInt(e,10);var u,c=Math.abs(e).toString().length;switch(c){case 1:u=0;break;case 2:case 3:u=1;break;case 4:case 5:u=2;break;default:u=c-3}var h,m=Math.pow(10,u);return(h=t?e+m:e-m)<=10&&-10<=h?h:this.roundToNearest(h,m)}},{key:"addAndRoundToNearestAuto",value:function(e,t){return this.modifyAndRoundToNearestAuto(e,!0,t)}},{key:"subtractAndRoundToNearestAuto",value:function(e,t){return this.modifyAndRoundToNearestAuto(e,!1,t)}},{key:"arabicToLatinNumbers",value:function(e,t,i,n){var a=!(1<arguments.length&&void 0!==t)||t,r=2<arguments.length&&void 0!==i&&i,s=3<arguments.length&&void 0!==n&&n;if(this.isNull(e))return e;var o=e.toString();if(""===o)return e;if(null===o.match(/[٠١٢٣٤٥٦٧٨٩۴۵۶]/g))return a&&(o=Number(o)),o;r&&(o=o.replace(/٫/,".")),s&&(o=o.replace(/٬/g,"")),o=o.replace(/[٠١٢٣٤٥٦٧٨٩]/g,function(e){return e.charCodeAt(0)-1632}).replace(/[۰۱۲۳۴۵۶۷۸۹]/g,function(e){return e.charCodeAt(0)-1776});var l=Number(o);return isNaN(l)?l:(a&&(o=l),o)}},{key:"triggerEvent",value:function(e,t,i,n,a){var r,s=1<arguments.length&&void 0!==t?t:document,o=2<arguments.length&&void 0!==i?i:null,l=!(3<arguments.length&&void 0!==n)||n,u=!(4<arguments.length&&void 0!==a)||a;window.CustomEvent?r=new CustomEvent(e,{detail:o,bubbles:l,cancelable:u}):(r=document.createEvent("CustomEvent")).initCustomEvent(e,l,u,{detail:o}),s.dispatchEvent(r)}},{key:"parseStr",value:function(e){var t,i,n,a,r={};if(0===e&&1/e<0&&(e="-0"),e=e.toString(),this.isNegativeStrict(e,"-")?(e=e.slice(1),r.s=-1):r.s=1,-1<(t=e.indexOf("."))&&(e=e.replace(".","")),t<0&&(t=e.length),(i=-1===e.search(/[1-9]/i)?e.length:e.search(/[1-9]/i))===(n=e.length))r.e=0,r.c=[0];else{for(a=n-1;"0"===e.charAt(a);--a)--n;for(--n,r.e=t-i-1,r.c=[],t=0;i<=n;i+=1)r.c[t]=+e.charAt(i),t+=1}return r}},{key:"testMinMax",value:function(e,t){var i=t.c,n=e.c,a=t.s,r=e.s,s=t.e,o=e.e;if(!i[0]||!n[0])return i[0]?a:n[0]?-r:0;if(a!==r)return a;var l=a<0;if(s!==o)return o<s^l?1:-1;for(a=-1,r=(s=i.length)<(o=n.length)?s:o,a+=1;a<r;a+=1)if(i[a]!==n[a])return i[a]>n[a]^l?1:-1;return s===o?0:o<s^l?1:-1}},{key:"randomString",value:function(e){var t=0<arguments.length&&void 0!==e?e:5;return Math.random().toString(36).substr(2,t)}},{key:"domElement",value:function(e){return s.isString(e)?document.querySelector(e):e}},{key:"getElementValue",value:function(e){return"input"===e.tagName.toLowerCase()?e.value:this.text(e)}},{key:"setElementValue",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:null;"input"===e.tagName.toLowerCase()?e.value=i:e.textContent=i}},{key:"setInvalidState",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:"Invalid";""!==i&&!this.isNull(i)||this.throwError("Cannot set the invalid state with an empty message."),e.setCustomValidity(i)}},{key:"setValidState",value:function(e){e.setCustomValidity("")}},{key:"cloneObject",value:function(e){return r({},e)}},{key:"camelize",value:function(e,t,i,n){var a=1<arguments.length&&void 0!==t?t:"-",r=!(2<arguments.length&&void 0!==i)||i,s=!(3<arguments.length&&void 0!==n)||n;if(this.isNull(e))return null;r&&(e=e.replace(/^data-/,""));var o=e.split(a).map(function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))});return o=o.join(""),s&&(o="".concat(o.charAt(0).toLowerCase()).concat(o.slice(1))),o}},{key:"text",value:function(e){var t=e.nodeType;return t===Node.ELEMENT_NODE||t===Node.DOCUMENT_NODE||t===Node.DOCUMENT_FRAGMENT_NODE?e.textContent:t===Node.TEXT_NODE?e.nodeValue:""}},{key:"setText",value:function(e,t){var i=e.nodeType;i!==Node.ELEMENT_NODE&&i!==Node.DOCUMENT_NODE&&i!==Node.DOCUMENT_FRAGMENT_NODE||(e.textContent=t)}},{key:"filterOut",value:function(e,t){var i=this;return e.filter(function(e){return!i.isInArray(e,t)})}},{key:"trimPaddedZerosFromDecimalPlaces",value:function(e){if(""===(e=String(e)))return"";var t=h(e.split("."),2),i=t[0],n=t[1];if(this.isUndefinedOrNullOrEmpty(n))return i;var a=n.replace(/0+$/g,"");return""===a?i:"".concat(i,".").concat(a)}},{key:"getHoveredElement",value:function(){var e=a(document.querySelectorAll(":hover"));return e[e.length-1]}},{key:"arrayTrim",value:function(e,t){var i=e.length;return 0===i||i<t?e:t<0?[]:(e.length=parseInt(t,10),e)}},{key:"arrayUnique",value:function(){var e;return a(new Set((e=[]).concat.apply(e,arguments)))}},{key:"mergeMaps",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return new Map(t.reduce(function(e,t){return e.concat(a(t))},[]))}},{key:"objectKeyLookup",value:function(e,t){var i=Object.entries(e).find(function(e){return e[1]===t}),n=null;return void 0!==i&&(n=i[0]),n}},{key:"insertAt",value:function(e,t,i){if(i>(e=String(e)).length)throw new Error("The given index is out of the string range.");if(1!==t.length)throw new Error("The given string `char` should be only one character long.");return""===e&&0===i?t:"".concat(e.slice(0,i)).concat(t).concat(e.slice(i))}},{key:"scientificToDecimal",value:function(e){var t=Number(e);if(isNaN(t))return NaN;if(e=String(e),!this.contains(e,"e")&&!this.contains(e,"E"))return e;var i=h(e.split(/e/i),2),n=i[0],a=i[1],r=n<0;r&&(n=n.replace("-",""));var s=+a<0;s&&(a=a.replace("-",""));var o,l=h(n.split(/\./),2),u=l[0],c=l[1];return o=s?(o=u.length>a?this.insertAt(u,".",u.length-a):"0.".concat("0".repeat(a-u.length)).concat(u),"".concat(o).concat(c||"")):c?(n="".concat(u).concat(c),a<c.length?this.insertAt(n,".",+a+u.length):"".concat(n).concat("0".repeat(a-c.length))):(n=n.replace(".",""),"".concat(n).concat("0".repeat(Number(a)))),r&&(o="-".concat(o)),o}}]),s}(),u=function(){function t(e){if(function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),null===e)throw new Error("Invalid AST")}return function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,[{key:"evaluate",value:function(e){if(null==e)throw new Error("Invalid AST sub-tree");if("number"===e.type)return e.value;if("unaryMinus"===e.type)return-this.evaluate(e.left);var t=this.evaluate(e.left),i=this.evaluate(e.right);switch(e.type){case"op_+":return Number(t)+Number(i);case"op_-":return t-i;case"op_*":return t*i;case"op_/":return t/i;default:throw new Error("Invalid operator '".concat(e.type,"'"))}}}]),t}(),c=function(){function a(){!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this)}return function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(a,[{key:"createNode",value:function(e,t,i){var n=new a;return n.type=e,n.left=t,n.right=i,n}},{key:"createUnaryNode",value:function(e){var t=new a;return t.type="unaryMinus",t.left=e,t.right=null,t}},{key:"createLeaf",value:function(e){var t=new a;return t.type="number",t.value=e,t}}]),a}();function m(e,t,i){!function(e){if(!(e instanceof m))throw new TypeError("Cannot call a class as a function")}(this),this.type=e,this.value=t,this.symbol=i}var g=function(){function t(e){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.text=e,this.textLength=e.length,this.index=0,this.token=new m("Error",0,0)}return function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,[{key:"_skipSpaces",value:function(){for(;" "===this.text[this.index]&&this.index<=this.textLength;)this.index++}},{key:"getIndex",value:function(){return this.index}},{key:"getNextToken",value:function(e){var t=0<arguments.length&&void 0!==e?e:".";if(this._skipSpaces(),this.textLength===this.index)return this.token.type="EOT",this.token;if(M.isDigit(this.text[this.index]))return this.token.type="num",this.token.value=this._getNumber(t),this.token;switch(this.token.type="Error",this.text[this.index]){case"+":this.token.type="+";break;case"-":this.token.type="-";break;case"*":this.token.type="*";break;case"/":this.token.type="/";break;case"(":this.token.type="(";break;case")":this.token.type=")"}if("Error"===this.token.type)throw new Error("Unexpected token '".concat(this.token.symbol,"' at position '").concat(this.token.index,"' in the token function"));return this.token.symbol=this.text[this.index],this.index++,this.token}},{key:"_getNumber",value:function(e){this._skipSpaces();for(var t=this.index;this.index<=this.textLength&&M.isDigit(this.text[this.index]);)this.index++;for(this.text[this.index]===e&&this.index++;this.index<=this.textLength&&M.isDigit(this.text[this.index]);)this.index++;if(this.index===t)throw new Error("No number has been found while it was expected");return this.text.substring(t,this.index).replace(e,".")}}]),t}(),v=function(){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:".";return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),this.text=e,this.decimalCharacter=t,this.lexer=new g(e),this.token=this.lexer.getNextToken(this.decimalCharacter),this._exp()}return function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(i.prototype,[{key:"_exp",value:function(){var e=this._term(),t=this._moreExp();return c.createNode("op_+",e,t)}},{key:"_moreExp",value:function(){var e,t;switch(this.token.type){case"+":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._term(),t=this._moreExp(),c.createNode("op_+",t,e);case"-":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._term(),t=this._moreExp(),c.createNode("op_-",t,e)}return c.createLeaf(0)}},{key:"_term",value:function(){var e=this._factor(),t=this._moreTerms();return c.createNode("op_*",e,t)}},{key:"_moreTerms",value:function(){var e,t;switch(this.token.type){case"*":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._factor(),t=this._moreTerms(),c.createNode("op_*",t,e);case"/":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._factor(),t=this._moreTerms(),c.createNode("op_/",t,e)}return c.createLeaf(1)}},{key:"_factor",value:function(){var e,t,i;switch(this.token.type){case"num":return i=this.token.value,this.token=this.lexer.getNextToken(this.decimalCharacter),c.createLeaf(i);case"-":return this.token=this.lexer.getNextToken(this.decimalCharacter),t=this._factor(),c.createUnaryNode(t);case"(":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._exp(),this._match(")"),e;default:throw new Error("Unexpected token '".concat(this.token.symbol,"' with type '").concat(this.token.type,"' at position '").concat(this.token.index,"' in the factor function"))}}},{key:"_match",value:function(e){var t=this.lexer.getIndex()-1;if(this.text[t]!==e)throw new Error("Unexpected token '".concat(this.token.symbol,"' at position '").concat(t,"' in the match function"));this.token=this.lexer.getNextToken(this.decimalCharacter)}}]),i}();function p(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,a=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}return i}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return y(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var O,k=function(){function B(){var s=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;!function(e){if(!(e instanceof B))throw new TypeError("Cannot call a class as a function")}(this);var n=B._setArgumentsValues(e,t,i),a=n.domElement,r=n.initialValue,o=n.userOptions;if(this.domElement=a,this.defaultRawValue="",this._setSettings(o,!1),this._checkElement(),this.savedCancellableValue=null,this.historyTable=[],this.historyTableIndex=-1,this.onGoingRedo=!1,this.parentForm=this._getParentForm(),!this.runOnce&&this.settings.formatOnPageLoad)this._formatDefaultValueOnPageLoad(r);else{var l;if(M.isNull(r))switch(this.settings.emptyInputBehavior){case B.options.emptyInputBehavior.min:l=this.settings.minimumValue;break;case B.options.emptyInputBehavior.max:l=this.settings.maximumValue;break;case B.options.emptyInputBehavior.zero:l="0";break;case B.options.emptyInputBehavior.focus:case B.options.emptyInputBehavior.press:case B.options.emptyInputBehavior.always:case B.options.emptyInputBehavior.null:l="";break;default:l=this.settings.emptyInputBehavior}else l=r;this._setElementAndRawValue(l)}this.runOnce=!0,this.hasEventListeners=!1,(this.isInputElement||this.isContentEditable)&&(this.settings.noEventListeners||this._createEventListeners(),this._setWritePermissions(!0)),this._saveInitialValues(r),this.sessionStorageAvailable=this.constructor._storageTest(),this.storageNamePrefix="AUTO_",this._setPersistentStorageName(),this.validState=!0,this.isFocused=!1,this.isWheelEvent=!1,this.isDropEvent=!1,this.isEditing=!1,this.rawValueOnFocus=void 0,this.internalModification=!1,this.attributeToWatch=this._getAttributeToWatch(),this.getterSetter=Object.getOwnPropertyDescriptor(this.domElement.__proto__,this.attributeToWatch),this._addWatcher(),this.settings.createLocalList&&this._createLocalList(),this.constructor._addToGlobalList(this),this.global={set:function(t,e){var i=1<arguments.length&&void 0!==e?e:null;s.autoNumericLocalList.forEach(function(e){e.set(t,i)})},setUnformatted:function(t,e){var i=1<arguments.length&&void 0!==e?e:null;s.autoNumericLocalList.forEach(function(e){e.setUnformatted(t,i)})},get:function(e){var t=0<arguments.length&&void 0!==e?e:null,i=[];return s.autoNumericLocalList.forEach(function(e){i.push(e.get())}),s._executeCallback(i,t),i},getNumericString:function(e){var t=0<arguments.length&&void 0!==e?e:null,i=[];return s.autoNumericLocalList.forEach(function(e){i.push(e.getNumericString())}),s._executeCallback(i,t),i},getFormatted:function(e){var t=0<arguments.length&&void 0!==e?e:null,i=[];return s.autoNumericLocalList.forEach(function(e){i.push(e.getFormatted())}),s._executeCallback(i,t),i},getNumber:function(e){var t=0<arguments.length&&void 0!==e?e:null,i=[];return s.autoNumericLocalList.forEach(function(e){i.push(e.getNumber())}),s._executeCallback(i,t),i},getLocalized:function(e){var t=0<arguments.length&&void 0!==e?e:null,i=[];return s.autoNumericLocalList.forEach(function(e){i.push(e.getLocalized())}),s._executeCallback(i,t),i},reformat:function(){s.autoNumericLocalList.forEach(function(e){e.reformat()})},unformat:function(){s.autoNumericLocalList.forEach(function(e){e.unformat()})},unformatLocalized:function(e){var t=0<arguments.length&&void 0!==e?e:null;s.autoNumericLocalList.forEach(function(e){e.unformatLocalized(t)})},update:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];s.autoNumericLocalList.forEach(function(e){e.update.apply(e,t)})},isPristine:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],i=!0;return s.autoNumericLocalList.forEach(function(e){i&&!e.isPristine(t)&&(i=!1)}),i},clear:function(e){var t=0<arguments.length&&void 0!==e&&e;s.autoNumericLocalList.forEach(function(e){e.clear(t)})},remove:function(){s.autoNumericLocalList.forEach(function(e){e.remove()})},wipe:function(){s.autoNumericLocalList.forEach(function(e){e.wipe()})},nuke:function(){s.autoNumericLocalList.forEach(function(e){e.nuke()})},has:function(e){return e instanceof B?s.autoNumericLocalList.has(e.node()):s.autoNumericLocalList.has(e)},addObject:function(e){var t,i;i=e instanceof B?(t=e.node(),e):B.getAutoNumericElement(t=e),s._hasLocalList()||s._createLocalList();var n,a=i._getLocalList();0===a.size&&(i._createLocalList(),a=i._getLocalList()),(n=a instanceof Map?M.mergeMaps(s._getLocalList(),a):(s._addToLocalList(t,i),s._getLocalList())).forEach(function(e){e._setLocalList(n)})},removeObject:function(e,t){var i,n,a=1<arguments.length&&void 0!==t&&t;n=e instanceof B?(i=e.node(),e):B.getAutoNumericElement(i=e);var r=s.autoNumericLocalList;s.autoNumericLocalList.delete(i),r.forEach(function(e){e._setLocalList(s.autoNumericLocalList)}),a||i!==s.node()?n._createLocalList():n._setLocalList(new Map)},empty:function(e){var t=0<arguments.length&&void 0!==e&&e;s.autoNumericLocalList.forEach(function(e){t?e._createLocalList():e._setLocalList(new Map)})},elements:function(){var t=[];return s.autoNumericLocalList.forEach(function(e){t.push(e.node())}),t},getList:function(){return s.autoNumericLocalList},size:function(){return s.autoNumericLocalList.size}},this.options={reset:function(){return s.settings={rawValue:s.defaultRawValue},s.update(B.defaultSettings),s},allowDecimalPadding:function(e){return s.update({allowDecimalPadding:e}),s},alwaysAllowDecimalCharacter:function(e){return s.update({alwaysAllowDecimalCharacter:e}),s},caretPositionOnFocus:function(e){return s.settings.caretPositionOnFocus=e,s},createLocalList:function(e){return s.settings.createLocalList=e,s.settings.createLocalList?s._hasLocalList()||s._createLocalList():s._deleteLocalList(),s},currencySymbol:function(e){return s.update({currencySymbol:e}),s},currencySymbolPlacement:function(e){return s.update({currencySymbolPlacement:e}),s},decimalCharacter:function(e){return s.update({decimalCharacter:e}),s},decimalCharacterAlternative:function(e){return s.settings.decimalCharacterAlternative=e,s},decimalPlaces:function(e){return M.warning("Using `options.decimalPlaces()` instead of calling the specific `options.decimalPlacesRawValue()`, `options.decimalPlacesShownOnFocus()` and `options.decimalPlacesShownOnBlur()` methods will reset those options.\nPlease call the specific methods if you do not want to reset those.",s.settings.showWarnings),s.update({decimalPlaces:e}),s},decimalPlacesRawValue:function(e){return s.update({decimalPlacesRawValue:e}),s},decimalPlacesShownOnBlur:function(e){return s.update({decimalPlacesShownOnBlur:e}),s},decimalPlacesShownOnFocus:function(e){return s.update({decimalPlacesShownOnFocus:e}),s},defaultValueOverride:function(e){return s.update({defaultValueOverride:e}),s},digitalGroupSpacing:function(e){return s.update({digitalGroupSpacing:e}),s},digitGroupSeparator:function(e){return s.update({digitGroupSeparator:e}),s},divisorWhenUnfocused:function(e){return s.update({divisorWhenUnfocused:e}),s},emptyInputBehavior:function(e){return null===s.rawValue&&e!==B.options.emptyInputBehavior.null&&(M.warning("You are trying to modify the `emptyInputBehavior` option to something different than `'null'` (".concat(e,"), but the element raw value is currently set to `null`. This would result in an invalid `rawValue`. In order to fix that, the element value has been changed to the empty string `''`."),s.settings.showWarnings),s.rawValue=""),s.update({emptyInputBehavior:e}),s},eventBubbles:function(e){return s.settings.eventBubbles=e,s},eventIsCancelable:function(e){return s.settings.eventIsCancelable=e,s},failOnUnknownOption:function(e){return s.settings.failOnUnknownOption=e,s},formatOnPageLoad:function(e){return s.settings.formatOnPageLoad=e,s},formulaMode:function(e){return s.settings.formulaMode=e,s},historySize:function(e){return s.settings.historySize=e,s},invalidClass:function(e){return s.settings.invalidClass=e,s},isCancellable:function(e){return s.settings.isCancellable=e,s},leadingZero:function(e){return s.update({leadingZero:e}),s},maximumValue:function(e){return s.update({maximumValue:e}),s},minimumValue:function(e){return s.update({minimumValue:e}),s},modifyValueOnWheel:function(e){return s.settings.modifyValueOnWheel=e,s},negativeBracketsTypeOnBlur:function(e){return s.update({negativeBracketsTypeOnBlur:e}),s},negativePositiveSignPlacement:function(e){return s.update({negativePositiveSignPlacement:e}),s},negativeSignCharacter:function(e){return s.update({negativeSignCharacter:e}),s},noEventListeners:function(e){return e===B.options.noEventListeners.noEvents&&s.settings.noEventListeners===B.options.noEventListeners.addEvents&&s._removeEventListeners(),s.update({noEventListeners:e}),s},onInvalidPaste:function(e){return s.settings.onInvalidPaste=e,s},outputFormat:function(e){return s.settings.outputFormat=e,s},overrideMinMaxLimits:function(e){return s.update({overrideMinMaxLimits:e}),s},positiveSignCharacter:function(e){return s.update({positiveSignCharacter:e}),s},rawValueDivisor:function(e){return s.update({rawValueDivisor:e}),s},readOnly:function(e){return s.settings.readOnly=e,s._setWritePermissions(),s},roundingMethod:function(e){return s.update({roundingMethod:e}),s},saveValueToSessionStorage:function(e){return s.update({saveValueToSessionStorage:e}),s},symbolWhenUnfocused:function(e){return s.update({symbolWhenUnfocused:e}),s},selectNumberOnly:function(e){return s.settings.selectNumberOnly=e,s},selectOnFocus:function(e){return s.settings.selectOnFocus=e,s},serializeSpaces:function(e){return s.settings.serializeSpaces=e,s},showOnlyNumbersOnFocus:function(e){return s.update({showOnlyNumbersOnFocus:e}),s},showPositiveSign:function(e){return s.update({showPositiveSign:e}),s},showWarnings:function(e){return s.settings.showWarnings=e,s},styleRules:function(e){return s.update({styleRules:e}),s},suffixText:function(e){return s.update({suffixText:e}),s},unformatOnHover:function(e){return s.settings.unformatOnHover=e,s},unformatOnSubmit:function(e){return s.settings.unformatOnSubmit=e,s},valuesToStrings:function(e){return s.update({valuesToStrings:e}),s},watchExternalChanges:function(e){return s.update({watchExternalChanges:e}),s},wheelOn:function(e){return s.settings.wheelOn=e,s},wheelStep:function(e){return s.settings.wheelStep=e,s}},this._triggerEvent(B.events.initialized,this.domElement,{newValue:M.getElementValue(this.domElement),newRawValue:this.rawValue,error:null,aNElement:this})}var e,t;return t=[{key:"version",value:function(){return"4.6.0"}},{key:"_setArgumentsValues",value:function(e,t,i){M.isNull(e)&&M.throwError("At least one valid parameter is needed in order to initialize an AutoNumeric object");var n,a,r,s=M.isElement(e),o=M.isString(e),l=M.isObject(t),u=Array.isArray(t)&&0<t.length,c=M.isNumberOrArabic(t)||""===t,h=this._isPreDefinedOptionValid(t),m=M.isNull(t),g=M.isEmptyString(t),d=M.isObject(i),v=Array.isArray(i)&&0<i.length,p=M.isNull(i),f=this._isPreDefinedOptionValid(i);return s&&m&&p?(n=e,a=r=null):s&&c&&p?(n=e,r=t,a=null):s&&l&&p?(n=e,r=null,a=t):s&&h&&p?(n=e,r=null,a=this._getOptionObject(t)):s&&u&&p?(n=e,r=null,a=this.mergeOptions(t)):s&&(m||g)&&d?(n=e,r=null,a=i):s&&(m||g)&&v?(n=e,r=null,a=this.mergeOptions(i)):o&&m&&p?(n=document.querySelector(e),a=r=null):o&&l&&p?(n=document.querySelector(e),r=null,a=t):o&&h&&p?(n=document.querySelector(e),r=null,a=this._getOptionObject(t)):o&&u&&p?(n=document.querySelector(e),r=null,a=this.mergeOptions(t)):o&&(m||g)&&d?(n=document.querySelector(e),r=null,a=i):o&&(m||g)&&v?(n=document.querySelector(e),r=null,a=this.mergeOptions(i)):o&&c&&p?(n=document.querySelector(e),r=t,a=null):o&&c&&d?(n=document.querySelector(e),r=t,a=i):o&&c&&f?(n=document.querySelector(e),r=t,a=this._getOptionObject(i)):o&&c&&v?(n=document.querySelector(e),r=t,a=this.mergeOptions(i)):s&&c&&d?(n=e,r=t,a=i):s&&c&&f?(n=e,r=t,a=this._getOptionObject(i)):s&&c&&v?(n=e,r=t,a=this.mergeOptions(i)):M.throwError("The parameters given to the AutoNumeric object are not valid, '".concat(e,"', '").concat(t,"' and '").concat(i,"' given.")),M.isNull(n)&&M.throwError("The selector '".concat(e,"' did not select any valid DOM element. Please check on which element you called AutoNumeric.")),{domElement:n,initialValue:r,userOptions:a}}},{key:"mergeOptions",value:function(e){var t=this,i={};return e.forEach(function(e){b(i,t._getOptionObject(e))}),i}},{key:"_isPreDefinedOptionValid",value:function(e){return Object.prototype.hasOwnProperty.call(B.predefinedOptions,e)}},{key:"_getOptionObject",value:function(e){var t;return M.isString(e)?null==(t=B.getPredefinedOptions()[e])&&M.warning("The given pre-defined option [".concat(e,"] is not recognized by autoNumeric. Please check that pre-defined option name."),!0):t=e,t}},{key:"_doesFormHandlerListExists",value:function(){var e=w(window.aNFormHandlerMap);return"undefined"!==e&&"object"===e}},{key:"_createFormHandlerList",value:function(){window.aNFormHandlerMap=new Map}},{key:"_checkValuesToStringsArray",value:function(e,t){return M.isInArray(String(e),t)}},{key:"_checkValuesToStringsSettings",value:function(e,t){return this._checkValuesToStringsArray(e,Object.keys(t.valuesToStrings))}},{key:"_checkStringsToValuesSettings",value:function(e,t){return this._checkValuesToStringsArray(e,Object.values(t.valuesToStrings))}},{key:"_unformatAltHovered",value:function(e){e.hoveredWithAlt=!0,e.unformat()}},{key:"_reformatAltHovered",value:function(e){e.hoveredWithAlt=!1,e.reformat()}},{key:"_getChildANInputElement",value:function(e){var t=this,i=e.getElementsByTagName("input"),n=[];return Array.prototype.slice.call(i,0).forEach(function(e){t.test(e)&&n.push(e)}),n}},{key:"test",value:function(e){return this._isInGlobalList(M.domElement(e))}},{key:"_createWeakMap",value:function(e){window[e]=new WeakMap}},{key:"_createGlobalList",value:function(){this.autoNumericGlobalListName="autoNumericGlobalList",this._createWeakMap(this.autoNumericGlobalListName)}},{key:"_doesGlobalListExists",value:function(){var e=w(window[this.autoNumericGlobalListName]);return"undefined"!==e&&"object"===e}},{key:"_addToGlobalList",value:function(e){this._doesGlobalListExists()||this._createGlobalList();var t=e.node();if(this._isInGlobalList(t)){if(this._getFromGlobalList(t)===this)return;M.warning("A reference to the DOM element you just initialized already exists in the global AutoNumeric element list. Please make sure to not initialize the same DOM element multiple times.",e.getSettings().showWarnings)}window[this.autoNumericGlobalListName].set(t,e)}},{key:"_removeFromGlobalList",value:function(e){this._doesGlobalListExists()&&window[this.autoNumericGlobalListName].delete(e.node())}},{key:"_getFromGlobalList",value:function(e){return this._doesGlobalListExists()?window[this.autoNumericGlobalListName].get(e):null}},{key:"_isInGlobalList",value:function(e){return!!this._doesGlobalListExists()&&window[this.autoNumericGlobalListName].has(e)}},{key:"validate",value:function(e,t,i){var n=!(1<arguments.length&&void 0!==t)||t,a=2<arguments.length&&void 0!==i?i:null;!M.isUndefinedOrNullOrEmpty(e)&&M.isObject(e)||M.throwError("The userOptions are invalid ; it should be a valid object, [".concat(e,"] given."));var r,s=M.isObject(a);s||M.isNull(a)||M.throwError("The 'originalOptions' parameter is invalid ; it should either be a valid option object or `null`, [".concat(e,"] given.")),M.isNull(e)||this._convertOldOptionsToNewOnes(e),r=n?b({},this.getDefaultConfig(),e):e,M.isTrueOrFalseString(r.showWarnings)||M.isBoolean(r.showWarnings)||M.throwError("The debug option 'showWarnings' is invalid ; it should be either 'true' or 'false', [".concat(r.showWarnings,"] given."));var o,l=/^[0-9]+$/,u=/[0-9]+/,c=/^-?[0-9]+(\.?[0-9]+)?$/,h=/^[0-9]+(\.?[0-9]+)?$/;M.isTrueOrFalseString(r.allowDecimalPadding)||M.isBoolean(r.allowDecimalPadding)||r.allowDecimalPadding===B.options.allowDecimalPadding.floats||M.throwError("The decimal padding option 'allowDecimalPadding' is invalid ; it should either be `false`, `true` or `'floats'`, [".concat(r.allowDecimalPadding,"] given.")),r.allowDecimalPadding!==B.options.allowDecimalPadding.never&&"false"!==r.allowDecimalPadding||r.decimalPlaces===B.options.decimalPlaces.none&&r.decimalPlacesShownOnBlur===B.options.decimalPlacesShownOnBlur.none&&r.decimalPlacesShownOnFocus===B.options.decimalPlacesShownOnFocus.none||M.warning("Setting 'allowDecimalPadding' to [".concat(r.allowDecimalPadding,"] will override the current 'decimalPlaces*' settings [").concat(r.decimalPlaces,", ").concat(r.decimalPlacesShownOnBlur," and ").concat(r.decimalPlacesShownOnFocus,"]."),r.showWarnings),M.isTrueOrFalseString(r.alwaysAllowDecimalCharacter)||M.isBoolean(r.alwaysAllowDecimalCharacter)||M.throwError("The option 'alwaysAllowDecimalCharacter' is invalid ; it should either be `true` or `false`, [".concat(r.alwaysAllowDecimalCharacter,"] given.")),M.isNull(r.caretPositionOnFocus)||M.isInArray(r.caretPositionOnFocus,[B.options.caretPositionOnFocus.start,B.options.caretPositionOnFocus.end,B.options.caretPositionOnFocus.decimalLeft,B.options.caretPositionOnFocus.decimalRight])||M.throwError("The display on empty string option 'caretPositionOnFocus' is invalid ; it should either be `null`, 'focus', 'press', 'always' or 'zero', [".concat(r.caretPositionOnFocus,"] given.")),o=s?a:this._correctCaretPositionOnFocusAndSelectOnFocusOptions(e),M.isNull(o)||o.caretPositionOnFocus===B.options.caretPositionOnFocus.doNoForceCaretPosition||o.selectOnFocus!==B.options.selectOnFocus.select||M.warning("The 'selectOnFocus' option is set to 'select', which is in conflict with the 'caretPositionOnFocus' which is set to '".concat(o.caretPositionOnFocus,"'. As a result, if this has been called when instantiating an AutoNumeric object, the 'selectOnFocus' option is forced to 'doNotSelect'."),r.showWarnings),M.isInArray(r.digitGroupSeparator,[B.options.digitGroupSeparator.comma,B.options.digitGroupSeparator.dot,B.options.digitGroupSeparator.normalSpace,B.options.digitGroupSeparator.thinSpace,B.options.digitGroupSeparator.narrowNoBreakSpace,B.options.digitGroupSeparator.noBreakSpace,B.options.digitGroupSeparator.noSeparator,B.options.digitGroupSeparator.apostrophe,B.options.digitGroupSeparator.arabicThousandsSeparator,B.options.digitGroupSeparator.dotAbove,B.options.digitGroupSeparator.privateUseTwo])||M.throwError("The thousand separator character option 'digitGroupSeparator' is invalid ; it should be ',', '.', '٬', '˙', \"'\", '', ' ', ' ', ' ', ' ' or empty (''), [".concat(r.digitGroupSeparator,"] given.")),M.isTrueOrFalseString(r.showOnlyNumbersOnFocus)||M.isBoolean(r.showOnlyNumbersOnFocus)||M.throwError("The 'showOnlyNumbersOnFocus' option is invalid ; it should be either 'true' or 'false', [".concat(r.showOnlyNumbersOnFocus,"] given.")),M.isInArray(r.digitalGroupSpacing,[B.options.digitalGroupSpacing.two,B.options.digitalGroupSpacing.twoScaled,B.options.digitalGroupSpacing.three,B.options.digitalGroupSpacing.four])||2<=r.digitalGroupSpacing&&r.digitalGroupSpacing<=4||M.throwError("The grouping separator option for thousands 'digitalGroupSpacing' is invalid ; it should be '2', '2s', '3', or '4', [".concat(r.digitalGroupSpacing,"] given.")),M.isInArray(r.decimalCharacter,[B.options.decimalCharacter.comma,B.options.decimalCharacter.dot,B.options.decimalCharacter.middleDot,B.options.decimalCharacter.arabicDecimalSeparator,B.options.decimalCharacter.decimalSeparatorKeySymbol])||M.throwError("The decimal separator character option 'decimalCharacter' is invalid ; it should be '.', ',', '·', '⎖' or '٫', [".concat(r.decimalCharacter,"] given.")),r.decimalCharacter===r.digitGroupSeparator&&M.throwError("autoNumeric will not function properly when the decimal character 'decimalCharacter' [".concat(r.decimalCharacter,"] and the thousand separator 'digitGroupSeparator' [").concat(r.digitGroupSeparator,"] are the same character.")),M.isNull(r.decimalCharacterAlternative)||M.isString(r.decimalCharacterAlternative)||M.throwError("The alternate decimal separator character option 'decimalCharacterAlternative' is invalid ; it should be a string, [".concat(r.decimalCharacterAlternative,"] given.")),""===r.currencySymbol||M.isString(r.currencySymbol)||M.throwError("The currency symbol option 'currencySymbol' is invalid ; it should be a string, [".concat(r.currencySymbol,"] given.")),M.isInArray(r.currencySymbolPlacement,[B.options.currencySymbolPlacement.prefix,B.options.currencySymbolPlacement.suffix])||M.throwError("The placement of the currency sign option 'currencySymbolPlacement' is invalid ; it should either be 'p' (prefix) or 's' (suffix), [".concat(r.currencySymbolPlacement,"] given.")),M.isInArray(r.negativePositiveSignPlacement,[B.options.negativePositiveSignPlacement.prefix,B.options.negativePositiveSignPlacement.suffix,B.options.negativePositiveSignPlacement.left,B.options.negativePositiveSignPlacement.right,B.options.negativePositiveSignPlacement.none])||M.throwError("The placement of the negative sign option 'negativePositiveSignPlacement' is invalid ; it should either be 'p' (prefix), 's' (suffix), 'l' (left), 'r' (right) or 'null', [".concat(r.negativePositiveSignPlacement,"] given.")),M.isTrueOrFalseString(r.showPositiveSign)||M.isBoolean(r.showPositiveSign)||M.throwError("The show positive sign option 'showPositiveSign' is invalid ; it should be either 'true' or 'false', [".concat(r.showPositiveSign,"] given.")),M.isString(r.suffixText)&&(""===r.suffixText||!M.isNegative(r.suffixText,r.negativeSignCharacter)&&!u.test(r.suffixText))||M.throwError("The additional suffix option 'suffixText' is invalid ; it should not contains the negative sign '".concat(r.negativeSignCharacter,"' nor any numerical characters, [").concat(r.suffixText,"] given.")),M.isString(r.negativeSignCharacter)&&1===r.negativeSignCharacter.length&&!M.isUndefinedOrNullOrEmpty(r.negativeSignCharacter)&&!u.test(r.negativeSignCharacter)||M.throwError("The negative sign character option 'negativeSignCharacter' is invalid ; it should be a single character, and cannot be any numerical characters, [".concat(r.negativeSignCharacter,"] given.")),M.isString(r.positiveSignCharacter)&&1===r.positiveSignCharacter.length&&!M.isUndefinedOrNullOrEmpty(r.positiveSignCharacter)&&!u.test(r.positiveSignCharacter)||M.throwError("The positive sign character option 'positiveSignCharacter' is invalid ; it should be a single character, and cannot be any numerical characters, [".concat(r.positiveSignCharacter,"] given.\nIf you want to hide the positive sign character, you need to set the `showPositiveSign` option to `true`.")),r.negativeSignCharacter===r.positiveSignCharacter&&M.throwError("The positive 'positiveSignCharacter' and negative 'negativeSignCharacter' sign characters cannot be identical ; [".concat(r.negativeSignCharacter,"] given."));var m=S(M.isNull(r.negativeBracketsTypeOnBlur)?["",""]:r.negativeBracketsTypeOnBlur.split(","),2),g=m[0],d=m[1];(M.contains(r.digitGroupSeparator,r.negativeSignCharacter)||M.contains(r.decimalCharacter,r.negativeSignCharacter)||M.contains(r.decimalCharacterAlternative,r.negativeSignCharacter)||M.contains(g,r.negativeSignCharacter)||M.contains(d,r.negativeSignCharacter)||M.contains(r.suffixText,r.negativeSignCharacter))&&M.throwError("The negative sign character option 'negativeSignCharacter' is invalid ; it should not be equal or a part of the digit separator, the decimal character, the decimal character alternative, the negative brackets or the suffix text, [".concat(r.negativeSignCharacter,"] given.")),(M.contains(r.digitGroupSeparator,r.positiveSignCharacter)||M.contains(r.decimalCharacter,r.positiveSignCharacter)||M.contains(r.decimalCharacterAlternative,r.positiveSignCharacter)||M.contains(g,r.positiveSignCharacter)||M.contains(d,r.positiveSignCharacter)||M.contains(r.suffixText,r.positiveSignCharacter))&&M.throwError("The positive sign character option 'positiveSignCharacter' is invalid ; it should not be equal or a part of the digit separator, the decimal character, the decimal character alternative, the negative brackets or the suffix text, [".concat(r.positiveSignCharacter,"] given.")),M.isNull(r.overrideMinMaxLimits)||M.isInArray(r.overrideMinMaxLimits,[B.options.overrideMinMaxLimits.ceiling,B.options.overrideMinMaxLimits.floor,B.options.overrideMinMaxLimits.ignore,B.options.overrideMinMaxLimits.invalid])||M.throwError("The override min & max limits option 'overrideMinMaxLimits' is invalid ; it should either be 'ceiling', 'floor', 'ignore' or 'invalid', [".concat(r.overrideMinMaxLimits,"] given.")),r.overrideMinMaxLimits!==B.options.overrideMinMaxLimits.invalid&&r.overrideMinMaxLimits!==B.options.overrideMinMaxLimits.ignore&&(0<r.minimumValue||r.maximumValue<0)&&M.warning("You've set a `minimumValue` or a `maximumValue` excluding the value `0`. AutoNumeric will force the users to always have a valid value in the input, hence preventing them to clear the field. If you want to allow for temporary invalid values (ie. out-of-range), you should use the 'invalid' option for the 'overrideMinMaxLimits' setting."),M.isString(r.maximumValue)&&c.test(r.maximumValue)||M.throwError("The maximum possible value option 'maximumValue' is invalid ; it should be a string that represents a positive or negative number, [".concat(r.maximumValue,"] given.")),M.isString(r.minimumValue)&&c.test(r.minimumValue)||M.throwError("The minimum possible value option 'minimumValue' is invalid ; it should be a string that represents a positive or negative number, [".concat(r.minimumValue,"] given.")),parseFloat(r.minimumValue)>parseFloat(r.maximumValue)&&M.throwError("The minimum possible value option is greater than the maximum possible value option ; 'minimumValue' [".concat(r.minimumValue,"] should be smaller than 'maximumValue' [").concat(r.maximumValue,"].")),M.isInt(r.decimalPlaces)&&0<=r.decimalPlaces||M.isString(r.decimalPlaces)&&l.test(r.decimalPlaces)||M.throwError("The number of decimal places option 'decimalPlaces' is invalid ; it should be a positive integer, [".concat(r.decimalPlaces,"] given.")),M.isNull(r.decimalPlacesRawValue)||M.isInt(r.decimalPlacesRawValue)&&0<=r.decimalPlacesRawValue||M.isString(r.decimalPlacesRawValue)&&l.test(r.decimalPlacesRawValue)||M.throwError("The number of decimal places for the raw value option 'decimalPlacesRawValue' is invalid ; it should be a positive integer or `null`, [".concat(r.decimalPlacesRawValue,"] given.")),this._validateDecimalPlacesRawValue(r),M.isNull(r.decimalPlacesShownOnFocus)||l.test(String(r.decimalPlacesShownOnFocus))||M.throwError("The number of expanded decimal places option 'decimalPlacesShownOnFocus' is invalid ; it should be a positive integer or `null`, [".concat(r.decimalPlacesShownOnFocus,"] given.")),!M.isNull(r.decimalPlacesShownOnFocus)&&Number(r.decimalPlaces)>Number(r.decimalPlacesShownOnFocus)&&M.warning("The extended decimal places 'decimalPlacesShownOnFocus' [".concat(r.decimalPlacesShownOnFocus,"] should be greater than the 'decimalPlaces' [").concat(r.decimalPlaces,"] value. Currently, this will limit the ability of your user to manually change some of the decimal places. Do you really want to do that?"),r.showWarnings),(M.isNull(r.divisorWhenUnfocused)||h.test(r.divisorWhenUnfocused))&&0!==r.divisorWhenUnfocused&&"0"!==r.divisorWhenUnfocused&&1!==r.divisorWhenUnfocused&&"1"!==r.divisorWhenUnfocused||M.throwError("The divisor option 'divisorWhenUnfocused' is invalid ; it should be a positive number higher than one, preferably an integer, [".concat(r.divisorWhenUnfocused,"] given.")),M.isNull(r.decimalPlacesShownOnBlur)||l.test(r.decimalPlacesShownOnBlur)||M.throwError("The number of decimals shown when unfocused option 'decimalPlacesShownOnBlur' is invalid ; it should be a positive integer or `null`, [".concat(r.decimalPlacesShownOnBlur,"] given.")),M.isNull(r.symbolWhenUnfocused)||M.isString(r.symbolWhenUnfocused)||M.throwError("The symbol to show when unfocused option 'symbolWhenUnfocused' is invalid ; it should be a string, [".concat(r.symbolWhenUnfocused,"] given.")),M.isTrueOrFalseString(r.saveValueToSessionStorage)||M.isBoolean(r.saveValueToSessionStorage)||M.throwError("The save to session storage option 'saveValueToSessionStorage' is invalid ; it should be either 'true' or 'false', [".concat(r.saveValueToSessionStorage,"] given.")),M.isInArray(r.onInvalidPaste,[B.options.onInvalidPaste.error,B.options.onInvalidPaste.ignore,B.options.onInvalidPaste.clamp,B.options.onInvalidPaste.truncate,B.options.onInvalidPaste.replace])||M.throwError("The paste behavior option 'onInvalidPaste' is invalid ; it should either be 'error', 'ignore', 'clamp', 'truncate' or 'replace' (cf. documentation), [".concat(r.onInvalidPaste,"] given.")),M.isInArray(r.roundingMethod,[B.options.roundingMethod.halfUpSymmetric,B.options.roundingMethod.halfUpAsymmetric,B.options.roundingMethod.halfDownSymmetric,B.options.roundingMethod.halfDownAsymmetric,B.options.roundingMethod.halfEvenBankersRounding,B.options.roundingMethod.upRoundAwayFromZero,B.options.roundingMethod.downRoundTowardZero,B.options.roundingMethod.toCeilingTowardPositiveInfinity,B.options.roundingMethod.toFloorTowardNegativeInfinity,B.options.roundingMethod.toNearest05,B.options.roundingMethod.toNearest05Alt,B.options.roundingMethod.upToNext05,B.options.roundingMethod.downToNext05])||M.throwError("The rounding method option 'roundingMethod' is invalid ; it should either be 'S', 'A', 's', 'a', 'B', 'U', 'D', 'C', 'F', 'N05', 'CHF', 'U05' or 'D05' (cf. documentation), [".concat(r.roundingMethod,"] given.")),M.isNull(r.negativeBracketsTypeOnBlur)||M.isInArray(r.negativeBracketsTypeOnBlur,[B.options.negativeBracketsTypeOnBlur.parentheses,B.options.negativeBracketsTypeOnBlur.brackets,B.options.negativeBracketsTypeOnBlur.chevrons,B.options.negativeBracketsTypeOnBlur.curlyBraces,B.options.negativeBracketsTypeOnBlur.angleBrackets,B.options.negativeBracketsTypeOnBlur.japaneseQuotationMarks,B.options.negativeBracketsTypeOnBlur.halfBrackets,B.options.negativeBracketsTypeOnBlur.whiteSquareBrackets,B.options.negativeBracketsTypeOnBlur.quotationMarks,B.options.negativeBracketsTypeOnBlur.guillemets])||M.throwError("The brackets for negative values option 'negativeBracketsTypeOnBlur' is invalid ; it should either be '(,)', '[,]', '<,>', '{,}', '〈,〉', '｢,｣', '⸤,⸥', '⟦,⟧', '‹,›' or '«,»', [".concat(r.negativeBracketsTypeOnBlur,"] given.")),(M.isString(r.emptyInputBehavior)||M.isNumber(r.emptyInputBehavior))&&(M.isInArray(r.emptyInputBehavior,[B.options.emptyInputBehavior.focus,B.options.emptyInputBehavior.press,B.options.emptyInputBehavior.always,B.options.emptyInputBehavior.min,B.options.emptyInputBehavior.max,B.options.emptyInputBehavior.zero,B.options.emptyInputBehavior.null])||c.test(r.emptyInputBehavior))||M.throwError("The display on empty string option 'emptyInputBehavior' is invalid ; it should either be 'focus', 'press', 'always', 'min', 'max', 'zero', 'null', a number, or a string that represents a number, [".concat(r.emptyInputBehavior,"] given.")),r.emptyInputBehavior===B.options.emptyInputBehavior.zero&&(0<r.minimumValue||r.maximumValue<0)&&M.throwError("The 'emptyInputBehavior' option is set to 'zero', but this value is outside of the range defined by 'minimumValue' and 'maximumValue' [".concat(r.minimumValue,", ").concat(r.maximumValue,"].")),c.test(String(r.emptyInputBehavior))&&(this._isWithinRangeWithOverrideOption(r.emptyInputBehavior,r)||M.throwError("The 'emptyInputBehavior' option is set to a number or a string that represents a number, but its value [".concat(r.emptyInputBehavior,"] is outside of the range defined by the 'minimumValue' and 'maximumValue' options [").concat(r.minimumValue,", ").concat(r.maximumValue,"]."))),M.isTrueOrFalseString(r.eventBubbles)||M.isBoolean(r.eventBubbles)||M.throwError("The event bubbles option 'eventBubbles' is invalid ; it should be either 'true' or 'false', [".concat(r.eventBubbles,"] given.")),M.isTrueOrFalseString(r.eventIsCancelable)||M.isBoolean(r.eventIsCancelable)||M.throwError("The event is cancelable option 'eventIsCancelable' is invalid ; it should be either 'true' or 'false', [".concat(r.eventIsCancelable,"] given.")),!M.isBoolean(r.invalidClass)&&/^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$/.test(r.invalidClass)||M.throwError("The name of the 'invalidClass' option is not a valid CSS class name ; it should not be empty, and should follow the '^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$' regex, [".concat(r.invalidClass,"] given.")),M.isInArray(r.leadingZero,[B.options.leadingZero.allow,B.options.leadingZero.deny,B.options.leadingZero.keep])||M.throwError("The leading zero behavior option 'leadingZero' is invalid ; it should either be 'allow', 'deny' or 'keep', [".concat(r.leadingZero,"] given.")),M.isTrueOrFalseString(r.formatOnPageLoad)||M.isBoolean(r.formatOnPageLoad)||M.throwError("The format on initialization option 'formatOnPageLoad' is invalid ; it should be either 'true' or 'false', [".concat(r.formatOnPageLoad,"] given.")),M.isTrueOrFalseString(r.formulaMode)||M.isBoolean(r.formulaMode)||M.throwError("The formula mode option 'formulaMode' is invalid ; it should be either 'true' or 'false', [".concat(r.formulaMode,"] given.")),l.test(r.historySize)&&0!==r.historySize||M.throwError("The history size option 'historySize' is invalid ; it should be a positive integer, [".concat(r.historySize,"] given.")),M.isTrueOrFalseString(r.selectNumberOnly)||M.isBoolean(r.selectNumberOnly)||M.throwError("The select number only option 'selectNumberOnly' is invalid ; it should be either 'true' or 'false', [".concat(r.selectNumberOnly,"] given.")),M.isTrueOrFalseString(r.selectOnFocus)||M.isBoolean(r.selectOnFocus)||M.throwError("The select on focus option 'selectOnFocus' is invalid ; it should be either 'true' or 'false', [".concat(r.selectOnFocus,"] given.")),M.isNull(r.defaultValueOverride)||""===r.defaultValueOverride||c.test(r.defaultValueOverride)||M.throwError("The unformatted default value option 'defaultValueOverride' is invalid ; it should be a string that represents a positive or negative number, [".concat(r.defaultValueOverride,"] given.")),M.isTrueOrFalseString(r.unformatOnSubmit)||M.isBoolean(r.unformatOnSubmit)||M.throwError("The remove formatting on submit option 'unformatOnSubmit' is invalid ; it should be either 'true' or 'false', [".concat(r.unformatOnSubmit,"] given.")),M.isNull(r.valuesToStrings)||M.isObject(r.valuesToStrings)||M.throwError("The option 'valuesToStrings' is invalid ; it should be an object, ideally with 'key -> value' entries, [".concat(r.valuesToStrings,"] given.")),M.isNull(r.outputFormat)||M.isInArray(r.outputFormat,[B.options.outputFormat.string,B.options.outputFormat.number,B.options.outputFormat.dot,B.options.outputFormat.negativeDot,B.options.outputFormat.comma,B.options.outputFormat.negativeComma,B.options.outputFormat.dotNegative,B.options.outputFormat.commaNegative])||M.throwError("The custom locale format option 'outputFormat' is invalid ; it should either be null, 'string', 'number', '.', '-.', ',', '-,', '.-' or ',-', [".concat(r.outputFormat,"] given.")),M.isTrueOrFalseString(r.isCancellable)||M.isBoolean(r.isCancellable)||M.throwError("The cancellable behavior option 'isCancellable' is invalid ; it should be either 'true' or 'false', [".concat(r.isCancellable,"] given.")),M.isTrueOrFalseString(r.modifyValueOnWheel)||M.isBoolean(r.modifyValueOnWheel)||M.throwError("The increment/decrement on mouse wheel option 'modifyValueOnWheel' is invalid ; it should be either 'true' or 'false', [".concat(r.modifyValueOnWheel,"] given.")),M.isTrueOrFalseString(r.watchExternalChanges)||M.isBoolean(r.watchExternalChanges)||M.throwError("The option 'watchExternalChanges' is invalid ; it should be either 'true' or 'false', [".concat(r.watchExternalChanges,"] given.")),M.isInArray(r.wheelOn,[B.options.wheelOn.focus,B.options.wheelOn.hover])||M.throwError("The wheel behavior option 'wheelOn' is invalid ; it should either be 'focus' or 'hover', [".concat(r.wheelOn,"] given.")),(M.isString(r.wheelStep)||M.isNumber(r.wheelStep))&&("progressive"===r.wheelStep||h.test(r.wheelStep))&&0!==Number(r.wheelStep)||M.throwError("The wheel step value option 'wheelStep' is invalid ; it should either be the string 'progressive', or a number or a string that represents a positive number (excluding zero), [".concat(r.wheelStep,"] given.")),M.isInArray(r.serializeSpaces,[B.options.serializeSpaces.plus,B.options.serializeSpaces.percent])||M.throwError("The space replacement character option 'serializeSpaces' is invalid ; it should either be '+' or '%20', [".concat(r.serializeSpaces,"] given.")),M.isTrueOrFalseString(r.noEventListeners)||M.isBoolean(r.noEventListeners)||M.throwError("The option 'noEventListeners' that prevent the creation of event listeners is invalid ; it should be either 'true' or 'false', [".concat(r.noEventListeners,"] given.")),M.isNull(r.styleRules)||M.isObject(r.styleRules)&&(Object.prototype.hasOwnProperty.call(r.styleRules,"positive")||Object.prototype.hasOwnProperty.call(r.styleRules,"negative")||Object.prototype.hasOwnProperty.call(r.styleRules,"ranges")||Object.prototype.hasOwnProperty.call(r.styleRules,"userDefined"))||M.throwError("The option 'styleRules' is invalid ; it should be a correctly structured object, with one or more 'positive', 'negative', 'ranges' or 'userDefined' attributes, [".concat(r.styleRules,"] given.")),M.isNull(r.styleRules)||!Object.prototype.hasOwnProperty.call(r.styleRules,"userDefined")||M.isNull(r.styleRules.userDefined)||r.styleRules.userDefined.forEach(function(e){Object.prototype.hasOwnProperty.call(e,"callback")&&!M.isFunction(e.callback)&&M.throwError("The callback defined in the `userDefined` attribute is not a function, ".concat(w(e.callback)," given."))}),(M.isNull(r.rawValueDivisor)||h.test(r.rawValueDivisor))&&0!==r.rawValueDivisor&&"0"!==r.rawValueDivisor&&1!==r.rawValueDivisor&&"1"!==r.rawValueDivisor||M.throwError("The raw value divisor option 'rawValueDivisor' is invalid ; it should be a positive number higher than one, preferably an integer, [".concat(r.rawValueDivisor,"] given.")),M.isTrueOrFalseString(r.readOnly)||M.isBoolean(r.readOnly)||M.throwError("The option 'readOnly' is invalid ; it should be either 'true' or 'false', [".concat(r.readOnly,"] given.")),M.isTrueOrFalseString(r.unformatOnHover)||M.isBoolean(r.unformatOnHover)||M.throwError("The option 'unformatOnHover' is invalid ; it should be either 'true' or 'false', [".concat(r.unformatOnHover,"] given.")),M.isTrueOrFalseString(r.failOnUnknownOption)||M.isBoolean(r.failOnUnknownOption)||M.throwError("The debug option 'failOnUnknownOption' is invalid ; it should be either 'true' or 'false', [".concat(r.failOnUnknownOption,"] given.")),M.isTrueOrFalseString(r.createLocalList)||M.isBoolean(r.createLocalList)||M.throwError("The debug option 'createLocalList' is invalid ; it should be either 'true' or 'false', [".concat(r.createLocalList,"] given."))}},{key:"_validateDecimalPlacesRawValue",value:function(e){M.isNull(e.decimalPlacesRawValue)||(e.decimalPlacesRawValue<e.decimalPlaces&&M.warning("The number of decimal places to store in the raw value [".concat(e.decimalPlacesRawValue,"] is lower than the ones to display [").concat(e.decimalPlaces,"]. This will likely confuse your users.\nTo solve that, you'd need to either set `decimalPlacesRawValue` to `null`, or set a number of decimal places for the raw value equal of bigger than `decimalPlaces`."),e.showWarnings),e.decimalPlacesRawValue<e.decimalPlacesShownOnFocus&&M.warning("The number of decimal places to store in the raw value [".concat(e.decimalPlacesRawValue,"] is lower than the ones shown on focus [").concat(e.decimalPlacesShownOnFocus,"]. This will likely confuse your users.\nTo solve that, you'd need to either set `decimalPlacesRawValue` to `null`, or set a number of decimal places for the raw value equal of bigger than `decimalPlacesShownOnFocus`."),e.showWarnings),e.decimalPlacesRawValue<e.decimalPlacesShownOnBlur&&M.warning("The number of decimal places to store in the raw value [".concat(e.decimalPlacesRawValue,"] is lower than the ones shown when unfocused [").concat(e.decimalPlacesShownOnBlur,"]. This will likely confuse your users.\nTo solve that, you'd need to either set `decimalPlacesRawValue` to `null`, or set a number of decimal places for the raw value equal of bigger than `decimalPlacesShownOnBlur`."),e.showWarnings))}},{key:"areSettingsValid",value:function(e){var t=!0;try{this.validate(e,!0)}catch(e){t=!1}return t}},{key:"getDefaultConfig",value:function(){return B.defaultSettings}},{key:"getPredefinedOptions",value:function(){return B.predefinedOptions}},{key:"_generateOptionsObjectFromOptionsArray",value:function(e){var t,i=this;return M.isUndefinedOrNullOrEmpty(e)||0===e.length?t=null:(t={},1===e.length&&Array.isArray(e[0])?e[0].forEach(function(e){b(t,i._getOptionObject(e))}):1<=e.length&&e.forEach(function(e){b(t,i._getOptionObject(e))})),t}},{key:"format",value:function(e){if(M.isUndefined(e)||null===e)return null;var t;t=M.isElement(e)?M.getElementValue(e):e,M.isString(t)||M.isNumber(t)||M.throwError('The value "'.concat(t,'" being "set" is not numeric and therefore cannot be used appropriately.'));for(var i=arguments.length,n=new Array(1<i?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];var r=this._generateOptionsObjectFromOptionsArray(n),s=b({},this.getDefaultConfig(),r);s.isNegativeSignAllowed=t<0,s.isPositiveSignAllowed=0<=t,this._setBrackets(s),this._cachesUsualRegularExpressions(s,{});var o=this._toNumericValue(t,s);return isNaN(Number(o))&&M.throwError("The value [".concat(o,"] that you are trying to format is not a recognized number.")),this._isWithinRangeWithOverrideOption(o,s)||(M.triggerEvent(B.events.formatted,document,{oldValue:null,newValue:null,oldRawValue:null,newRawValue:null,isPristine:null,error:"Range test failed",aNElement:null},!0,!0),M.throwError("The value [".concat(o,"] being set falls outside of the minimumValue [").concat(s.minimumValue,"] and maximumValue [").concat(s.maximumValue,"] range set for this element"))),s.valuesToStrings&&this._checkValuesToStringsSettings(t,s)?s.valuesToStrings[t]:(this._correctNegativePositiveSignPlacementOption(s),this._calculateDecimalPlacesOnInit(s),M.isUndefinedOrNullOrEmpty(s.rawValueDivisor)||0===s.rawValueDivisor||""===o||null===o||(o*=s.rawValueDivisor),o=this._roundFormattedValueShownOnFocus(o,s),o=this._modifyNegativeSignAndDecimalCharacterForFormattedValue(o,s),o=this._addGroupSeparators(o,s,!1,o))}},{key:"formatAndSet",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:null,n=this.format(e,i);return M.setElementValue(e,n),n}},{key:"unformat",value:function(e){if(M.isNumberStrict(e))return e;var t;if(""===(t=M.isElement(e)?M.getElementValue(e):e))return"";if(M.isUndefined(t)||null===t)return null;(M.isArray(t)||M.isObject(t))&&M.throwError("A number or a string representing a number is needed to be able to unformat it, [".concat(t,"] given."));for(var i=arguments.length,n=new Array(1<i?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];var r=this._generateOptionsObjectFromOptionsArray(n),s=b({},this.getDefaultConfig(),r);if(s.isNegativeSignAllowed=!1,s.isPositiveSignAllowed=!0,t=t.toString(),s.valuesToStrings&&this._checkStringsToValuesSettings(t,s))return M.objectKeyLookup(s.valuesToStrings,t);if(M.isNegative(t,s.negativeSignCharacter))s.isNegativeSignAllowed=!0,s.isPositiveSignAllowed=!1;else if(!M.isNull(s.negativeBracketsTypeOnBlur)){var o=S(s.negativeBracketsTypeOnBlur.split(","),2);s.firstBracket=o[0],s.lastBracket=o[1],t.charAt(0)===s.firstBracket&&t.charAt(t.length-1)===s.lastBracket&&(s.isNegativeSignAllowed=!0,s.isPositiveSignAllowed=!1,t=this._removeBrackets(t,s,!1))}return t=this._convertToNumericString(t,s),new RegExp("[^+-0123456789.]","gi").test(t)?NaN:(this._correctNegativePositiveSignPlacementOption(s),s.decimalPlacesRawValue?s.originalDecimalPlacesRawValue=s.decimalPlacesRawValue:s.originalDecimalPlacesRawValue=s.decimalPlaces,this._calculateDecimalPlacesOnInit(s),M.isUndefinedOrNullOrEmpty(s.rawValueDivisor)||0===s.rawValueDivisor||""===t||null===t||(t/=s.rawValueDivisor),t=(t=this._roundRawValue(t,s)).replace(s.decimalCharacter,"."),t=this._toLocale(t,s.outputFormat,s))}},{key:"unformatAndSet",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:null,n=this.unformat(e,i);return M.setElementValue(e,n),n}},{key:"localize",value:function(e,t){var i,n,a=1<arguments.length&&void 0!==t?t:null;return""===(i=M.isElement(e)?M.getElementValue(e):e)?"":(M.isNull(a)&&(a=B.defaultSettings),i=this.unformat(i,a),0===Number(i)&&a.leadingZero!==B.options.leadingZero.keep&&(i="0"),n=M.isNull(a)?a.outputFormat:B.defaultSettings.outputFormat,this._toLocale(i,n,a))}},{key:"localizeAndSet",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:null,n=this.localize(e,i);return M.setElementValue(e,n),n}},{key:"isManagedByAutoNumeric",value:function(e){return this._isInGlobalList(M.domElement(e))}},{key:"getAutoNumericElement",value:function(e){var t=M.domElement(e);return this.isManagedByAutoNumeric(t)?this._getFromGlobalList(t):null}},{key:"set",value:function(e,t,i,n){var a,r=2<arguments.length&&void 0!==i?i:null,s=!(3<arguments.length&&void 0!==n)||n,o=M.domElement(e);return this.isManagedByAutoNumeric(o)?this.getAutoNumericElement(o).set(t,r,s):(a=!(!M.isNull(r)&&Object.prototype.hasOwnProperty.call(r,"showWarnings"))||r.showWarnings,M.warning("Impossible to find an AutoNumeric object for the given DOM element or selector.",a),null)}},{key:"getNumericString",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:null;return this._get(e,"getNumericString",i)}},{key:"getFormatted",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:null;return this._get(e,"getFormatted",i)}},{key:"getNumber",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:null;return this._get(e,"getNumber",i)}},{key:"_get",value:function(e,t,i){var n=2<arguments.length&&void 0!==i?i:null,a=M.domElement(e);return this.isManagedByAutoNumeric(a)||M.throwError("Impossible to find an AutoNumeric object for the given DOM element or selector."),this.getAutoNumericElement(a)[t](n)}},{key:"getLocalized",value:function(e,t,i){var n=1<arguments.length&&void 0!==t?t:null,a=2<arguments.length&&void 0!==i?i:null,r=M.domElement(e);return this.isManagedByAutoNumeric(r)||M.throwError("Impossible to find an AutoNumeric object for the given DOM element or selector."),this.getAutoNumericElement(r).getLocalized(n,a)}},{key:"_stripAllNonNumberCharacters",value:function(e,t,i,n){return this._stripAllNonNumberCharactersExceptCustomDecimalChar(e,t,i,n).replace(t.decimalCharacter,".")}},{key:"_stripAllNonNumberCharactersExceptCustomDecimalChar",value:function(e,t,i,n){var a=(e=(e=this._normalizeCurrencySuffixAndNegativeSignCharacters(e,t)).replace(t.allowedAutoStrip,"")).match(t.numRegAutoStrip);if(e=a?[a[1],a[2],a[3]].join(""):"",t.leadingZero===B.options.leadingZero.allow||t.leadingZero===B.options.leadingZero.keep){var r="",s=S(e.split(t.decimalCharacter),2),o=s[0],l=s[1],u=o;M.contains(u,t.negativeSignCharacter)&&(r=t.negativeSignCharacter,u=u.replace(t.negativeSignCharacter,"")),""===r&&u.length>t.mIntPos&&"0"===u.charAt(0)&&(u=u.slice(1)),""!==r&&u.length>t.mIntNeg&&"0"===u.charAt(0)&&(u=u.slice(1)),e="".concat(r).concat(u).concat(M.isUndefined(l)?"":t.decimalCharacter+l)}return(i&&t.leadingZero===B.options.leadingZero.deny||!n&&t.leadingZero===B.options.leadingZero.allow)&&(e=e.replace(t.stripReg,"$1$2")),e}},{key:"_toggleNegativeBracket",value:function(e,t,i){return i?this._removeBrackets(e,t):this._addBrackets(e,t)}},{key:"_addBrackets",value:function(e,t){return M.isNull(t.negativeBracketsTypeOnBlur)?e:"".concat(t.firstBracket).concat(e.replace(t.negativeSignCharacter,"")).concat(t.lastBracket)}},{key:"_removeBrackets",value:function(e,t,i){var n,a=!(2<arguments.length&&void 0!==i)||i;return M.isNull(t.negativeBracketsTypeOnBlur)||e.charAt(0)!==t.firstBracket?e:(n=(n=e.replace(t.firstBracket,"")).replace(t.lastBracket,""),a?(n=n.replace(t.currencySymbol,""),this._mergeCurrencySignNegativePositiveSignAndValue(n,t,!0,!1)):"".concat(t.negativeSignCharacter).concat(n))}},{key:"_setBrackets",value:function(e){if(M.isNull(e.negativeBracketsTypeOnBlur))e.firstBracket="",e.lastBracket="";else{var t=S(e.negativeBracketsTypeOnBlur.split(","),2),i=t[0],n=t[1];e.firstBracket=i,e.lastBracket=n}}},{key:"_convertToNumericString",value:function(e,t){e=this._removeBrackets(e,t,!1),e=(e=this._normalizeCurrencySuffixAndNegativeSignCharacters(e,t)).replace(new RegExp("[".concat(t.digitGroupSeparator,"]"),"g"),""),"."!==t.decimalCharacter&&(e=e.replace(t.decimalCharacter,".")),M.isNegative(e)&&e.lastIndexOf("-")===e.length-1&&(e=e.replace("-",""),e="-".concat(e)),t.showPositiveSign&&(e=e.replace(t.positiveSignCharacter,""));var i=t.leadingZero!==B.options.leadingZero.keep,n=M.arabicToLatinNumbers(e,i,!1,!1);return isNaN(n)||(e=n.toString()),e}},{key:"_normalizeCurrencySuffixAndNegativeSignCharacters",value:function(e,t){return e=String(e),t.currencySymbol!==B.options.currencySymbol.none&&(e=e.replace(t.currencySymbol,"")),t.suffixText!==B.options.suffixText.none&&(e=e.replace(t.suffixText,"")),t.negativeSignCharacter!==B.options.negativeSignCharacter.hyphen&&(e=e.replace(t.negativeSignCharacter,"-")),e}},{key:"_toLocale",value:function(e,t,i){if(M.isNull(t)||t===B.options.outputFormat.string)return e;var n;switch(t){case B.options.outputFormat.number:n=Number(e);break;case B.options.outputFormat.dotNegative:n=M.isNegative(e)?e.replace("-","")+"-":e;break;case B.options.outputFormat.comma:case B.options.outputFormat.negativeComma:n=e.replace(".",",");break;case B.options.outputFormat.commaNegative:n=e.replace(".",","),n=M.isNegative(n)?n.replace("-","")+"-":n;break;case B.options.outputFormat.dot:case B.options.outputFormat.negativeDot:n=e;break;default:M.throwError("The given outputFormat [".concat(t,"] option is not recognized."))}return t!==B.options.outputFormat.number&&"-"!==i.negativeSignCharacter&&(n=n.replace("-",i.negativeSignCharacter)),n}},{key:"_modifyNegativeSignAndDecimalCharacterForFormattedValue",value:function(e,t){return"-"!==t.negativeSignCharacter&&(e=e.replace("-",t.negativeSignCharacter)),"."!==t.decimalCharacter&&(e=e.replace(".",t.decimalCharacter)),e}},{key:"_isElementValueEmptyOrOnlyTheNegativeSign",value:function(e,t){return""===e||e===t.negativeSignCharacter}},{key:"_orderValueCurrencySymbolAndSuffixText",value:function(e,t,i){var n;if(t.emptyInputBehavior===B.options.emptyInputBehavior.always||i)switch(t.negativePositiveSignPlacement){case B.options.negativePositiveSignPlacement.left:case B.options.negativePositiveSignPlacement.prefix:case B.options.negativePositiveSignPlacement.none:n=e+t.currencySymbol+t.suffixText;break;default:n=t.currencySymbol+e+t.suffixText}else n=e;return n}},{key:"_addGroupSeparators",value:function(e,t,i,n,a){var r,s=4<arguments.length&&void 0!==a?a:null;if(r=M.isNull(s)?M.isNegative(e,t.negativeSignCharacter)||M.isNegativeWithBrackets(e,t.firstBracket,t.lastBracket):s<0,e=this._stripAllNonNumberCharactersExceptCustomDecimalChar(e,t,!1,i),this._isElementValueEmptyOrOnlyTheNegativeSign(e,t))return this._orderValueCurrencySymbolAndSuffixText(e,t,!0);var o,l=M.isZeroOrHasNoValue(e);switch(r&&(e=e.replace("-","")),t.digitalGroupSpacing=t.digitalGroupSpacing.toString(),t.digitalGroupSpacing){case B.options.digitalGroupSpacing.two:o=/(\d)((\d)(\d{2}?)+)$/;break;case B.options.digitalGroupSpacing.twoScaled:o=/(\d)((?:\d{2}){0,2}\d{3}(?:(?:\d{2}){2}\d{3})*?)$/;break;case B.options.digitalGroupSpacing.four:o=/(\d)((\d{4}?)+)$/;break;case B.options.digitalGroupSpacing.three:default:o=/(\d)((\d{3}?)+)$/}var u,c=S(e.split(t.decimalCharacter),2),h=c[0],m=c[1];if(t.decimalCharacterAlternative&&M.isUndefined(m)){var g=S(e.split(t.decimalCharacterAlternative),2);h=g[0],m=g[1]}if(""!==t.digitGroupSeparator)for(;o.test(h);)h=h.replace(o,"$1".concat(t.digitGroupSeparator,"$2"));return e=0===(u=i?t.decimalPlacesShownOnFocus:t.decimalPlacesShownOnBlur)||M.isUndefined(m)?h:(m.length>u&&(m=m.substring(0,u)),"".concat(h).concat(t.decimalCharacter).concat(m)),e=B._mergeCurrencySignNegativePositiveSignAndValue(e,t,r,l),M.isNull(s)&&(s=n),null!==t.negativeBracketsTypeOnBlur&&(s<0||M.isNegativeStrict(e,t.negativeSignCharacter))&&(e=this._toggleNegativeBracket(e,t,i)),t.suffixText?"".concat(e).concat(t.suffixText):e}},{key:"_mergeCurrencySignNegativePositiveSignAndValue",value:function(e,t,i,n){var a,r="";if(i?r=t.negativeSignCharacter:t.showPositiveSign&&!n&&(r=t.positiveSignCharacter),t.currencySymbolPlacement===B.options.currencySymbolPlacement.prefix)if(t.negativePositiveSignPlacement!==B.options.negativePositiveSignPlacement.none&&(i||!i&&t.showPositiveSign&&!n))switch(t.negativePositiveSignPlacement){case B.options.negativePositiveSignPlacement.prefix:case B.options.negativePositiveSignPlacement.left:a="".concat(r).concat(t.currencySymbol).concat(e);break;case B.options.negativePositiveSignPlacement.right:a="".concat(t.currencySymbol).concat(r).concat(e);break;case B.options.negativePositiveSignPlacement.suffix:a="".concat(t.currencySymbol).concat(e).concat(r)}else a=t.currencySymbol+e;else if(t.currencySymbolPlacement===B.options.currencySymbolPlacement.suffix)if(t.negativePositiveSignPlacement!==B.options.negativePositiveSignPlacement.none&&(i||!i&&t.showPositiveSign&&!n))switch(t.negativePositiveSignPlacement){case B.options.negativePositiveSignPlacement.suffix:case B.options.negativePositiveSignPlacement.right:a="".concat(e).concat(t.currencySymbol).concat(r);break;case B.options.negativePositiveSignPlacement.left:a="".concat(e).concat(r).concat(t.currencySymbol);break;case B.options.negativePositiveSignPlacement.prefix:a="".concat(r).concat(e).concat(t.currencySymbol)}else a=e+t.currencySymbol;return a}},{key:"_truncateZeros",value:function(e,t){var i;switch(t){case 0:i=/(\.(?:\d*[1-9])?)0*$/;break;case 1:i=/(\.\d(?:\d*[1-9])?)0*$/;break;default:i=new RegExp("(\\.\\d{".concat(t,"}(?:\\d*[1-9])?)0*"))}return e=e.replace(i,"$1"),0===t&&(e=e.replace(/\.$/,"")),e}},{key:"_roundRawValue",value:function(e,t){return this._roundValue(e,t,t.decimalPlacesRawValue)}},{key:"_roundFormattedValueShownOnFocus",value:function(e,t){return this._roundValue(e,t,Number(t.decimalPlacesShownOnFocus))}},{key:"_roundFormattedValueShownOnBlur",value:function(e,t){return this._roundValue(e,t,Number(t.decimalPlacesShownOnBlur))}},{key:"_roundFormattedValueShownOnFocusOrBlur",value:function(e,t,i){return i?this._roundFormattedValueShownOnFocus(e,t):this._roundFormattedValueShownOnBlur(e,t)}},{key:"_roundValue",value:function(e,t,i){if(M.isNull(e))return e;if(e=""===e?"0":e.toString(),t.roundingMethod===B.options.roundingMethod.toNearest05||t.roundingMethod===B.options.roundingMethod.toNearest05Alt||t.roundingMethod===B.options.roundingMethod.upToNext05||t.roundingMethod===B.options.roundingMethod.downToNext05)return this._roundCloseTo05(e,t);var n,a=S(B._prepareValueForRounding(e,t),2),r=a[0],s=(e=a[1]).lastIndexOf("."),o=-1===s,l=S(e.split("."),2),u=l[0];if(!(0<l[1]||t.allowDecimalPadding!==B.options.allowDecimalPadding.never&&t.allowDecimalPadding!==B.options.allowDecimalPadding.floats))return 0===Number(e)?u:"".concat(r).concat(u);n=t.allowDecimalPadding===B.options.allowDecimalPadding.always||t.allowDecimalPadding===B.options.allowDecimalPadding.floats?i:0;var c,h=o?e.length-1:s,m=e.length-1-h,g="";if(m<=i){if(g=e,m<n){o&&(g="".concat(g).concat(t.decimalCharacter));for(var d="000000";m<n;)g+=d=d.substring(0,n-m),m+=d.length}else n<m?g=this._truncateZeros(g,n):0===m&&0===n&&(g=g.replace(/\.$/,""));return 0===Number(g)?g:"".concat(r).concat(g)}c=o?i-1:Number(i)+Number(s);var v,p=Number(e.charAt(c+1)),f=e.substring(0,c+1).split("");if(v="."===e.charAt(c)?e.charAt(c-1)%2:e.charAt(c)%2,this._shouldRoundUp(p,t,r,v))for(var y=f.length-1;0<=y;--y)if("."!==f[y]){if(f[y]=+f[y]+1,f[y]<10)break;0<y&&(f[y]="0")}return f=f.slice(0,c+1),g=this._truncateZeros(f.join(""),n),0===Number(g)?g:"".concat(r).concat(g)}},{key:"_roundCloseTo05",value:function(e,t){switch(t.roundingMethod){case B.options.roundingMethod.toNearest05:case B.options.roundingMethod.toNearest05Alt:e=(Math.round(20*e)/20).toString();break;case B.options.roundingMethod.upToNext05:e=(Math.ceil(20*e)/20).toString();break;default:e=(Math.floor(20*e)/20).toString()}return M.contains(e,".")?e.length-e.indexOf(".")<3?e+"0":e:e+".00"}},{key:"_prepareValueForRounding",value:function(e,t){var i="";return M.isNegativeStrict(e,"-")&&(i="-",e=e.replace("-","")),e.match(/^\d/)||(e="0".concat(e)),0===Number(e)&&(i=""),(0<Number(e)&&t.leadingZero!==B.options.leadingZero.keep||0<e.length&&t.leadingZero===B.options.leadingZero.allow)&&(e=e.replace(/^0*(\d)/,"$1")),[i,e]}},{key:"_shouldRoundUp",value:function(e,t,i,n){return 4<e&&t.roundingMethod===B.options.roundingMethod.halfUpSymmetric||4<e&&t.roundingMethod===B.options.roundingMethod.halfUpAsymmetric&&""===i||5<e&&t.roundingMethod===B.options.roundingMethod.halfUpAsymmetric&&"-"===i||5<e&&t.roundingMethod===B.options.roundingMethod.halfDownSymmetric||5<e&&t.roundingMethod===B.options.roundingMethod.halfDownAsymmetric&&""===i||4<e&&t.roundingMethod===B.options.roundingMethod.halfDownAsymmetric&&"-"===i||5<e&&t.roundingMethod===B.options.roundingMethod.halfEvenBankersRounding||5===e&&t.roundingMethod===B.options.roundingMethod.halfEvenBankersRounding&&1===n||0<e&&t.roundingMethod===B.options.roundingMethod.toCeilingTowardPositiveInfinity&&""===i||0<e&&t.roundingMethod===B.options.roundingMethod.toFloorTowardNegativeInfinity&&"-"===i||0<e&&t.roundingMethod===B.options.roundingMethod.upRoundAwayFromZero}},{key:"_truncateDecimalPlaces",value:function(e,t,i,n){i&&(e=this._roundFormattedValueShownOnFocus(e,t));var a=S(e.split(t.decimalCharacter),2),r=a[0],s=a[1];if(s&&s.length>n)if(0<n){var o=s.substring(0,n);e="".concat(r).concat(t.decimalCharacter).concat(o)}else e=r;return e}},{key:"_checkIfInRangeWithOverrideOption",value:function(e,t){if(M.isNull(e)&&t.emptyInputBehavior===B.options.emptyInputBehavior.null||t.overrideMinMaxLimits===B.options.overrideMinMaxLimits.ignore||t.overrideMinMaxLimits===B.options.overrideMinMaxLimits.invalid)return[!0,!0];e=(e=e.toString()).replace(",",".");var i,n=M.parseStr(t.minimumValue),a=M.parseStr(t.maximumValue),r=M.parseStr(e);switch(t.overrideMinMaxLimits){case B.options.overrideMinMaxLimits.floor:i=[-1<M.testMinMax(n,r),!0];break;case B.options.overrideMinMaxLimits.ceiling:i=[!0,M.testMinMax(a,r)<1];break;default:i=[-1<M.testMinMax(n,r),M.testMinMax(a,r)<1]}return i}},{key:"_isWithinRangeWithOverrideOption",value:function(e,t){var i=S(this._checkIfInRangeWithOverrideOption(e,t),2),n=i[0],a=i[1];return n&&a}},{key:"_cleanValueForRangeParse",value:function(e){return e=e.toString().replace(",","."),M.parseStr(e)}},{key:"_isMinimumRangeRespected",value:function(e,t){return-1<M.testMinMax(M.parseStr(t.minimumValue),this._cleanValueForRangeParse(e))}},{key:"_isMaximumRangeRespected",value:function(e,t){return M.testMinMax(M.parseStr(t.maximumValue),this._cleanValueForRangeParse(e))<1}},{key:"_readCookie",value:function(e){for(var t=e+"=",i=document.cookie.split(";"),n="",a=0;a<i.length;a+=1){for(n=i[a];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return null}},{key:"_storageTest",value:function(){var e="modernizr";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return!1}}},{key:"_correctNegativePositiveSignPlacementOption",value:function(e){if(M.isNull(e.negativePositiveSignPlacement))if(M.isUndefined(e)||!M.isUndefinedOrNullOrEmpty(e.negativePositiveSignPlacement)||M.isUndefinedOrNullOrEmpty(e.currencySymbol))e.negativePositiveSignPlacement=B.options.negativePositiveSignPlacement.left;else switch(e.currencySymbolPlacement){case B.options.currencySymbolPlacement.suffix:e.negativePositiveSignPlacement=B.options.negativePositiveSignPlacement.prefix;break;case B.options.currencySymbolPlacement.prefix:e.negativePositiveSignPlacement=B.options.negativePositiveSignPlacement.left}}},{key:"_correctCaretPositionOnFocusAndSelectOnFocusOptions",value:function(e){return M.isNull(e)?null:(!M.isUndefinedOrNullOrEmpty(e.caretPositionOnFocus)&&M.isUndefinedOrNullOrEmpty(e.selectOnFocus)&&(e.selectOnFocus=B.options.selectOnFocus.doNotSelect),M.isUndefinedOrNullOrEmpty(e.caretPositionOnFocus)&&!M.isUndefinedOrNullOrEmpty(e.selectOnFocus)&&e.selectOnFocus===B.options.selectOnFocus.select&&(e.caretPositionOnFocus=B.options.caretPositionOnFocus.doNoForceCaretPosition),e)}},{key:"_calculateDecimalPlacesOnInit",value:function(e){this._validateDecimalPlacesRawValue(e),e.decimalPlacesShownOnFocus===B.options.decimalPlacesShownOnFocus.useDefault&&(e.decimalPlacesShownOnFocus=e.decimalPlaces),e.decimalPlacesShownOnBlur===B.options.decimalPlacesShownOnBlur.useDefault&&(e.decimalPlacesShownOnBlur=e.decimalPlaces),e.decimalPlacesRawValue===B.options.decimalPlacesRawValue.useDefault&&(e.decimalPlacesRawValue=e.decimalPlaces);var t=0;e.rawValueDivisor&&e.rawValueDivisor!==B.options.rawValueDivisor.none&&(t=String(e.rawValueDivisor).length-1)<0&&(t=0),e.decimalPlacesRawValue=Math.max(Math.max(e.decimalPlacesShownOnBlur,e.decimalPlacesShownOnFocus)+t,Number(e.originalDecimalPlacesRawValue)+t)}},{key:"_calculateDecimalPlacesOnUpdate",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:null;this._validateDecimalPlacesRawValue(e),M.isNull(i)&&M.throwError("When updating the settings, the previous ones should be passed as an argument.");var n="decimalPlaces"in e;if(n||"decimalPlacesRawValue"in e||"decimalPlacesShownOnFocus"in e||"decimalPlacesShownOnBlur"in e||"rawValueDivisor"in e){n?("decimalPlacesShownOnFocus"in e&&e.decimalPlacesShownOnFocus!==B.options.decimalPlacesShownOnFocus.useDefault||(e.decimalPlacesShownOnFocus=e.decimalPlaces),"decimalPlacesShownOnBlur"in e&&e.decimalPlacesShownOnBlur!==B.options.decimalPlacesShownOnBlur.useDefault||(e.decimalPlacesShownOnBlur=e.decimalPlaces),"decimalPlacesRawValue"in e&&e.decimalPlacesRawValue!==B.options.decimalPlacesRawValue.useDefault||(e.decimalPlacesRawValue=e.decimalPlaces)):(M.isUndefined(e.decimalPlacesShownOnFocus)&&(e.decimalPlacesShownOnFocus=i.decimalPlacesShownOnFocus),M.isUndefined(e.decimalPlacesShownOnBlur)&&(e.decimalPlacesShownOnBlur=i.decimalPlacesShownOnBlur));var a=0;e.rawValueDivisor&&e.rawValueDivisor!==B.options.rawValueDivisor.none&&(a=String(e.rawValueDivisor).length-1)<0&&(a=0),e.decimalPlaces||e.decimalPlacesRawValue?e.decimalPlacesRawValue=Math.max(Math.max(e.decimalPlacesShownOnBlur,e.decimalPlacesShownOnFocus)+a,Number(e.decimalPlacesRawValue)+a):e.decimalPlacesRawValue=Math.max(Math.max(e.decimalPlacesShownOnBlur,e.decimalPlacesShownOnFocus)+a,Number(i.originalDecimalPlacesRawValue)+a)}}},{key:"_cachesUsualRegularExpressions",value:function(e,t){var i;i=e.negativeSignCharacter!==B.options.negativeSignCharacter.hyphen?"([-\\".concat(e.negativeSignCharacter,"]?)"):"(-?)",t.aNegRegAutoStrip=i,e.allowedAutoStrip=new RegExp("[^-0123456789\\".concat(e.decimalCharacter,"]"),"g"),e.numRegAutoStrip=new RegExp("".concat(i,"(?:\\").concat(e.decimalCharacter,"?([0-9]+\\").concat(e.decimalCharacter,"[0-9]+)|([0-9]*(?:\\").concat(e.decimalCharacter,"[0-9]*)?))")),e.stripReg=new RegExp("^".concat(t.aNegRegAutoStrip,"0*([0-9])")),e.formulaChars=new RegExp("[0-9".concat(e.decimalCharacter,"+\\-*/() ]"))}},{key:"_convertOldOptionsToNewOnes",value:function(e){var t={aSep:"digitGroupSeparator",nSep:"showOnlyNumbersOnFocus",dGroup:"digitalGroupSpacing",aDec:"decimalCharacter",altDec:"decimalCharacterAlternative",aSign:"currencySymbol",pSign:"currencySymbolPlacement",pNeg:"negativePositiveSignPlacement",aSuffix:"suffixText",oLimits:"overrideMinMaxLimits",vMax:"maximumValue",vMin:"minimumValue",mDec:"decimalPlacesOverride",eDec:"decimalPlacesShownOnFocus",scaleDecimal:"decimalPlacesShownOnBlur",aStor:"saveValueToSessionStorage",mRound:"roundingMethod",aPad:"allowDecimalPadding",nBracket:"negativeBracketsTypeOnBlur",wEmpty:"emptyInputBehavior",lZero:"leadingZero",aForm:"formatOnPageLoad",sNumber:"selectNumberOnly",anDefault:"defaultValueOverride",unSetOnSubmit:"unformatOnSubmit",outputType:"outputFormat",debug:"showWarnings",allowDecimalPadding:!0,alwaysAllowDecimalCharacter:!0,caretPositionOnFocus:!0,createLocalList:!0,currencySymbol:!0,currencySymbolPlacement:!0,decimalCharacter:!0,decimalCharacterAlternative:!0,decimalPlaces:!0,decimalPlacesRawValue:!0,decimalPlacesShownOnBlur:!0,decimalPlacesShownOnFocus:!0,defaultValueOverride:!0,digitalGroupSpacing:!0,digitGroupSeparator:!0,divisorWhenUnfocused:!0,emptyInputBehavior:!0,eventBubbles:!0,eventIsCancelable:!0,failOnUnknownOption:!0,formatOnPageLoad:!0,formulaMode:!0,historySize:!0,isCancellable:!0,leadingZero:!0,maximumValue:!0,minimumValue:!0,modifyValueOnWheel:!0,negativeBracketsTypeOnBlur:!0,negativePositiveSignPlacement:!0,negativeSignCharacter:!0,noEventListeners:!0,onInvalidPaste:!0,outputFormat:!0,overrideMinMaxLimits:!0,positiveSignCharacter:!0,rawValueDivisor:!0,readOnly:!0,roundingMethod:!0,saveValueToSessionStorage:!0,selectNumberOnly:!0,selectOnFocus:!0,serializeSpaces:!0,showOnlyNumbersOnFocus:!0,showPositiveSign:!0,showWarnings:!0,styleRules:!0,suffixText:!0,symbolWhenUnfocused:!0,unformatOnHover:!0,unformatOnSubmit:!0,valuesToStrings:!0,watchExternalChanges:!0,wheelOn:!0,wheelStep:!0,allowedAutoStrip:!0,formulaChars:!0,isNegativeSignAllowed:!0,isPositiveSignAllowed:!0,mIntNeg:!0,mIntPos:!0,numRegAutoStrip:!0,originalDecimalPlaces:!0,originalDecimalPlacesRawValue:!0,stripReg:!0};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(!0===t[i])continue;Object.prototype.hasOwnProperty.call(t,i)?(M.warning("You are using the deprecated option name '".concat(i,"'. Please use '").concat(t[i],"' instead from now on. The old option name will be dropped very soon™."),!0),e[t[i]]=e[i],delete e[i]):e.failOnUnknownOption&&M.throwError("Option name '".concat(i,"' is unknown. Please fix the options passed to autoNumeric"))}"mDec"in e&&M.warning("The old `mDec` option has been deprecated in favor of more accurate options ; `decimalPlaces`, `decimalPlacesRawValue`, `decimalPlacesShownOnFocus` and `decimalPlacesShownOnBlur`.",!0)}},{key:"_setNegativePositiveSignPermissions",value:function(e){e.isNegativeSignAllowed=e.minimumValue<0,e.isPositiveSignAllowed=0<=e.maximumValue}},{key:"_toNumericValue",value:function(e,t){var i;return M.isNumber(Number(e))?i=M.scientificToDecimal(e):(i=this._convertToNumericString(e.toString(),t),M.isNumber(Number(i))||(M.warning('The given value "'.concat(e,'" cannot be converted to a numeric one and therefore cannot be used appropriately.'),t.showWarnings),i=NaN)),i}},{key:"_checkIfInRange",value:function(e,t,i){var n=M.parseStr(e);return-1<M.testMinMax(t,n)&&M.testMinMax(i,n)<1}},{key:"_shouldSkipEventKey",value:function(e){var t=M.isInArray(e,d.keyName._allFnKeys),i=e===d.keyName.OSLeft||e===d.keyName.OSRight,n=e===d.keyName.ContextMenu,a=M.isInArray(e,d.keyName._someNonPrintableKeys),r=e===d.keyName.NumLock||e===d.keyName.ScrollLock||e===d.keyName.Insert||e===d.keyName.Command,s=e===d.keyName.Unidentified;return t||i||n||a||s||r}},{key:"_serialize",value:function(e,t,i,n,a){var r,s=this,o=1<arguments.length&&void 0!==t&&t,l=2<arguments.length&&void 0!==i?i:"unformatted",u=3<arguments.length&&void 0!==n?n:"+",c=4<arguments.length&&void 0!==a?a:null,h=[];return"object"===w(e)&&"form"===e.nodeName.toLowerCase()&&Array.prototype.slice.call(e.elements).forEach(function(t){if(t.name&&!t.disabled&&-1===["file","reset","submit","button"].indexOf(t.type))if("select-multiple"===t.type)Array.prototype.slice.call(t.options).forEach(function(e){e.selected&&(o?h.push({name:t.name,value:e.value}):h.push("".concat(encodeURIComponent(t.name),"=").concat(encodeURIComponent(e.value))))});else if(-1===["checkbox","radio"].indexOf(t.type)||t.checked){var e,i;if(s.isManagedByAutoNumeric(t))switch(l){case"unformatted":i=s.getAutoNumericElement(t),M.isNull(i)||(e=s.unformat(t,i.getSettings()));break;case"localized":if(i=s.getAutoNumericElement(t),!M.isNull(i)){var n=M.cloneObject(i.getSettings());M.isNull(c)||(n.outputFormat=c),e=s.localize(t,n)}break;case"formatted":default:e=t.value}else e=t.value;M.isUndefined(e)&&M.throwError("This error should never be hit. If it has, something really wrong happened!"),o?h.push({name:t.name,value:e}):h.push("".concat(encodeURIComponent(t.name),"=").concat(encodeURIComponent(e)))}}),o?r=h:(r=h.join("&"),"+"===u&&(r=r.replace(/%20/g,"+"))),r}},{key:"_serializeNumericString",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:"+";return this._serialize(e,!1,"unformatted",i)}},{key:"_serializeFormatted",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:"+";return this._serialize(e,!1,"formatted",i)}},{key:"_serializeLocalized",value:function(e,t,i){var n=1<arguments.length&&void 0!==t?t:"+",a=2<arguments.length&&void 0!==i?i:null;return this._serialize(e,!1,"localized",n,a)}},{key:"_serializeNumericStringArray",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:"+";return this._serialize(e,!0,"unformatted",i)}},{key:"_serializeFormattedArray",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:"+";return this._serialize(e,!0,"formatted",i)}},{key:"_serializeLocalizedArray",value:function(e,t,i){var n=1<arguments.length&&void 0!==t?t:"+",a=2<arguments.length&&void 0!==i?i:null;return this._serialize(e,!0,"localized",n,a)}}],P((e=B).prototype,[{key:"_saveInitialValues",value:function(e){this.initialValueHtmlAttribute=M.scientificToDecimal(this.domElement.getAttribute("value")),M.isNull(this.initialValueHtmlAttribute)&&(this.initialValueHtmlAttribute=""),this.initialValue=e,M.isNull(this.initialValue)&&(this.initialValue="")}},{key:"_createEventListeners",value:function(){var t=this;this.formulaMode=!1,this._onFocusInFunc=function(e){t._onFocusIn(e)},this._onFocusInAndMouseEnterFunc=function(e){t._onFocusInAndMouseEnter(e)},this._onFocusFunc=function(){t._onFocus()},this._onKeydownFunc=function(e){t._onKeydown(e)},this._onKeypressFunc=function(e){t._onKeypress(e)},this._onKeyupFunc=function(e){t._onKeyup(e)},this._onFocusOutAndMouseLeaveFunc=function(e){t._onFocusOutAndMouseLeave(e)},this._onPasteFunc=function(e){t._onPaste(e)},this._onWheelFunc=function(e){t._onWheel(e)},this._onDropFunc=function(e){t._onDrop(e)},this._onKeydownGlobalFunc=function(e){t._onKeydownGlobal(e)},this._onKeyupGlobalFunc=function(e){t._onKeyupGlobal(e)},this.domElement.addEventListener("focusin",this._onFocusInFunc,!1),this.domElement.addEventListener("focus",this._onFocusInAndMouseEnterFunc,!1),this.domElement.addEventListener("focus",this._onFocusFunc,!1),this.domElement.addEventListener("mouseenter",this._onFocusInAndMouseEnterFunc,!1),this.domElement.addEventListener("keydown",this._onKeydownFunc,!1),this.domElement.addEventListener("keypress",this._onKeypressFunc,!1),this.domElement.addEventListener("keyup",this._onKeyupFunc,!1),this.domElement.addEventListener("blur",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.addEventListener("mouseleave",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.addEventListener("paste",this._onPasteFunc,!1),this.domElement.addEventListener("wheel",this._onWheelFunc,!1),this.domElement.addEventListener("drop",this._onDropFunc,!1),this._setupFormListener(),this.hasEventListeners=!0,B._doesGlobalListExists()||(document.addEventListener("keydown",this._onKeydownGlobalFunc,!1),document.addEventListener("keyup",this._onKeyupGlobalFunc,!1))}},{key:"_removeEventListeners",value:function(){this.domElement.removeEventListener("focusin",this._onFocusInFunc,!1),this.domElement.removeEventListener("focus",this._onFocusInAndMouseEnterFunc,!1),this.domElement.removeEventListener("focus",this._onFocusFunc,!1),this.domElement.removeEventListener("mouseenter",this._onFocusInAndMouseEnterFunc,!1),this.domElement.removeEventListener("blur",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.removeEventListener("mouseleave",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.removeEventListener("keydown",this._onKeydownFunc,!1),this.domElement.removeEventListener("keypress",this._onKeypressFunc,!1),this.domElement.removeEventListener("keyup",this._onKeyupFunc,!1),this.domElement.removeEventListener("paste",this._onPasteFunc,!1),this.domElement.removeEventListener("wheel",this._onWheelFunc,!1),this.domElement.removeEventListener("drop",this._onDropFunc,!1),this._removeFormListener(),this.hasEventListeners=!1,document.removeEventListener("keydown",this._onKeydownGlobalFunc,!1),document.removeEventListener("keyup",this._onKeyupGlobalFunc,!1)}},{key:"_updateEventListeners",value:function(){this.settings.noEventListeners||this.hasEventListeners||this._createEventListeners(),this.settings.noEventListeners&&this.hasEventListeners&&this._removeEventListeners()}},{key:"_setupFormListener",value:function(){var e=this;M.isNull(this.parentForm)||(this._onFormSubmitFunc=function(){e._onFormSubmit()},this._onFormResetFunc=function(){e._onFormReset()},this._hasParentFormCounter()?this._incrementParentFormCounter():(this._initializeFormCounterToOne(),this.parentForm.addEventListener("submit",this._onFormSubmitFunc,!1),this.parentForm.addEventListener("reset",this._onFormResetFunc,!1),this._storeFormHandlerFunction()))}},{key:"_removeFormListener",value:function(){if(!M.isNull(this.parentForm)){var e=this._getParentFormCounter();1===e?(this.parentForm.removeEventListener("submit",this._getFormHandlerFunction().submitFn,!1),this.parentForm.removeEventListener("reset",this._getFormHandlerFunction().resetFn,!1),this._removeFormDataSetInfo()):1<e?this._decrementParentFormCounter():M.throwError("The AutoNumeric object count on the form is incoherent.")}}},{key:"_hasParentFormCounter",value:function(){return"anCount"in this.parentForm.dataset}},{key:"_getParentFormCounter",value:function(){return Number(this.parentForm.dataset.anCount)}},{key:"_initializeFormCounterToOne",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;this._getFormElement(t).dataset.anCount=1}},{key:"_incrementParentFormCounter",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;this._getFormElement(t).dataset.anCount++}},{key:"_decrementParentFormCounter",value:function(){this.parentForm.dataset.anCount--}},{key:"_hasFormHandlerFunction",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return"anFormHandler"in this._getFormElement(t).dataset}},{key:"_getFormElement",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return M.isNull(t)?this.parentForm:t}},{key:"_storeFormHandlerFunction",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;this.constructor._doesFormHandlerListExists()||this.constructor._createFormHandlerList();var i=M.randomString();this._getFormElement(t).dataset.anFormHandler=i,window.aNFormHandlerMap.set(i,{submitFn:this._onFormSubmitFunc,resetFn:this._onFormResetFunc})}},{key:"_getFormHandlerKey",value:function(){this._hasFormHandlerFunction()||M.throwError("Unable to retrieve the form handler name");var e=this.parentForm.dataset.anFormHandler;return""===e&&M.throwError("The form handler name is invalid"),e}},{key:"_getFormHandlerFunction",value:function(){var e=this._getFormHandlerKey();return window.aNFormHandlerMap.get(e)}},{key:"_removeFormDataSetInfo",value:function(){this._decrementParentFormCounter(),window.aNFormHandlerMap.delete(this._getFormHandlerKey()),this.parentForm.removeAttribute("data-an-count"),this.parentForm.removeAttribute("data-an-form-handler")}},{key:"_setWritePermissions",value:function(e){0<arguments.length&&void 0!==e&&e&&this.domElement.readOnly||this.settings.readOnly?this._setReadOnly():this._setReadWrite()}},{key:"_setReadOnly",value:function(){this.isInputElement?this.domElement.readOnly=!0:this.domElement.setAttribute("contenteditable",!1)}},{key:"_setReadWrite",value:function(){this.isInputElement?this.domElement.readOnly=!1:this.domElement.setAttribute("contenteditable",!0)}},{key:"_addWatcher",value:function(){var t=this;if(!M.isUndefined(this.getterSetter)){var e=this.getterSetter,i=e.set,n=e.get;Object.defineProperty(this.domElement,this.attributeToWatch,{configurable:!0,get:function(){return n.call(t.domElement)},set:function(e){i.call(t.domElement,e),t.settings.watchExternalChanges&&!t.internalModification&&t.set(e)}})}}},{key:"_removeWatcher",value:function(){var t=this;if(!M.isUndefined(this.getterSetter)){var e=this.getterSetter,i=e.set,n=e.get;Object.defineProperty(this.domElement,this.attributeToWatch,{configurable:!0,get:function(){return n.call(t.domElement)},set:function(e){i.call(t.domElement,e)}})}}},{key:"_getAttributeToWatch",value:function(){var e;if(this.isInputElement)e="value";else{var t=this.domElement.nodeType;t===Node.ELEMENT_NODE||t===Node.DOCUMENT_NODE||t===Node.DOCUMENT_FRAGMENT_NODE?e="textContent":t===Node.TEXT_NODE&&(e="nodeValue")}return e}},{key:"_historyTableAdd",value:function(){var e=0===this.historyTable.length;if(e||this.rawValue!==this._historyTableCurrentValueUsed()){var t=!0;if(!e){var i=this.historyTableIndex+1;i<this.historyTable.length&&this.rawValue===this.historyTable[i].value?t=!1:M.arrayTrim(this.historyTable,this.historyTableIndex+1)}if(this.historyTableIndex++,t){var n=M.getElementSelection(this.domElement);this.selectionStart=n.start,this.selectionEnd=n.end,this.historyTable.push({value:this.rawValue,start:this.selectionStart+1,end:this.selectionEnd+1}),1<this.historyTable.length&&(this.historyTable[this.historyTableIndex-1].start=this.selectionStart,this.historyTable[this.historyTableIndex-1].end=this.selectionEnd)}this.historyTable.length>this.settings.historySize&&this._historyTableForget()}}},{key:"_historyTableUndoOrRedo",value:function(e){var t;if(0<arguments.length&&void 0!==e&&!e?(t=this.historyTableIndex+1<this.historyTable.length)&&this.historyTableIndex++:(t=0<this.historyTableIndex)&&this.historyTableIndex--,t){var i=this.historyTable[this.historyTableIndex];this.set(i.value,null,!1),M.setElementSelection(this.domElement,i.start,i.end)}}},{key:"_historyTableUndo",value:function(){this._historyTableUndoOrRedo(!0)}},{key:"_historyTableRedo",value:function(){this._historyTableUndoOrRedo(!1)}},{key:"_historyTableForget",value:function(e){for(var t=0<arguments.length&&void 0!==e?e:1,i=[],n=0;n<t;n++)i.push(this.historyTable.shift()),this.historyTableIndex--,this.historyTableIndex<0&&(this.historyTableIndex=0);return 1===i.length?i[0]:i}},{key:"_historyTableCurrentValueUsed",value:function(){var e=this.historyTableIndex;return e<0&&(e=0),M.isUndefinedOrNullOrEmpty(this.historyTable[e])?"":this.historyTable[e].value}},{key:"_parseStyleRules",value:function(){var n=this;M.isUndefinedOrNullOrEmpty(this.settings.styleRules)||""===this.rawValue||(M.isUndefinedOrNullOrEmpty(this.settings.styleRules.positive)||(0<=this.rawValue?this._addCSSClass(this.settings.styleRules.positive):this._removeCSSClass(this.settings.styleRules.positive)),M.isUndefinedOrNullOrEmpty(this.settings.styleRules.negative)||(this.rawValue<0?this._addCSSClass(this.settings.styleRules.negative):this._removeCSSClass(this.settings.styleRules.negative)),M.isUndefinedOrNullOrEmpty(this.settings.styleRules.ranges)||0===this.settings.styleRules.ranges.length||this.settings.styleRules.ranges.forEach(function(e){n.rawValue>=e.min&&n.rawValue<e.max?n._addCSSClass(e.class):n._removeCSSClass(e.class)}),M.isUndefinedOrNullOrEmpty(this.settings.styleRules.userDefined)||0===this.settings.styleRules.userDefined.length||this.settings.styleRules.userDefined.forEach(function(e){if(M.isFunction(e.callback))if(M.isString(e.classes))e.callback(n.rawValue)?n._addCSSClass(e.classes):n._removeCSSClass(e.classes);else if(M.isArray(e.classes))if(2===e.classes.length)e.callback(n.rawValue)?(n._addCSSClass(e.classes[0]),n._removeCSSClass(e.classes[1])):(n._removeCSSClass(e.classes[0]),n._addCSSClass(e.classes[1]));else if(2<e.classes.length){var i=e.callback(n.rawValue);M.isArray(i)?e.classes.forEach(function(e,t){M.isInArray(t,i)?n._addCSSClass(e):n._removeCSSClass(e)}):M.isInt(i)?e.classes.forEach(function(e,t){t===i?n._addCSSClass(e):n._removeCSSClass(e)}):M.isNull(i)?e.classes.forEach(function(e){n._removeCSSClass(e)}):M.throwError("The callback result is not an array nor a valid array index, ".concat(w(i)," given."))}else M.throwError("The classes attribute is not valid for the `styleRules` option.");else M.isUndefinedOrNullOrEmpty(e.classes)?e.callback(n):M.throwError("The callback/classes structure is not valid for the `styleRules` option.");else M.warning("The given `styleRules` callback is not a function, ".concat("undefined"==typeof callback?"undefined":w(callback)," given."),n.settings.showWarnings)}))}},{key:"_addCSSClass",value:function(e){this.domElement.classList.add(e)}},{key:"_removeCSSClass",value:function(e){this.domElement.classList.remove(e)}},{key:"update",value:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];Array.isArray(i)&&Array.isArray(i[0])&&(i=i[0]);var a=M.cloneObject(this.settings),r=this.rawValue,s={};M.isUndefinedOrNullOrEmpty(i)||0===i.length?s=null:1<=i.length&&i.forEach(function(e){t.constructor._isPreDefinedOptionValid(e)&&(e=t.constructor._getOptionObject(e)),b(s,e)});try{this._setSettings(s,!0),this._setWritePermissions(),this._updateEventListeners(),this.set(r)}catch(e){return this._setSettings(a,!0),M.throwError("Unable to update the settings, those are invalid: [".concat(e,"]")),this}return this}},{key:"getSettings",value:function(){return this.settings}},{key:"set",value:function(e,t,i){var n,a=1<arguments.length&&void 0!==t?t:null,r=!(2<arguments.length&&void 0!==i)||i;if(M.isUndefined(e))return M.warning("You are trying to set an 'undefined' value ; an error could have occurred.",this.settings.showWarnings),this;if(M.isNull(a)||this._setSettings(a,!0),null===e&&this.settings.emptyInputBehavior!==B.options.emptyInputBehavior.null)return M.warning("You are trying to set the `null` value while the `emptyInputBehavior` option is set to ".concat(this.settings.emptyInputBehavior,". If you want to be able to set the `null` value, you need to change the 'emptyInputBehavior' option to `'null'`."),this.settings.showWarnings),this;if(null===e)return this._setElementAndRawValue(null,null,r),this._saveValueToPersistentStorage(),this;if(n=this.constructor._toNumericValue(e,this.settings),isNaN(Number(n)))return M.warning("The value you are trying to set results in `NaN`. The element value is set to the empty string instead.",this.settings.showWarnings),this.setValue("",r),this;if(""===n)switch(this.settings.emptyInputBehavior){case B.options.emptyInputBehavior.zero:n=0;break;case B.options.emptyInputBehavior.min:n=this.settings.minimumValue;break;case B.options.emptyInputBehavior.max:n=this.settings.maximumValue;break;default:M.isNumber(this.settings.emptyInputBehavior)&&(n=Number(this.settings.emptyInputBehavior))}if(""===n)return s=this.settings.emptyInputBehavior===B.options.emptyInputBehavior.always?this.settings.currencySymbol:"",this._setElementAndRawValue(s,"",r),this;var s,o=S(this.constructor._checkIfInRangeWithOverrideOption(n,this.settings),2),l=o[0],u=o[1];if(l&&u&&this.settings.valuesToStrings&&this._checkValuesToStrings(n))return this._setElementAndRawValue(this.settings.valuesToStrings[n],n,r),this._saveValueToPersistentStorage(),this;if(M.isZeroOrHasNoValue(n)&&(n="0"),l&&u){var c=this.constructor._roundRawValue(n,this.settings);return c=this._trimLeadingAndTrailingZeros(c.replace(this.settings.decimalCharacter,".")),n=this._getRawValueToFormat(n),n=this.isFocused?this.constructor._roundFormattedValueShownOnFocus(n,this.settings):(this.settings.divisorWhenUnfocused&&(n=(n/=this.settings.divisorWhenUnfocused).toString()),this.constructor._roundFormattedValueShownOnBlur(n,this.settings)),n=this.constructor._modifyNegativeSignAndDecimalCharacterForFormattedValue(n,this.settings),n=this.constructor._addGroupSeparators(n,this.settings,this.isFocused,this.rawValue,c),!this.isFocused&&this.settings.symbolWhenUnfocused&&(n="".concat(n).concat(this.settings.symbolWhenUnfocused)),(this.settings.decimalPlacesShownOnFocus||this.settings.divisorWhenUnfocused)&&this._saveValueToPersistentStorage(),this._setElementAndRawValue(n,c,r),this._setValidOrInvalidState(c),this}return this._triggerRangeEvents(l,u),M.throwError("The value [".concat(n,"] being set falls outside of the minimumValue [").concat(this.settings.minimumValue,"] and maximumValue [").concat(this.settings.maximumValue,"] range set for this element")),this._removeValueFromPersistentStorage(),this.setValue("",r),this}},{key:"setUnformatted",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:null;if(null===e||M.isUndefined(e))return this;M.isNull(i)||this._setSettings(i,!0);var n=this.constructor._removeBrackets(e,this.settings),a=this.constructor._stripAllNonNumberCharacters(n,this.settings,!0,this.isFocused);return M.isNumber(a)||M.throwError("The value is not a valid one, it's not a numeric string nor a recognized currency."),this.constructor._isWithinRangeWithOverrideOption(a,this.settings)?this.setValue(e):M.throwError("The value is out of the range limits [".concat(this.settings.minimumValue,", ").concat(this.settings.maximumValue,"].")),this}},{key:"setValue",value:function(e,t){var i=!(1<arguments.length&&void 0!==t)||t;return this._setElementAndRawValue(e,i),this}},{key:"_setRawValue",value:function(e,t){var i=!(1<arguments.length&&void 0!==t)||t;if(this.rawValue!==e){var n=this.rawValue;this.rawValue=e,!M.isNull(this.settings.rawValueDivisor)&&0!==this.settings.rawValueDivisor&&""!==e&&null!==e&&this._isUserManuallyEditingTheValue()&&(this.rawValue/=this.settings.rawValueDivisor),this._triggerEvent(B.events.rawValueModified,this.domElement,{oldRawValue:n,newRawValue:this.rawValue,isPristine:this.isPristine(!0),error:null,aNElement:this}),this._parseStyleRules(),i&&this._historyTableAdd()}}},{key:"_setElementValue",value:function(e,t){var i=!(1<arguments.length&&void 0!==t)||t,n=M.getElementValue(this.domElement);return e!==n&&(this.internalModification=!0,M.setElementValue(this.domElement,e),this.internalModification=!1,i&&this._triggerEvent(B.events.formatted,this.domElement,{oldValue:n,newValue:e,oldRawValue:this.rawValue,newRawValue:this.rawValue,isPristine:this.isPristine(!1),error:null,aNElement:this})),this}},{key:"_setElementAndRawValue",value:function(e,t,i){var n=1<arguments.length&&void 0!==t?t:null,a=!(2<arguments.length&&void 0!==i)||i;return M.isNull(n)?n=e:M.isBoolean(n)&&(a=n,n=e),this._setElementValue(e),this._setRawValue(n,a),this}},{key:"_getRawValueToFormat",value:function(e){return M.isNull(this.settings.rawValueDivisor)||0===this.settings.rawValueDivisor||""===e||null===e?e:e*this.settings.rawValueDivisor}},{key:"_checkValuesToStrings",value:function(e){return this.constructor._checkValuesToStringsArray(e,this.valuesToStringsKeys)}},{key:"_isUserManuallyEditingTheValue",value:function(){return this.isFocused&&this.isEditing||this.isDropEvent}},{key:"_executeCallback",value:function(e,t){!M.isNull(t)&&M.isFunction(t)&&t(e,this)}},{key:"_triggerEvent",value:function(e,t,i){var n=1<arguments.length&&void 0!==t?t:document,a=2<arguments.length&&void 0!==i?i:null;M.triggerEvent(e,n,a,this.settings.eventBubbles,this.settings.eventIsCancelable)}},{key:"get",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return this.getNumericString(t)}},{key:"getNumericString",value:function(e){var t,i=0<arguments.length&&void 0!==e?e:null;return t=M.isNull(this.rawValue)?null:M.trimPaddedZerosFromDecimalPlaces(this.rawValue),this._executeCallback(t,i),t}},{key:"getFormatted",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;"value"in this.domElement||"textContent"in this.domElement||M.throwError("Unable to get the formatted string from the element.");var i=M.getElementValue(this.domElement);return this._executeCallback(i,t),i}},{key:"getNumber",value:function(e){var t,i=0<arguments.length&&void 0!==e?e:null;return t=null===this.rawValue?null:this.constructor._toLocale(this.getNumericString(),"number",this.settings),this._executeCallback(t,i),t}},{key:"getLocalized",value:function(e,t){var i,n,a=0<arguments.length&&void 0!==e?e:null,r=1<arguments.length&&void 0!==t?t:null;M.isFunction(a)&&M.isNull(r)&&(r=a,a=null),(i=M.isEmptyString(this.rawValue)?"":""+Number(this.rawValue))&&0===Number(i)&&this.settings.leadingZero!==B.options.leadingZero.keep&&(i="0"),n=M.isNull(a)?this.settings.outputFormat:a;var s=this.constructor._toLocale(i,n,this.settings);return this._executeCallback(s,r),s}},{key:"reformat",value:function(){return this.set(this.rawValue),this}},{key:"unformat",value:function(){return this._setElementValue(this.getNumericString()),this}},{key:"unformatLocalized",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return this._setElementValue(this.getLocalized(t)),this}},{key:"isPristine",value:function(e){return 0<arguments.length&&void 0!==e&&!e?this.initialValueHtmlAttribute===this.getFormatted():this.initialValue===this.getNumericString()}},{key:"select",value:function(){return this.settings.selectNumberOnly?this.selectNumber():this._defaultSelectAll(),this}},{key:"_defaultSelectAll",value:function(){M.setElementSelection(this.domElement,0,M.getElementValue(this.domElement).length)}},{key:"selectNumber",value:function(){var e,t,i=M.getElementValue(this.domElement),n=i.length,a=this.settings.currencySymbol.length,r=this.settings.currencySymbolPlacement,s=M.isNegative(i,this.settings.negativeSignCharacter)?1:0,o=this.settings.suffixText.length;if(e=r===B.options.currencySymbolPlacement.suffix?0:this.settings.negativePositiveSignPlacement===B.options.negativePositiveSignPlacement.left&&1==s&&0<a?a+1:a,r===B.options.currencySymbolPlacement.prefix)t=n-o;else switch(this.settings.negativePositiveSignPlacement){case B.options.negativePositiveSignPlacement.left:t=n-(o+a);break;case B.options.negativePositiveSignPlacement.right:t=0<a?n-(a+s+o):n-(a+o);break;default:t=n-(a+o)}return M.setElementSelection(this.domElement,e,t),this}},{key:"selectInteger",value:function(){var e=0,t=0<=this.rawValue;this.settings.currencySymbolPlacement!==B.options.currencySymbolPlacement.prefix&&(this.settings.currencySymbolPlacement!==B.options.currencySymbolPlacement.suffix||this.settings.negativePositiveSignPlacement!==B.options.negativePositiveSignPlacement.prefix&&this.settings.negativePositiveSignPlacement!==B.options.negativePositiveSignPlacement.none)||(this.settings.showPositiveSign&&t||!t&&this.settings.currencySymbolPlacement===B.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===B.options.negativePositiveSignPlacement.left)&&(e+=1),this.settings.currencySymbolPlacement===B.options.currencySymbolPlacement.prefix&&(e+=this.settings.currencySymbol.length);var i=M.getElementValue(this.domElement),n=i.indexOf(this.settings.decimalCharacter);return-1===n&&(n=this.settings.currencySymbolPlacement===B.options.currencySymbolPlacement.suffix?i.length-this.settings.currencySymbol.length:i.length,t||this.settings.negativePositiveSignPlacement!==B.options.negativePositiveSignPlacement.suffix&&this.settings.currencySymbolPlacement!==B.options.currencySymbolPlacement.suffix||--n,n-=this.settings.suffixText.length),M.setElementSelection(this.domElement,e,n),this}},{key:"selectDecimal",value:function(){var e,t,i=M.getElementValue(this.domElement).indexOf(this.settings.decimalCharacter);return e=-1===i?i=0:(i+=1,t=this.isFocused?this.settings.decimalPlacesShownOnFocus:this.settings.decimalPlacesShownOnBlur,i+Number(t)),M.setElementSelection(this.domElement,i,e),this}},{key:"node",value:function(){return this.domElement}},{key:"parent",value:function(){return this.domElement.parentNode}},{key:"detach",value:function(e){var t,i=0<arguments.length&&void 0!==e?e:null;return t=M.isNull(i)?this.domElement:i.node(),this._removeFromLocalList(t),this}},{key:"attach",value:function(e,t){var i=!(1<arguments.length&&void 0!==t)||t;return this._addToLocalList(e.node()),i&&e.update(this.settings),this}},{key:"formatOther",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:null;return this._formatOrUnformatOther(!0,e,i)}},{key:"unformatOther",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:null;return this._formatOrUnformatOther(!1,e,i)}},{key:"_formatOrUnformatOther",value:function(e,t,i){var n,a,r=2<arguments.length&&void 0!==i?i:null;if(n=M.isNull(r)?this.settings:this._cloneAndMergeSettings(r),M.isElement(t)){var s=M.getElementValue(t);return a=e?B.format(s,n):B.unformat(s,n),M.setElementValue(t,a),null}return e?B.format(t,n):B.unformat(t,n)}},{key:"init",value:function(e,t){var n=this,a=!(1<arguments.length&&void 0!==t)||t,i=!1,r=[];if(M.isString(e)?r=p(document.querySelectorAll(e)):M.isElement(e)?(r.push(e),i=!0):M.isArray(e)?r=e:M.throwError("The given parameters to the 'init' function are invalid."),0===r.length)return M.warning("No valid DOM elements were given hence no AutoNumeric object were instantiated.",!0),[];var s=this._getLocalList(),o=[];return r.forEach(function(e){var t=n.settings.createLocalList;a&&(n.settings.createLocalList=!1);var i=new B(e,M.getElementValue(e),n.settings);a&&(i._setLocalList(s),n._addToLocalList(e,i),n.settings.createLocalList=t),o.push(i)}),i?o[0]:o}},{key:"clear",value:function(e){if(0<arguments.length&&void 0!==e&&e){var t={emptyInputBehavior:B.options.emptyInputBehavior.focus};this.set("",t)}else this.set("");return this}},{key:"remove",value:function(){this._removeValueFromPersistentStorage(),this._removeEventListeners(),this._removeWatcher(),this._removeFromLocalList(this.domElement),this.constructor._removeFromGlobalList(this)}},{key:"wipe",value:function(){this._setElementValue("",!1),this.remove()}},{key:"nuke",value:function(){this.remove(),this.domElement.parentNode.removeChild(this.domElement)}},{key:"form",value:function(e){if(0<arguments.length&&void 0!==e&&e||M.isUndefinedOrNullOrEmpty(this.parentForm)){var t=this._getParentForm();if(!M.isNull(t)&&t!==this.parentForm){var i=this._getFormAutoNumericChildren(this.parentForm);this.parentForm.dataset.anCount=i.length,this._hasFormHandlerFunction(t)?this._incrementParentFormCounter(t):(this._storeFormHandlerFunction(t),this._initializeFormCounterToOne(t))}this.parentForm=t}return this.parentForm}},{key:"_getFormAutoNumericChildren",value:function(e){var t=this;return p(e.querySelectorAll("input")).filter(function(e){return t.constructor.isManagedByAutoNumeric(e)})}},{key:"_getParentForm",value:function(){if("body"===this.domElement.tagName.toLowerCase())return null;var e,t=this.domElement;do{if(t=t.parentNode,M.isNull(t))return null;if("body"===(e=t.tagName?t.tagName.toLowerCase():""))break}while("form"!==e);return"form"===e?t:null}},{key:"formNumericString",value:function(){return this.constructor._serializeNumericString(this.form(),this.settings.serializeSpaces)}},{key:"formFormatted",value:function(){return this.constructor._serializeFormatted(this.form(),this.settings.serializeSpaces)}},{key:"formLocalized",value:function(e){var t,i=0<arguments.length&&void 0!==e?e:null;return t=M.isNull(i)?this.settings.outputFormat:i,this.constructor._serializeLocalized(this.form(),this.settings.serializeSpaces,t)}},{key:"formArrayNumericString",value:function(){return this.constructor._serializeNumericStringArray(this.form(),this.settings.serializeSpaces)}},{key:"formArrayFormatted",value:function(){return this.constructor._serializeFormattedArray(this.form(),this.settings.serializeSpaces)}},{key:"formArrayLocalized",value:function(e){var t,i=0<arguments.length&&void 0!==e?e:null;return t=M.isNull(i)?this.settings.outputFormat:i,this.constructor._serializeLocalizedArray(this.form(),this.settings.serializeSpaces,t)}},{key:"formJsonNumericString",value:function(){return JSON.stringify(this.formArrayNumericString())}},{key:"formJsonFormatted",value:function(){return JSON.stringify(this.formArrayFormatted())}},{key:"formJsonLocalized",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return JSON.stringify(this.formArrayLocalized(t))}},{key:"formUnformat",value:function(){return this.constructor._getChildANInputElement(this.form()).forEach(function(e){B.getAutoNumericElement(e).unformat()}),this}},{key:"formUnformatLocalized",value:function(){return this.constructor._getChildANInputElement(this.form()).forEach(function(e){B.getAutoNumericElement(e).unformatLocalized()}),this}},{key:"formReformat",value:function(){return this.constructor._getChildANInputElement(this.form()).forEach(function(e){B.getAutoNumericElement(e).reformat()}),this}},{key:"formSubmitNumericString",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return M.isNull(t)?(this.formUnformat(),this.form().submit(),this.formReformat()):M.isFunction(t)?t(this.formNumericString()):M.throwError("The given callback is not a function."),this}},{key:"formSubmitFormatted",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return M.isNull(t)?this.form().submit():M.isFunction(t)?t(this.formFormatted()):M.throwError("The given callback is not a function."),this}},{key:"formSubmitLocalized",value:function(e,t){var i=0<arguments.length&&void 0!==e?e:null,n=1<arguments.length&&void 0!==t?t:null;return M.isNull(n)?(this.formUnformatLocalized(),this.form().submit(),this.formReformat()):M.isFunction(n)?n(this.formLocalized(i)):M.throwError("The given callback is not a function."),this}},{key:"formSubmitArrayNumericString",value:function(e){return M.isFunction(e)?e(this.formArrayNumericString()):M.throwError("The given callback is not a function."),this}},{key:"formSubmitArrayFormatted",value:function(e){return M.isFunction(e)?e(this.formArrayFormatted()):M.throwError("The given callback is not a function."),this}},{key:"formSubmitArrayLocalized",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:null;return M.isFunction(e)?e(this.formArrayLocalized(i)):M.throwError("The given callback is not a function."),this}},{key:"formSubmitJsonNumericString",value:function(e){return M.isFunction(e)?e(this.formJsonNumericString()):M.throwError("The given callback is not a function."),this}},{key:"formSubmitJsonFormatted",value:function(e){return M.isFunction(e)?e(this.formJsonFormatted()):M.throwError("The given callback is not a function."),this}},{key:"formSubmitJsonLocalized",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:null;return M.isFunction(e)?e(this.formJsonLocalized(i)):M.throwError("The given callback is not a function."),this}},{key:"_createLocalList",value:function(){this.autoNumericLocalList=new Map,this._addToLocalList(this.domElement)}},{key:"_deleteLocalList",value:function(){delete this.autoNumericLocalList}},{key:"_setLocalList",value:function(e){this.autoNumericLocalList=e}},{key:"_getLocalList",value:function(){return this.autoNumericLocalList}},{key:"_hasLocalList",value:function(){return this.autoNumericLocalList instanceof Map&&0!==this.autoNumericLocalList.size}},{key:"_addToLocalList",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:null;M.isNull(i)&&(i=this),M.isUndefined(this.autoNumericLocalList)?M.throwError("The local list provided does not exists when trying to add an element. [".concat(this.autoNumericLocalList,"] given.")):this.autoNumericLocalList.set(e,i)}},{key:"_removeFromLocalList",value:function(e){M.isUndefined(this.autoNumericLocalList)?this.settings.createLocalList&&M.throwError("The local list provided does not exists when trying to remove an element. [".concat(this.autoNumericLocalList,"] given.")):this.autoNumericLocalList.delete(e)}},{key:"_mergeSettings",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];b.apply(void 0,[this.settings].concat(t))}},{key:"_cloneAndMergeSettings",value:function(){for(var e={},t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return b.apply(void 0,[e,this.settings].concat(i)),e}},{key:"_updatePredefinedOptions",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:null;return M.isNull(i)?this.update(e):(this._mergeSettings(e,i),this.update(this.settings)),this}},{key:"french",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return this._updatePredefinedOptions(B.getPredefinedOptions().French,t),this}},{key:"northAmerican",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return this._updatePredefinedOptions(B.getPredefinedOptions().NorthAmerican,t),this}},{key:"british",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return this._updatePredefinedOptions(B.getPredefinedOptions().British,t),this}},{key:"swiss",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return this._updatePredefinedOptions(B.getPredefinedOptions().Swiss,t),this}},{key:"japanese",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return this._updatePredefinedOptions(B.getPredefinedOptions().Japanese,t),this}},{key:"spanish",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return this._updatePredefinedOptions(B.getPredefinedOptions().Spanish,t),this}},{key:"chinese",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return this._updatePredefinedOptions(B.getPredefinedOptions().Chinese,t),this}},{key:"brazilian",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return this._updatePredefinedOptions(B.getPredefinedOptions().Brazilian,t),this}},{key:"_runCallbacksFoundInTheSettingsObject",value:function(){for(var e in this.settings)if(Object.prototype.hasOwnProperty.call(this.settings,e)){var t=this.settings[e];if("function"==typeof t)this.settings[e]=t(this,e);else{var i=this.domElement.getAttribute(e);i=M.camelize(i),"function"==typeof this.settings[i]&&(this.settings[e]=i(this,e))}}}},{key:"_setTrailingNegativeSignInfo",value:function(){this.isTrailingNegative=this.settings.currencySymbolPlacement===B.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===B.options.negativePositiveSignPlacement.suffix||this.settings.currencySymbolPlacement===B.options.currencySymbolPlacement.suffix&&(this.settings.negativePositiveSignPlacement===B.options.negativePositiveSignPlacement.left||this.settings.negativePositiveSignPlacement===B.options.negativePositiveSignPlacement.right)}},{key:"_modifyNegativeSignAndDecimalCharacterForRawValue",value:function(e){return"."!==this.settings.decimalCharacter&&(e=e.replace(this.settings.decimalCharacter,".")),"-"!==this.settings.negativeSignCharacter&&this.settings.isNegativeSignAllowed&&(e=e.replace(this.settings.negativeSignCharacter,"-")),e.match(/\d/)||(e+="0"),e}},{key:"_initialCaretPosition",value:function(e){M.isNull(this.settings.caretPositionOnFocus)&&this.settings.selectOnFocus===B.options.selectOnFocus.doNotSelect&&M.throwError("`_initialCaretPosition()` should never be called when the `caretPositionOnFocus` option is `null`.");var t=this.rawValue<0,i=M.isZeroOrHasNoValue(e),n=e.length,a=0,r=0,s=!1,o=0;this.settings.caretPositionOnFocus!==B.options.caretPositionOnFocus.start&&(a=(e=(e=(e=e.replace(this.settings.negativeSignCharacter,"")).replace(this.settings.positiveSignCharacter,"")).replace(this.settings.currencySymbol,"")).length,s=M.contains(e,this.settings.decimalCharacter),this.settings.caretPositionOnFocus!==B.options.caretPositionOnFocus.decimalLeft&&this.settings.caretPositionOnFocus!==B.options.caretPositionOnFocus.decimalRight||(o=s?(r=e.indexOf(this.settings.decimalCharacter),this.settings.decimalCharacter.length):(r=a,0)));var l="";t?l=this.settings.negativeSignCharacter:this.settings.showPositiveSign&&!i&&(l=this.settings.positiveSignCharacter);var u,c=l.length,h=this.settings.currencySymbol.length;if(this.settings.currencySymbolPlacement===B.options.currencySymbolPlacement.prefix){if(this.settings.caretPositionOnFocus===B.options.caretPositionOnFocus.start)if(this.settings.negativePositiveSignPlacement!==B.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case B.options.negativePositiveSignPlacement.prefix:case B.options.negativePositiveSignPlacement.left:case B.options.negativePositiveSignPlacement.right:u=c+h;break;case B.options.negativePositiveSignPlacement.suffix:u=h}else u=h;else if(this.settings.caretPositionOnFocus===B.options.caretPositionOnFocus.end)if(this.settings.negativePositiveSignPlacement!==B.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case B.options.negativePositiveSignPlacement.prefix:case B.options.negativePositiveSignPlacement.left:case B.options.negativePositiveSignPlacement.right:u=n;break;case B.options.negativePositiveSignPlacement.suffix:u=h+a}else u=n;else if(this.settings.caretPositionOnFocus===B.options.caretPositionOnFocus.decimalLeft)if(this.settings.negativePositiveSignPlacement!==B.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case B.options.negativePositiveSignPlacement.prefix:case B.options.negativePositiveSignPlacement.left:case B.options.negativePositiveSignPlacement.right:u=c+h+r;break;case B.options.negativePositiveSignPlacement.suffix:u=h+r}else u=h+r;else if(this.settings.caretPositionOnFocus===B.options.caretPositionOnFocus.decimalRight)if(this.settings.negativePositiveSignPlacement!==B.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case B.options.negativePositiveSignPlacement.prefix:case B.options.negativePositiveSignPlacement.left:case B.options.negativePositiveSignPlacement.right:u=c+h+r+o;break;case B.options.negativePositiveSignPlacement.suffix:u=h+r+o}else u=h+r+o}else if(this.settings.currencySymbolPlacement===B.options.currencySymbolPlacement.suffix)if(this.settings.caretPositionOnFocus===B.options.caretPositionOnFocus.start)if(this.settings.negativePositiveSignPlacement!==B.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case B.options.negativePositiveSignPlacement.suffix:case B.options.negativePositiveSignPlacement.right:case B.options.negativePositiveSignPlacement.left:u=0;break;case B.options.negativePositiveSignPlacement.prefix:u=c}else u=0;else if(this.settings.caretPositionOnFocus===B.options.caretPositionOnFocus.end)if(this.settings.negativePositiveSignPlacement!==B.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case B.options.negativePositiveSignPlacement.suffix:case B.options.negativePositiveSignPlacement.right:case B.options.negativePositiveSignPlacement.left:u=a;break;case B.options.negativePositiveSignPlacement.prefix:u=c+a}else u=a;else if(this.settings.caretPositionOnFocus===B.options.caretPositionOnFocus.decimalLeft)if(this.settings.negativePositiveSignPlacement!==B.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case B.options.negativePositiveSignPlacement.suffix:case B.options.negativePositiveSignPlacement.right:case B.options.negativePositiveSignPlacement.left:u=r;break;case B.options.negativePositiveSignPlacement.prefix:u=c+r}else u=r;else if(this.settings.caretPositionOnFocus===B.options.caretPositionOnFocus.decimalRight)if(this.settings.negativePositiveSignPlacement!==B.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case B.options.negativePositiveSignPlacement.suffix:case B.options.negativePositiveSignPlacement.right:case B.options.negativePositiveSignPlacement.left:u=r+o;break;case B.options.negativePositiveSignPlacement.prefix:u=c+r+o}else u=r+o;return u}},{key:"_triggerRangeEvents",value:function(e,t){e||this._triggerEvent(B.events.minRangeExceeded,this.domElement),t||this._triggerEvent(B.events.maxRangeExceeded,this.domElement)}},{key:"_setInvalidState",value:function(){this.isInputElement?M.setInvalidState(this.domElement):this._addCSSClass(this.settings.invalidClass),this._triggerEvent(B.events.invalidValue,this.domElement),this.validState=!1}},{key:"_setValidState",value:function(){this.isInputElement?M.setValidState(this.domElement):this._removeCSSClass(this.settings.invalidClass),this.validState||this._triggerEvent(B.events.correctedValue,this.domElement),this.validState=!0}},{key:"_setValidOrInvalidState",value:function(e){if(this.settings.overrideMinMaxLimits===B.options.overrideMinMaxLimits.invalid){var t=this.constructor._isMinimumRangeRespected(e,this.settings),i=this.constructor._isMaximumRangeRespected(e,this.settings);t&&i?this._setValidState():this._setInvalidState(),this._triggerRangeEvents(t,i)}}},{key:"_keepAnOriginalSettingsCopy",value:function(){this.originalDigitGroupSeparator=this.settings.digitGroupSeparator,this.originalCurrencySymbol=this.settings.currencySymbol,this.originalSuffixText=this.settings.suffixText}},{key:"_trimLeadingAndTrailingZeros",value:function(e){if(""===e||null===e)return e;if(this.settings.leadingZero!==B.options.leadingZero.keep){if(0===Number(e))return"0";e=e.replace(/^(-)?0+(?=\d)/g,"$1")}return M.contains(e,".")&&(e=e.replace(/(\.[0-9]*?)0+$/,"$1")),e.replace(/\.$/,"")}},{key:"_setPersistentStorageName",value:function(){this.settings.saveValueToSessionStorage&&(""===this.domElement.name||M.isUndefined(this.domElement.name)?this.rawValueStorageName="".concat(this.storageNamePrefix).concat(this.domElement.id):this.rawValueStorageName="".concat(this.storageNamePrefix).concat(decodeURIComponent(this.domElement.name)))}},{key:"_saveValueToPersistentStorage",value:function(){this.settings.saveValueToSessionStorage&&(this.sessionStorageAvailable?sessionStorage.setItem(this.rawValueStorageName,this.rawValue):document.cookie="".concat(this.rawValueStorageName,"=").concat(this.rawValue,"; expires= ; path=/"))}},{key:"_getValueFromPersistentStorage",value:function(){return this.settings.saveValueToSessionStorage?this.sessionStorageAvailable?sessionStorage.getItem(this.rawValueStorageName):this.constructor._readCookie(this.rawValueStorageName):(M.warning("`_getValueFromPersistentStorage()` is called but `settings.saveValueToSessionStorage` is false. There must be an error that needs fixing.",this.settings.showWarnings),null)}},{key:"_removeValueFromPersistentStorage",value:function(){if(this.settings.saveValueToSessionStorage)if(this.sessionStorageAvailable)sessionStorage.removeItem(this.rawValueStorageName);else{var e=new Date;e.setTime(e.getTime()-864e5);var t="; expires=".concat(e.toUTCString());document.cookie="".concat(this.rawValueStorageName,"='' ;").concat(t,"; path=/")}}},{key:"_getDefaultValue",value:function(e){var t=e.getAttribute("value");return M.isNull(t)?"":t}},{key:"_onFocusInAndMouseEnter",value:function(e){if(this.isEditing=!1,!this.formulaMode&&this.settings.unformatOnHover&&"mouseenter"===e.type&&e.altKey)this.constructor._unformatAltHovered(this);else if("focus"===e.type&&(this.isFocused=!0,this.rawValueOnFocus=this.rawValue),"focus"===e.type&&this.settings.unformatOnHover&&this.hoveredWithAlt&&this.constructor._reformatAltHovered(this),"focus"===e.type||"mouseenter"===e.type&&!this.isFocused){var t=null;this.settings.emptyInputBehavior===B.options.emptyInputBehavior.focus&&this.rawValue<0&&null!==this.settings.negativeBracketsTypeOnBlur&&this.settings.isNegativeSignAllowed&&(t=this.constructor._removeBrackets(M.getElementValue(this.domElement),this.settings));var i=this._getRawValueToFormat(this.rawValue);if(""!==i){var n=this.constructor._roundFormattedValueShownOnFocusOrBlur(i,this.settings,this.isFocused);t=this.settings.showOnlyNumbersOnFocus===B.options.showOnlyNumbersOnFocus.onlyNumbers?(this.settings.digitGroupSeparator="",this.settings.currencySymbol="",this.settings.suffixText="",n.replace(".",this.settings.decimalCharacter)):M.isNull(n)?"":this.constructor._addGroupSeparators(n.replace(".",this.settings.decimalCharacter),this.settings,this.isFocused,i)}M.isNull(t)?this.valueOnFocus="":this.valueOnFocus=t,this.lastVal=this.valueOnFocus;var a=this.constructor._isElementValueEmptyOrOnlyTheNegativeSign(this.valueOnFocus,this.settings),r=this.constructor._orderValueCurrencySymbolAndSuffixText(this.valueOnFocus,this.settings,!0),s=a&&""!==r&&this.settings.emptyInputBehavior===B.options.emptyInputBehavior.focus;s&&(t=r),M.isNull(t)||this._setElementValue(t),s&&r===this.settings.currencySymbol&&this.settings.currencySymbolPlacement===B.options.currencySymbolPlacement.suffix&&M.setElementSelection(e.target,0)}}},{key:"_onFocus",value:function(){this.settings.isCancellable&&this._saveCancellableValue()}},{key:"_onFocusIn",value:function(e){this.settings.selectOnFocus?this.select():M.isNull(this.settings.caretPositionOnFocus)||M.setElementSelection(e.target,this._initialCaretPosition(M.getElementValue(this.domElement)))}},{key:"_enterFormulaMode",value:function(){this.settings.formulaMode&&(this.formulaMode=!0,M.setElementValue(this.domElement,"="),M.setElementSelection(this.domElement,1))}},{key:"_exitFormulaMode",value:function(){var e,t=M.getElementValue(this.domElement);t=t.replace(/^\s*=/,"");try{var i=new v(t,this.settings.decimalCharacter);e=(new u).evaluate(i)}catch(e){return this._triggerEvent(B.events.invalidFormula,this.domElement,{formula:t,aNElement:this}),this.reformat(),void(this.formulaMode=!1)}this._triggerEvent(B.events.validFormula,this.domElement,{formula:t,result:e,aNElement:this}),this.set(e),this.formulaMode=!1}},{key:"_acceptNonPrintableKeysInFormulaMode",value:function(){return this.eventKey===d.keyName.Backspace||this.eventKey===d.keyName.Delete||this.eventKey===d.keyName.LeftArrow||this.eventKey===d.keyName.RightArrow||this.eventKey===d.keyName.Home||this.eventKey===d.keyName.End}},{key:"_onKeydown",value:function(e){if(this.formatted=!1,this.isEditing=!0,this.formulaMode||this.isFocused||!this.settings.unformatOnHover||!e.altKey||this.domElement!==M.getHoveredElement()){if(this._updateEventKeyInfo(e),this.keydownEventCounter+=1,1===this.keydownEventCounter&&(this.initialValueOnFirstKeydown=M.getElementValue(e.target),this.initialRawValueOnFirstKeydown=this.rawValue),this.formulaMode){if(this.eventKey===d.keyName.Esc)return this.formulaMode=!1,void this.reformat();if(this.eventKey===d.keyName.Enter)return void this._exitFormulaMode();if(this._acceptNonPrintableKeysInFormulaMode())return}else if(this.eventKey===d.keyName.Equal)return void this._enterFormulaMode();if(this.domElement.readOnly||this.settings.readOnly||this.domElement.disabled)this.processed=!0;else{this.eventKey===d.keyName.Esc&&(e.preventDefault(),this.settings.isCancellable&&this.rawValue!==this.savedCancellableValue&&(this.set(this.savedCancellableValue),this._triggerEvent(B.events.native.input,e.target)),this.select());var t=M.getElementValue(e.target);if(this.eventKey===d.keyName.Enter&&this.rawValue!==this.rawValueOnFocus&&(this._triggerEvent(B.events.native.change,e.target),this.valueOnFocus=t,this.rawValueOnFocus=this.rawValue,this.settings.isCancellable&&this._saveCancellableValue()),this._updateInternalProperties(e),this._processNonPrintableKeysAndShortcuts(e))this.processed=!0;else if(this.eventKey===d.keyName.Backspace||this.eventKey===d.keyName.Delete){var i=this._processCharacterDeletion();if(this.processed=!0,!i)return void e.preventDefault();this._formatValue(e),(t=M.getElementValue(e.target))!==this.lastVal&&this.throwInput&&(this._triggerEvent(B.events.native.input,e.target),e.preventDefault()),this.lastVal=t,this.throwInput=!0}}}else this.constructor._unformatAltHovered(this)}},{key:"_onKeypress",value:function(e){if(this.formulaMode){if(this._acceptNonPrintableKeysInFormulaMode())return;if(this.settings.formulaChars.test(this.eventKey))return;e.preventDefault()}else if(this.eventKey!==d.keyName.Insert){var t=this.processed;if(this._updateInternalProperties(e),!this._processNonPrintableKeysAndShortcuts(e))if(t)e.preventDefault();else{if(this._processCharacterInsertion()){this._formatValue(e);var i=M.getElementValue(e.target);if(i!==this.lastVal&&this.throwInput)this._triggerEvent(B.events.native.input,e.target),e.preventDefault();else{if((this.eventKey===this.settings.decimalCharacter||this.eventKey===this.settings.decimalCharacterAlternative)&&M.getElementSelection(e.target).start===M.getElementSelection(e.target).end&&M.getElementSelection(e.target).start===i.indexOf(this.settings.decimalCharacter)){var n=M.getElementSelection(e.target).start+1;M.setElementSelection(e.target,n)}e.preventDefault()}return this.lastVal=M.getElementValue(e.target),this.throwInput=!0,void this._setValidOrInvalidState(this.rawValue)}e.preventDefault()}}}},{key:"_onKeyup",value:function(e){if(this.isEditing=!1,this.keydownEventCounter=0,!this.formulaMode)if(this.settings.isCancellable&&this.eventKey===d.keyName.Esc)e.preventDefault();else{if(this.eventKey===d.keyName.Z||this.eventKey===d.keyName.z){if(e.ctrlKey&&e.shiftKey)return e.preventDefault(),this._historyTableRedo(),void(this.onGoingRedo=!0);if(e.ctrlKey&&!e.shiftKey){if(!this.onGoingRedo)return e.preventDefault(),void this._historyTableUndo();this.onGoingRedo=!1}}if(this.onGoingRedo&&(e.ctrlKey||e.shiftKey)&&(this.onGoingRedo=!1),(e.ctrlKey||e.metaKey)&&this.eventKey===d.keyName.x){var t=M.getElementSelection(this.domElement).start,i=this.constructor._toNumericValue(M.getElementValue(e.target),this.settings);this.set(i),this._setCaretPosition(t)}if(this.eventKey===d.keyName.Alt&&this.settings.unformatOnHover&&this.hoveredWithAlt)this.constructor._reformatAltHovered(this);else if(!e.ctrlKey&&!e.metaKey||this.eventKey!==d.keyName.Backspace&&this.eventKey!==d.keyName.Delete){this._updateInternalProperties(e);var n=this._processNonPrintableKeysAndShortcuts(e);delete this.valuePartsBeforePaste;var a=M.getElementValue(e.target);if(!(n||""===a&&""===this.initialValueOnFirstKeydown)&&(a===this.settings.currencySymbol?this.settings.currencySymbolPlacement===B.options.currencySymbolPlacement.suffix?M.setElementSelection(e.target,0):M.setElementSelection(e.target,this.settings.currencySymbol.length):this.eventKey===d.keyName.Tab&&M.setElementSelection(e.target,0,a.length),(a===this.settings.suffixText||""===this.rawValue&&""!==this.settings.currencySymbol&&""!==this.settings.suffixText)&&M.setElementSelection(e.target,0),null!==this.settings.decimalPlacesShownOnFocus&&this._saveValueToPersistentStorage(),this.formatted||this._formatValue(e),this._setValidOrInvalidState(this.rawValue),this._saveRawValueForAndroid(),a!==this.initialValueOnFirstKeydown&&this._triggerEvent(B.events.formatted,e.target,{oldValue:this.initialValueOnFirstKeydown,newValue:a,oldRawValue:this.initialRawValueOnFirstKeydown,newRawValue:this.rawValue,isPristine:this.isPristine(!1),error:null,aNElement:this}),1<this.historyTable.length)){var r=M.getElementSelection(this.domElement);this.selectionStart=r.start,this.selectionEnd=r.end,this.historyTable[this.historyTableIndex].start=this.selectionStart,this.historyTable[this.historyTableIndex].end=this.selectionEnd}}else{var s=M.getElementValue(e.target);this._setRawValue(this._formatOrUnformatOther(!1,s))}}}},{key:"_saveRawValueForAndroid",value:function(){if(this.eventKey===d.keyName.AndroidDefault){var e=this.constructor._stripAllNonNumberCharactersExceptCustomDecimalChar(this.getFormatted(),this.settings,!0,this.isFocused);e=this.constructor._convertToNumericString(e,this.settings),this._setRawValue(e)}}},{key:"_onFocusOutAndMouseLeave",value:function(e){if(this.isEditing=!1,"mouseleave"!==e.type||!this.formulaMode)if(this.settings.unformatOnHover&&"mouseleave"===e.type&&this.hoveredWithAlt)this.constructor._reformatAltHovered(this);else if("mouseleave"===e.type&&!this.isFocused||"blur"===e.type){"blur"===e.type&&this.formulaMode&&this._exitFormulaMode(),this._saveValueToPersistentStorage(),this.settings.showOnlyNumbersOnFocus===B.options.showOnlyNumbersOnFocus.onlyNumbers&&(this.settings.digitGroupSeparator=this.originalDigitGroupSeparator,this.settings.currencySymbol=this.originalCurrencySymbol,this.settings.suffixText=this.originalSuffixText);var t=this._getRawValueToFormat(this.rawValue),i=M.isNull(t),n=S(this.constructor._checkIfInRangeWithOverrideOption(t,this.settings),2),a=n[0],r=n[1],s=!1;if(""===t||i||(this._triggerRangeEvents(a,r),this.settings.valuesToStrings&&this._checkValuesToStrings(t)&&(this._setElementValue(this.settings.valuesToStrings[t]),s=!0)),!s){var o;if(o=i||""===t?t:String(t),""===t||i){if(""===t)switch(this.settings.emptyInputBehavior){case B.options.emptyInputBehavior.zero:this._setRawValue("0"),o=this.constructor._roundValue("0",this.settings,0);break;case B.options.emptyInputBehavior.min:this._setRawValue(this.settings.minimumValue),o=this.constructor._roundFormattedValueShownOnFocusOrBlur(this.settings.minimumValue,this.settings,this.isFocused);break;case B.options.emptyInputBehavior.max:this._setRawValue(this.settings.maximumValue),o=this.constructor._roundFormattedValueShownOnFocusOrBlur(this.settings.maximumValue,this.settings,this.isFocused);break;default:M.isNumber(this.settings.emptyInputBehavior)&&(this._setRawValue(this.settings.emptyInputBehavior),o=this.constructor._roundFormattedValueShownOnFocusOrBlur(this.settings.emptyInputBehavior,this.settings,this.isFocused))}}else a&&r&&!this.constructor._isElementValueEmptyOrOnlyTheNegativeSign(t,this.settings)?(o=this._modifyNegativeSignAndDecimalCharacterForRawValue(o),this.settings.divisorWhenUnfocused&&!M.isNull(o)&&(o=(o/=this.settings.divisorWhenUnfocused).toString()),o=this.constructor._roundFormattedValueShownOnBlur(o,this.settings),o=this.constructor._modifyNegativeSignAndDecimalCharacterForFormattedValue(o,this.settings)):this._triggerRangeEvents(a,r);var l=this.constructor._orderValueCurrencySymbolAndSuffixText(o,this.settings,!1);this.constructor._isElementValueEmptyOrOnlyTheNegativeSign(o,this.settings)||i&&this.settings.emptyInputBehavior===B.options.emptyInputBehavior.null||(l=this.constructor._addGroupSeparators(o,this.settings,!1,t)),l===t&&""!==t&&this.settings.allowDecimalPadding!==B.options.allowDecimalPadding.never&&this.settings.allowDecimalPadding!==B.options.allowDecimalPadding.floats||(this.settings.symbolWhenUnfocused&&""!==t&&null!==t&&(l="".concat(l).concat(this.settings.symbolWhenUnfocused)),this._setElementValue(l))}this._setValidOrInvalidState(this.rawValue),"blur"===e.type&&this._onBlur(e)}}},{key:"_onPaste",value:function(e){if(e.preventDefault(),!(this.settings.readOnly||this.domElement.readOnly||this.domElement.disabled)){var t,i;window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?t=e.clipboardData.getData("text/plain"):M.throwError("Unable to retrieve the pasted value. Please use a modern browser (ie. Firefox or Chromium)."),i=e.target.tagName?e.target:e.explicitOriginalTarget;var n=M.getElementValue(i),a=i.selectionStart||0,r=i.selectionEnd||0,s=r-a;if(s===n.length){var o=this._preparePastedText(t),l=M.arabicToLatinNumbers(o,!1,!1,!1);return"."===l||""===l||"."!==l&&!M.isNumber(l)?(this.formatted=!0,void(this.settings.onInvalidPaste===B.options.onInvalidPaste.error&&M.throwError("The pasted value '".concat(t,"' is not a valid paste content.")))):(this.set(l),this.formatted=!0,void this._triggerEvent(B.events.native.input,i))}var u=M.isNegativeStrict(t,this.settings.negativeSignCharacter);u&&(t=t.slice(1,t.length));var c,h,m=this._preparePastedText(t);if("."!==(c="."===m?".":M.arabicToLatinNumbers(m,!1,!1,!1))&&(!M.isNumber(c)||""===c))return this.formatted=!0,void(this.settings.onInvalidPaste===B.options.onInvalidPaste.error&&M.throwError("The pasted value '".concat(t,"' is not a valid paste content.")));var g,d,v=M.isNegativeStrict(this.getNumericString(),this.settings.negativeSignCharacter);g=!(!u||v)&&(v=!0);var p=n.slice(0,a),f=n.slice(r,n.length);d=a!==r?this._preparePastedText(p+f):this._preparePastedText(n),v&&(d=M.setRawNegativeSign(d)),h=M.convertCharacterCountToIndexPosition(M.countNumberCharactersOnTheCaretLeftSide(n,a,this.settings.decimalCharacter)),g&&h++;var y=d.slice(0,h),S=d.slice(h,d.length),b=!1;"."===c&&(M.contains(y,".")&&(b=!0,y=y.replace(".","")),S=S.replace(".",""));var w=!1;switch(""===y&&"-"===S&&(y="-",w=!(S="")),this.settings.onInvalidPaste){case B.options.onInvalidPaste.truncate:case B.options.onInvalidPaste.replace:for(var P=M.parseStr(this.settings.minimumValue),O=M.parseStr(this.settings.maximumValue),k=d,N=0,E=y;N<c.length&&(d=(E+=c[N])+S,this.constructor._checkIfInRange(d,P,O));)k=d,N++;if(h+=N,w&&h++,this.settings.onInvalidPaste===B.options.onInvalidPaste.truncate){d=k,b&&h--;break}for(var _=h,C=k.length;N<c.length&&_<C;)if("."!==k[_]){if(d=M.replaceCharAt(k,_,c[N]),!this.constructor._checkIfInRange(d,P,O))break;k=d,N++,_++}else _++;h=_,b&&h--,d=k;break;case B.options.onInvalidPaste.error:case B.options.onInvalidPaste.ignore:case B.options.onInvalidPaste.clamp:default:if(d="".concat(y).concat(c).concat(S),a===r)h=M.convertCharacterCountToIndexPosition(M.countNumberCharactersOnTheCaretLeftSide(n,a,this.settings.decimalCharacter))+c.length;else if(""===S)h=M.convertCharacterCountToIndexPosition(M.countNumberCharactersOnTheCaretLeftSide(n,a,this.settings.decimalCharacter))+c.length,w&&h++;else{var F=M.convertCharacterCountToIndexPosition(M.countNumberCharactersOnTheCaretLeftSide(n,r,this.settings.decimalCharacter)),x=M.getElementValue(i).slice(a,r);h=F-s+M.countCharInText(this.settings.digitGroupSeparator,x)+c.length}g&&h++,b&&h--}if(M.isNumber(d)&&""!==d){var V=!1,T=!1;try{this.set(d),V=!0}catch(e){var A;switch(this.settings.onInvalidPaste){case B.options.onInvalidPaste.clamp:A=M.clampToRangeLimits(d,this.settings);try{this.set(A)}catch(e){M.throwError("Fatal error: Unable to set the clamped value '".concat(A,"'."))}V=T=!0,d=A;break;case B.options.onInvalidPaste.error:case B.options.onInvalidPaste.truncate:case B.options.onInvalidPaste.replace:M.throwError("The pasted value '".concat(t,"' results in a value '").concat(d,"' that is outside of the minimum [").concat(this.settings.minimumValue,"] and maximum [").concat(this.settings.maximumValue,"] value range."));case B.options.onInvalidPaste.ignore:default:return}}var L,I=M.getElementValue(i);if(V)switch(this.settings.onInvalidPaste){case B.options.onInvalidPaste.clamp:if(T){this.settings.currencySymbolPlacement===B.options.currencySymbolPlacement.suffix?M.setElementSelection(i,I.length-this.settings.currencySymbol.length):M.setElementSelection(i,I.length);break}case B.options.onInvalidPaste.error:case B.options.onInvalidPaste.ignore:case B.options.onInvalidPaste.truncate:case B.options.onInvalidPaste.replace:default:L=M.findCaretPositionInFormattedNumber(d,h,I,this.settings.decimalCharacter),M.setElementSelection(i,L)}V&&n!==I&&this._triggerEvent(B.events.native.input,i)}else this.settings.onInvalidPaste===B.options.onInvalidPaste.error&&M.throwError("The pasted value '".concat(t,"' would result into an invalid content '").concat(d,"'."))}}},{key:"_onBlur",value:function(e){this.isFocused=!1,this.isEditing=!1,this.rawValue!==this.rawValueOnFocus&&this._triggerEvent(B.events.native.change,e.target),this.rawValueOnFocus=void 0}},{key:"_onWheel",value:function(e){this.formulaMode||this.settings.readOnly||this.domElement.readOnly||this.domElement.disabled||this.settings.modifyValueOnWheel&&(this.settings.wheelOn===B.options.wheelOn.focus?this.isFocused?e.shiftKey||this.wheelAction(e):e.shiftKey&&this.wheelAction(e):this.settings.wheelOn===B.options.wheelOn.hover?e.shiftKey?(e.preventDefault(),window.scrollBy(0,M.isNegativeStrict(String(e.deltaY))?-50:50)):this.wheelAction(e):M.throwError("Unknown `wheelOn` option."))}},{key:"wheelAction",value:function(e){this.isWheelEvent=!0;var t,i=e.target.selectionStart||0,n=e.target.selectionEnd||0,a=this.rawValue;if(M.isUndefinedOrNullOrEmpty(a)?0<this.settings.minimumValue||this.settings.maximumValue<0?M.isWheelUpEvent(e)?t=this.settings.minimumValue:M.isWheelDownEvent(e)?t=this.settings.maximumValue:M.throwError("The event is not a 'wheel' event."):t=0:t=a,t=+t,M.isNumber(this.settings.wheelStep)){var r=+this.settings.wheelStep;M.isWheelUpEvent(e)?t+=r:M.isWheelDownEvent(e)&&(t-=r)}else M.isWheelUpEvent(e)?t=M.addAndRoundToNearestAuto(t,this.settings.decimalPlacesRawValue):M.isWheelDownEvent(e)&&(t=M.subtractAndRoundToNearestAuto(t,this.settings.decimalPlacesRawValue));(t=M.clampToRangeLimits(t,this.settings))!==+a&&(this.set(t),this._triggerEvent(B.events.native.input,e.target)),e.preventDefault(),this._setSelection(i,n),this.isWheelEvent=!1}},{key:"_onDrop",value:function(e){if(!this.formulaMode){var t;this.isDropEvent=!0,e.preventDefault(),t=M.isIE11()?"text":"text/plain";var i=e.dataTransfer.getData(t),n=this.unformatOther(i);this.set(n),this.isDropEvent=!1}}},{key:"_onFormSubmit",value:function(){var t=this;return this._getFormAutoNumericChildren(this.parentForm).map(function(e){return t.constructor.getAutoNumericElement(e)}).forEach(function(e){return e._unformatOnSubmit()}),!0}},{key:"_onFormReset",value:function(){var i=this;this._getFormAutoNumericChildren(this.parentForm).map(function(e){return i.constructor.getAutoNumericElement(e)}).forEach(function(e){var t=i._getDefaultValue(e.node());setTimeout(function(){return e.set(t)},0)})}},{key:"_unformatOnSubmit",value:function(){this.settings.unformatOnSubmit&&this._setElementValue(this.rawValue)}},{key:"_onKeydownGlobal",value:function(e){if(M.character(e)===d.keyName.Alt){var t=M.getHoveredElement();if(B.isManagedByAutoNumeric(t)){var i=B.getAutoNumericElement(t);!i.formulaMode&&i.settings.unformatOnHover&&this.constructor._unformatAltHovered(i)}}}},{key:"_onKeyupGlobal",value:function(e){if(M.character(e)===d.keyName.Alt){var t=M.getHoveredElement();if(B.isManagedByAutoNumeric(t)){var i=B.getAutoNumericElement(t);if(i.formulaMode||!i.settings.unformatOnHover)return;this.constructor._reformatAltHovered(i)}}}},{key:"_isElementTagSupported",value:function(){return M.isElement(this.domElement)||M.throwError("The DOM element is not valid, ".concat(this.domElement," given.")),M.isInArray(this.domElement.tagName.toLowerCase(),this.allowedTagList)}},{key:"_isInputElement",value:function(){return"input"===this.domElement.tagName.toLowerCase()}},{key:"_isInputTypeSupported",value:function(){return"text"===this.domElement.type||"hidden"===this.domElement.type||"tel"===this.domElement.type||M.isUndefinedOrNullOrEmpty(this.domElement.type)}},{key:"_checkElement",value:function(){var e=this.domElement.tagName.toLowerCase();this._isElementTagSupported()||M.throwError("The <".concat(e,"> tag is not supported by autoNumeric")),this._isInputElement()?(this._isInputTypeSupported()||M.throwError('The input type "'.concat(this.domElement.type,'" is not supported by autoNumeric')),this.isInputElement=!0):(this.isInputElement=!1,this.isContentEditable=this.domElement.hasAttribute("contenteditable")&&"true"===this.domElement.getAttribute("contenteditable"))}},{key:"_formatDefaultValueOnPageLoad",value:function(e){var t,i=0<arguments.length&&void 0!==e?e:null,n=!0;if(M.isNull(i)?(t=M.getElementValue(this.domElement).trim(),this.domElement.setAttribute("value",t)):t=i,this.isInputElement||this.isContentEditable){var a=this.constructor._toNumericValue(t,this.settings);if(this.domElement.hasAttribute("value")&&""!==this.domElement.getAttribute("value")){if(null!==this.settings.defaultValueOverride&&this.settings.defaultValueOverride.toString()!==t||null===this.settings.defaultValueOverride&&""!==t&&t!==this.domElement.getAttribute("value")||""!==t&&"hidden"===this.domElement.getAttribute("type")&&!M.isNumber(a)){if(this.settings.saveValueToSessionStorage&&(null!==this.settings.decimalPlacesShownOnFocus||this.settings.divisorWhenUnfocused)&&this._setRawValue(this._getValueFromPersistentStorage()),!this.settings.saveValueToSessionStorage){var r=this.constructor._removeBrackets(t,this.settings);(this.settings.negativePositiveSignPlacement===B.options.negativePositiveSignPlacement.suffix||this.settings.negativePositiveSignPlacement!==B.options.negativePositiveSignPlacement.prefix&&this.settings.currencySymbolPlacement===B.options.currencySymbolPlacement.suffix)&&""!==this.settings.negativeSignCharacter&&M.isNegative(t,this.settings.negativeSignCharacter)?this._setRawValue("-".concat(this.constructor._stripAllNonNumberCharacters(r,this.settings,!0,this.isFocused))):this._setRawValue(this.constructor._stripAllNonNumberCharacters(r,this.settings,!0,this.isFocused))}n=!1}}else isNaN(Number(a))||1/0===a?M.throwError("The value [".concat(t,"] used in the input is not a valid value autoNumeric can work with.")):(this.set(a),n=!1);if(""===t)switch(this.settings.emptyInputBehavior){case B.options.emptyInputBehavior.focus:case B.options.emptyInputBehavior.null:case B.options.emptyInputBehavior.press:break;case B.options.emptyInputBehavior.always:this._setElementValue(this.settings.currencySymbol);break;case B.options.emptyInputBehavior.min:this.set(this.settings.minimumValue);break;case B.options.emptyInputBehavior.max:this.set(this.settings.maximumValue);break;case B.options.emptyInputBehavior.zero:this.set("0");break;default:this.set(this.settings.emptyInputBehavior)}else n&&t===this.domElement.getAttribute("value")&&this.set(t)}else null!==this.settings.defaultValueOverride&&this.settings.defaultValueOverride!==t||this.set(t)}},{key:"_calculateVMinAndVMaxIntegerSizes",value:function(){var e=S(this.settings.maximumValue.toString().split("."),1)[0],t=S(this.settings.minimumValue||0===this.settings.minimumValue?this.settings.minimumValue.toString().split("."):[],1)[0];e=e.replace(this.settings.negativeSignCharacter,""),t=t.replace(this.settings.negativeSignCharacter,""),this.settings.mIntPos=Math.max(e.length,1),this.settings.mIntNeg=Math.max(t.length,1)}},{key:"_calculateValuesToStringsKeys",value:function(){this.settings.valuesToStrings?this.valuesToStringsKeys=Object.keys(this.settings.valuesToStrings):this.valuesToStringsKeys=[]}},{key:"_transformOptionsValuesToDefaultTypes",value:function(){for(var e in this.settings)if(Object.prototype.hasOwnProperty.call(this.settings,e)){var t=this.settings[e];"true"!==t&&"false"!==t||(this.settings[e]="true"===t),"number"==typeof t&&(this.settings[e]=t.toString())}}},{key:"_setSettings",value:function(e,t){var i=1<arguments.length&&void 0!==t&&t;!i&&M.isNull(e)||this.constructor._convertOldOptionsToNewOnes(e),i?("decimalPlacesRawValue"in e&&(this.settings.originalDecimalPlacesRawValue=e.decimalPlacesRawValue),"decimalPlaces"in e&&(this.settings.originalDecimalPlaces=e.decimalPlaces),this.constructor._calculateDecimalPlacesOnUpdate(e,this.settings),this._mergeSettings(e)):(this.settings={},this._mergeSettings(this.constructor.getDefaultConfig(),this.domElement.dataset,e,{rawValue:this.defaultRawValue}),this.caretFix=!1,this.throwInput=!0,this.allowedTagList=d.allowedTagList,this.runOnce=!1,this.hoveredWithAlt=!1),this._transformOptionsValuesToDefaultTypes(),this._runCallbacksFoundInTheSettingsObject(),this.constructor._correctNegativePositiveSignPlacementOption(this.settings),this.constructor._correctCaretPositionOnFocusAndSelectOnFocusOptions(this.settings),this.constructor._setNegativePositiveSignPermissions(this.settings),i||(M.isNull(e)||!e.decimalPlaces?this.settings.originalDecimalPlaces=null:this.settings.originalDecimalPlaces=e.decimalPlaces,this.settings.originalDecimalPlacesRawValue=this.settings.decimalPlacesRawValue,this.constructor._calculateDecimalPlacesOnInit(this.settings)),this._calculateVMinAndVMaxIntegerSizes(),this._setTrailingNegativeSignInfo(),this.regex={},this.constructor._cachesUsualRegularExpressions(this.settings,this.regex),this.constructor._setBrackets(this.settings),this._calculateValuesToStringsKeys(),M.isEmptyObj(this.settings)&&M.throwError("Unable to set the settings, those are invalid ; an empty object was given."),this.constructor.validate(this.settings,!1,e),this._keepAnOriginalSettingsCopy()}},{key:"_preparePastedText",value:function(e){return this.constructor._stripAllNonNumberCharacters(e,this.settings,!0,this.isFocused)}},{key:"_updateInternalProperties",value:function(){this.selection=M.getElementSelection(this.domElement),this.processed=!1}},{key:"_updateEventKeyInfo",value:function(e){this.eventKey=M.character(e)}},{key:"_saveCancellableValue",value:function(){this.savedCancellableValue=this.rawValue}},{key:"_setSelection",value:function(e,t){e=Math.max(e,0),t=Math.min(t,M.getElementValue(this.domElement).length),this.selection={start:e,end:t,length:t-e},M.setElementSelection(this.domElement,e,t)}},{key:"_setCaretPosition",value:function(e){this._setSelection(e,e)}},{key:"_getLeftAndRightPartAroundTheSelection",value:function(){var e=M.getElementValue(this.domElement);return[e.substring(0,this.selection.start),e.substring(this.selection.end,e.length)]}},{key:"_getUnformattedLeftAndRightPartAroundTheSelection",value:function(){var e=S(this._getLeftAndRightPartAroundTheSelection(),2),t=e[0],i=e[1];if(""===t&&""===i)return["",""];var n=!0;return this.eventKey!==d.keyName.Hyphen&&this.eventKey!==d.keyName.Minus||0!==Number(t)||(n=!1),this.isTrailingNegative&&(M.isNegative(i,this.settings.negativeSignCharacter)&&!M.isNegative(t,this.settings.negativeSignCharacter)||""===i&&M.isNegative(t,this.settings.negativeSignCharacter,!0))&&(t=t.replace(this.settings.negativeSignCharacter,""),i=i.replace(this.settings.negativeSignCharacter,""),t=t.replace("-",""),i=i.replace("-",""),t="-".concat(t)),[t=B._stripAllNonNumberCharactersExceptCustomDecimalChar(t,this.settings,n,this.isFocused),i=B._stripAllNonNumberCharactersExceptCustomDecimalChar(i,this.settings,!1,this.isFocused)]}},{key:"_normalizeParts",value:function(e,t){var i=!0;this.eventKey!==d.keyName.Hyphen&&this.eventKey!==d.keyName.Minus||0!==Number(e)||(i=!1),this.isTrailingNegative&&M.isNegative(t,this.settings.negativeSignCharacter)&&!M.isNegative(e,this.settings.negativeSignCharacter)&&(e="-".concat(e),t=t.replace(this.settings.negativeSignCharacter,"")),e=B._stripAllNonNumberCharactersExceptCustomDecimalChar(e,this.settings,i,this.isFocused),t=B._stripAllNonNumberCharactersExceptCustomDecimalChar(t,this.settings,!1,this.isFocused),this.settings.leadingZero!==B.options.leadingZero.deny||this.eventKey!==d.keyName.num0&&this.eventKey!==d.keyName.numpad0||0!==Number(e)||M.contains(e,this.settings.decimalCharacter)||""===t||(e=e.substring(0,e.length-1));var n=e+t;if(this.settings.decimalCharacter){var a=n.match(new RegExp("^".concat(this.regex.aNegRegAutoStrip,"\\").concat(this.settings.decimalCharacter)));a&&(n=(e=e.replace(a[1],a[1]+"0"))+t)}return[e,t,n]}},{key:"_setValueParts",value:function(e,t,i){var n=2<arguments.length&&void 0!==i&&i,a=S(this._normalizeParts(e,t),3),r=a[0],s=a[1],o=a[2],l=S(B._checkIfInRangeWithOverrideOption(o,this.settings),2),u=l[0],c=l[1];if(u&&c){var h=B._truncateDecimalPlaces(o,this.settings,n,this.settings.decimalPlacesRawValue).replace(this.settings.decimalCharacter,".");if(""===h||h===this.settings.negativeSignCharacter){var m;switch(this.settings.emptyInputBehavior){case B.options.emptyInputBehavior.focus:case B.options.emptyInputBehavior.press:case B.options.emptyInputBehavior.always:m="";break;case B.options.emptyInputBehavior.min:m=this.settings.minimumValue;break;case B.options.emptyInputBehavior.max:m=this.settings.maximumValue;break;case B.options.emptyInputBehavior.zero:m="0";break;case B.options.emptyInputBehavior.null:m=null;break;default:m=this.settings.emptyInputBehavior}this._setRawValue(m)}else this._setRawValue(this._trimLeadingAndTrailingZeros(h));var g=B._truncateDecimalPlaces(o,this.settings,n,this.settings.decimalPlacesShownOnFocus),d=r.length;return d>g.length&&(d=g.length),1===d&&"0"===r&&this.settings.leadingZero===B.options.leadingZero.deny&&(d=""===s||"0"===r&&""!==s?1:0),this._setElementValue(g,!1),this._setCaretPosition(d),!0}return this._triggerRangeEvents(u,c),!1}},{key:"_getSignPosition",value:function(){var e;if(this.settings.currencySymbol){var t=this.settings.currencySymbol.length,i=M.getElementValue(this.domElement);if(this.settings.currencySymbolPlacement===B.options.currencySymbolPlacement.prefix)e=this.settings.negativeSignCharacter&&i&&i.charAt(0)===this.settings.negativeSignCharacter?[1,t+1]:[0,t];else{var n=i.length;e=[n-t,n]}}else e=[1e3,-1];return e}},{key:"_expandSelectionOnSign",value:function(){var e=S(this._getSignPosition(),2),t=e[0],i=e[1],n=this.selection;n.start<i&&n.end>t&&((n.start<t||n.end>i)&&M.getElementValue(this.domElement).substring(Math.max(n.start,t),Math.min(n.end,i)).match(/^\s*$/)?n.start<t?this._setSelection(n.start,t):this._setSelection(i,n.end):this._setSelection(Math.min(n.start,t),Math.max(n.end,i)))}},{key:"_checkPaste",value:function(){if(!this.formatted&&!M.isUndefined(this.valuePartsBeforePaste)){var e=this.valuePartsBeforePaste,t=S(this._getLeftAndRightPartAroundTheSelection(),2),i=t[0],n=t[1];delete this.valuePartsBeforePaste;var a=i.substr(0,e[0].length)+B._stripAllNonNumberCharactersExceptCustomDecimalChar(i.substr(e[0].length),this.settings,!0,this.isFocused);this._setValueParts(a,n,!0)||(this._setElementValue(e.join(""),!1),this._setCaretPosition(e[0].length))}}},{key:"_processNonPrintableKeysAndShortcuts",value:function(e){if((e.ctrlKey||e.metaKey)&&"keyup"===e.type&&!M.isUndefined(this.valuePartsBeforePaste)||e.shiftKey&&this.eventKey===d.keyName.Insert)return this._checkPaste(),!1;if(this.constructor._shouldSkipEventKey(this.eventKey))return!0;if((e.ctrlKey||e.metaKey)&&this.eventKey===d.keyName.a)return this.settings.selectNumberOnly&&(e.preventDefault(),this.selectNumber()),!0;if((e.ctrlKey||e.metaKey)&&(this.eventKey===d.keyName.c||this.eventKey===d.keyName.v||this.eventKey===d.keyName.x))return"keydown"===e.type&&this._expandSelectionOnSign(),this.eventKey!==d.keyName.v&&this.eventKey!==d.keyName.Insert||("keydown"===e.type||"keypress"===e.type?M.isUndefined(this.valuePartsBeforePaste)&&(this.valuePartsBeforePaste=this._getLeftAndRightPartAroundTheSelection()):this._checkPaste()),"keydown"===e.type||"keypress"===e.type||this.eventKey===d.keyName.c;if(e.ctrlKey||e.metaKey)return!(this.eventKey===d.keyName.Z||this.eventKey===d.keyName.z);if(this.eventKey!==d.keyName.LeftArrow&&this.eventKey!==d.keyName.RightArrow)return M.isInArray(this.eventKey,d.keyName._directionKeys);if("keydown"===e.type&&!e.shiftKey){var t=M.getElementValue(this.domElement);this.eventKey!==d.keyName.LeftArrow||t.charAt(this.selection.start-2)!==this.settings.digitGroupSeparator&&t.charAt(this.selection.start-2)!==this.settings.decimalCharacter?this.eventKey!==d.keyName.RightArrow||t.charAt(this.selection.start+1)!==this.settings.digitGroupSeparator&&t.charAt(this.selection.start+1)!==this.settings.decimalCharacter||this._setCaretPosition(this.selection.start+1):this._setCaretPosition(this.selection.start-1)}return!0}},{key:"_processCharacterDeletionIfTrailingNegativeSign",value:function(e){var t=S(e,2),i=t[0],n=t[1],a=M.getElementValue(this.domElement),r=M.isNegative(a,this.settings.negativeSignCharacter);if(this.settings.currencySymbolPlacement===B.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===B.options.negativePositiveSignPlacement.suffix&&(this.eventKey===d.keyName.Backspace?(this.caretFix=this.selection.start>=a.indexOf(this.settings.suffixText)&&""!==this.settings.suffixText,"-"===a.charAt(this.selection.start-1)?i=i.substring(1):this.selection.start<=a.length-this.settings.suffixText.length&&(i=i.substring(0,i.length-1))):(this.caretFix=this.selection.start>=a.indexOf(this.settings.suffixText)&&""!==this.settings.suffixText,this.selection.start>=a.indexOf(this.settings.currencySymbol)+this.settings.currencySymbol.length&&(n=n.substring(1,n.length)),M.isNegative(i,this.settings.negativeSignCharacter)&&"-"===a.charAt(this.selection.start)&&(i=i.substring(1)))),this.settings.currencySymbolPlacement===B.options.currencySymbolPlacement.suffix)switch(this.settings.negativePositiveSignPlacement){case B.options.negativePositiveSignPlacement.left:this.caretFix=this.selection.start>=a.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length,this.eventKey===d.keyName.Backspace?this.selection.start===a.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length&&r?i=i.substring(1):"-"!==i&&(this.selection.start<=a.indexOf(this.settings.negativeSignCharacter)||!r)&&(i=i.substring(0,i.length-1)):("-"===i[0]&&(n=n.substring(1)),this.selection.start===a.indexOf(this.settings.negativeSignCharacter)&&r&&(i=i.substring(1)));break;case B.options.negativePositiveSignPlacement.right:this.caretFix=this.selection.start>=a.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length,this.eventKey===d.keyName.Backspace?this.selection.start===a.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length?i=i.substring(1):("-"!==i&&this.selection.start<=a.indexOf(this.settings.negativeSignCharacter)-this.settings.currencySymbol.length||""!==i&&!r)&&(i=i.substring(0,i.length-1)):(this.caretFix=this.selection.start>=a.indexOf(this.settings.currencySymbol)&&""!==this.settings.currencySymbol,this.selection.start===a.indexOf(this.settings.negativeSignCharacter)&&(i=i.substring(1)),n=n.substring(1))}return[i,n]}},{key:"_processCharacterDeletion",value:function(){var e,t;if(this.selection.length){this._expandSelectionOnSign();var i=S(this._getUnformattedLeftAndRightPartAroundTheSelection(),2);e=i[0],t=i[1]}else{var n=S(this._getUnformattedLeftAndRightPartAroundTheSelection(),2);if(e=n[0],t=n[1],""===e&&""===t&&(this.throwInput=!1),this.isTrailingNegative&&M.isNegative(M.getElementValue(this.domElement),this.settings.negativeSignCharacter)){var a=S(this._processCharacterDeletionIfTrailingNegativeSign([e,t]),2);e=a[0],t=a[1]}else this.eventKey===d.keyName.Backspace?e=e.substring(0,e.length-1):t=t.substring(1,t.length)}return!!this.constructor._isWithinRangeWithOverrideOption("".concat(e).concat(t),this.settings)&&(this._setValueParts(e,t),!0)}},{key:"_isDecimalCharacterInsertionAllowed",value:function(){return String(this.settings.decimalPlacesShownOnFocus)!==String(B.options.decimalPlacesShownOnFocus.none)&&String(this.settings.decimalPlaces)!==String(B.options.decimalPlaces.none)}},{key:"_processCharacterInsertion",value:function(){var e=S(this._getUnformattedLeftAndRightPartAroundTheSelection(),2),t=e[0],i=e[1];if(this.eventKey!==d.keyName.AndroidDefault&&(this.throwInput=!0),this.eventKey===this.settings.decimalCharacter||this.settings.decimalCharacterAlternative&&this.eventKey===this.settings.decimalCharacterAlternative){if(!this._isDecimalCharacterInsertionAllowed()||!this.settings.decimalCharacter)return!1;if(this.settings.alwaysAllowDecimalCharacter)t=t.replace(this.settings.decimalCharacter,""),i=i.replace(this.settings.decimalCharacter,"");else{if(M.contains(t,this.settings.decimalCharacter))return!0;if(0<i.indexOf(this.settings.decimalCharacter))return!0;0===i.indexOf(this.settings.decimalCharacter)&&(i=i.substr(1))}return this.settings.negativeSignCharacter&&M.contains(i,this.settings.negativeSignCharacter)&&(t="".concat(this.settings.negativeSignCharacter).concat(t),i=i.replace(this.settings.negativeSignCharacter,"")),this._setValueParts(t+this.settings.decimalCharacter,i),!0}if(("-"===this.eventKey||"+"===this.eventKey)&&this.settings.isNegativeSignAllowed)return""===t&&M.contains(i,"-")?i=i.replace("-",""):t=M.isNegativeStrict(t,"-")?t.replace("-",""):"".concat(this.settings.negativeSignCharacter).concat(t),this._setValueParts(t,i),!0;var n=Number(this.eventKey);return 0<=n&&n<=9?(this.settings.isNegativeSignAllowed&&""===t&&M.contains(i,"-")&&(t="-",i=i.substring(1,i.length)),this.settings.maximumValue<=0&&this.settings.minimumValue<this.settings.maximumValue&&!M.contains(M.getElementValue(this.domElement),this.settings.negativeSignCharacter)&&"0"!==this.eventKey&&(t="-".concat(t)),this._setValueParts("".concat(t).concat(this.eventKey),i),!0):this.throwInput=!1}},{key:"_formatValue",value:function(e){var t=M.getElementValue(this.domElement),i=S(this._getUnformattedLeftAndRightPartAroundTheSelection(),1)[0];if((""===this.settings.digitGroupSeparator||""!==this.settings.digitGroupSeparator&&!M.contains(t,this.settings.digitGroupSeparator))&&(""===this.settings.currencySymbol||""!==this.settings.currencySymbol&&!M.contains(t,this.settings.currencySymbol))){var n=S(t.split(this.settings.decimalCharacter),1)[0],a="";M.isNegative(n,this.settings.negativeSignCharacter)&&(a=this.settings.negativeSignCharacter,n=n.replace(this.settings.negativeSignCharacter,""),i=i.replace("-","")),""===a&&n.length>this.settings.mIntPos&&"0"===i.charAt(0)&&(i=i.slice(1)),a===this.settings.negativeSignCharacter&&n.length>this.settings.mIntNeg&&"0"===i.charAt(0)&&(i=i.slice(1)),this.isTrailingNegative||(i="".concat(a).concat(i))}var r=this.constructor._addGroupSeparators(t,this.settings,this.isFocused,this.rawValue),s=r.length;if(r){var o,l=i.split("");if((this.settings.negativePositiveSignPlacement===B.options.negativePositiveSignPlacement.suffix||this.settings.negativePositiveSignPlacement!==B.options.negativePositiveSignPlacement.prefix&&this.settings.currencySymbolPlacement===B.options.currencySymbolPlacement.suffix)&&l[0]===this.settings.negativeSignCharacter&&!this.settings.isNegativeSignAllowed&&(l.shift(),(this.eventKey===d.keyName.Backspace||this.eventKey===d.keyName.Delete)&&this.caretFix&&((this.settings.currencySymbolPlacement===B.options.currencySymbolPlacement.suffix&&this.settings.negativePositiveSignPlacement===B.options.negativePositiveSignPlacement.left||this.settings.currencySymbolPlacement===B.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===B.options.negativePositiveSignPlacement.suffix)&&(l.push(this.settings.negativeSignCharacter),this.caretFix="keydown"===e.type),this.settings.currencySymbolPlacement===B.options.currencySymbolPlacement.suffix&&this.settings.negativePositiveSignPlacement===B.options.negativePositiveSignPlacement.right))){var u=this.settings.currencySymbol.split(""),c=["\\","^","$",".","|","?","*","+","(",")","["],h=[];u.forEach(function(e,t){t=u[e],M.isInArray(t,c)?h.push("\\"+t):h.push(t)}),this.eventKey===d.keyName.Backspace&&"-"===this.settings.negativeSignCharacter&&h.push("-"),l.push(h.join("")),this.caretFix="keydown"===e.type}for(var m=0;m<l.length;m++)l[m].match("\\d")||(l[m]="\\"+l[m]);o=this.settings.currencySymbolPlacement===B.options.currencySymbolPlacement.suffix?new RegExp("^.*?".concat(l.join(".*?"))):new RegExp("^.*?".concat(this.settings.currencySymbol).concat(l.join(".*?")));var g=r.match(o);g?(s=g[0].length,this.settings.showPositiveSign&&(0===s&&g.input.charAt(0)===this.settings.positiveSignCharacter&&(s=1===g.input.indexOf(this.settings.currencySymbol)?this.settings.currencySymbol.length+1:1),0===s&&g.input.charAt(this.settings.currencySymbol.length)===this.settings.positiveSignCharacter&&(s=this.settings.currencySymbol.length+1)),(0===s&&r.charAt(0)!==this.settings.negativeSignCharacter||1===s&&r.charAt(0)===this.settings.negativeSignCharacter)&&this.settings.currencySymbol&&this.settings.currencySymbolPlacement===B.options.currencySymbolPlacement.prefix&&(s=this.settings.currencySymbol.length+(M.isNegativeStrict(r,this.settings.negativeSignCharacter)?1:0))):(this.settings.currencySymbol&&this.settings.currencySymbolPlacement===B.options.currencySymbolPlacement.suffix&&(s-=this.settings.currencySymbol.length),this.settings.suffixText&&(s-=this.settings.suffixText.length))}r!==t&&(this._setElementValue(r,!1),this._setCaretPosition(s)),this.formatted=!0}}]),P(e,t),B}();function N(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}k.multiple=function(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=[];if(M.isObject(i)&&(t=i,i=null),M.isString(e))e=p(document.querySelectorAll(e));else if(M.isObject(e)){Object.prototype.hasOwnProperty.call(e,"rootElement")||M.throwError("The object passed to the 'multiple' function is invalid ; no 'rootElement' attribute found.");var a=p(e.rootElement.querySelectorAll("input"));e=Object.prototype.hasOwnProperty.call(e,"exclude")?(Array.isArray(e.exclude)||M.throwError("The 'exclude' array passed to the 'multiple' function is invalid."),M.filterOut(a,e.exclude)):a}else M.isArray(e)||M.throwError("The given parameters to the 'multiple' function are invalid.");if(0===e.length){var r=!0;return!M.isNull(t)&&M.isBoolean(t.showWarnings)&&(r=t.showWarnings),M.warning("No valid DOM elements were given hence no AutoNumeric objects were instantiated.",r),[]}var s=M.isArray(i)&&1<=i.length,o=!1,l=!1;if(s){var u=w(Number(i[0]));(o="number"===u&&!isNaN(Number(i[0])))||"string"!==u&&!isNaN(u)&&"object"!==u||(l=!0)}var c,h=!1;if(M.isArray(t)&&1<=t.length){var m=w(t[0]);"string"!==m&&"object"!==m||(h=!0)}c=l?k.mergeOptions(i):h?k.mergeOptions(t):t;var g,d=M.isNumber(i);return o&&(g=i.length),e.forEach(function(e,t){d?n.push(new k(e,i,c)):o&&t<=g?n.push(new k(e,i[t],c)):n.push(new k(e,null,c))}),n},Array.from||(Array.from=function(e){return[].slice.call(e)}),"undefined"!=typeof window&&"function"!=typeof window.CustomEvent&&(N.prototype=window.Event.prototype,window.CustomEvent=N),k.events={correctedValue:"autoNumeric:correctedValue",initialized:"autoNumeric:initialized",invalidFormula:"autoNumeric:invalidFormula",invalidValue:"autoNumeric:invalidValue",formatted:"autoNumeric:formatted",rawValueModified:"autoNumeric:rawValueModified",minRangeExceeded:"autoNumeric:minExceeded",maxRangeExceeded:"autoNumeric:maxExceeded",native:{input:"input",change:"change"},validFormula:"autoNumeric:validFormula"},Object.freeze(k.events.native),Object.freeze(k.events),Object.defineProperty(k,"events",{configurable:!1,writable:!1}),k.options={allowDecimalPadding:{always:!0,never:!1,floats:"floats"},alwaysAllowDecimalCharacter:{alwaysAllow:!0,doNotAllow:!1},caretPositionOnFocus:{start:"start",end:"end",decimalLeft:"decimalLeft",decimalRight:"decimalRight",doNoForceCaretPosition:null},createLocalList:{createList:!0,doNotCreateList:!1},currencySymbol:{none:"",currencySign:"¤",austral:"₳",australCentavo:"¢",baht:"฿",cedi:"₵",cent:"¢",colon:"₡",cruzeiro:"₢",dollar:"$",dong:"₫",drachma:"₯",dram:"​֏",european:"₠",euro:"€",florin:"ƒ",franc:"₣",guarani:"₲",hryvnia:"₴",kip:"₭",att:"ອັດ",lepton:"Λ.",lira:"₺",liraOld:"₤",lari:"₾",mark:"ℳ",mill:"₥",naira:"₦",peseta:"₧",peso:"₱",pfennig:"₰",pound:"£",real:"R$",riel:"៛",ruble:"₽",rupee:"₹",rupeeOld:"₨",shekel:"₪",shekelAlt:"ש״ח‎‎",taka:"৳",tenge:"₸",togrog:"₮",won:"₩",yen:"¥"},currencySymbolPlacement:{prefix:"p",suffix:"s"},decimalCharacter:{comma:",",dot:".",middleDot:"·",arabicDecimalSeparator:"٫",decimalSeparatorKeySymbol:"⎖"},decimalCharacterAlternative:{none:null,comma:",",dot:"."},decimalPlaces:{none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesRawValue:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesShownOnBlur:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesShownOnFocus:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},defaultValueOverride:{doNotOverride:null},digitalGroupSpacing:{two:"2",twoScaled:"2s",three:"3",four:"4"},digitGroupSeparator:{comma:",",dot:".",normalSpace:" ",thinSpace:" ",narrowNoBreakSpace:" ",noBreakSpace:" ",noSeparator:"",apostrophe:"'",arabicThousandsSeparator:"٬",dotAbove:"˙",privateUseTwo:"’"},divisorWhenUnfocused:{none:null,percentage:100,permille:1e3,basisPoint:1e4},emptyInputBehavior:{focus:"focus",press:"press",always:"always",zero:"zero",min:"min",max:"max",null:"null"},eventBubbles:{bubbles:!0,doesNotBubble:!1},eventIsCancelable:{isCancelable:!0,isNotCancelable:!1},failOnUnknownOption:{fail:!0,ignore:!1},formatOnPageLoad:{format:!0,doNotFormat:!1},formulaMode:{enabled:!0,disabled:!1},historySize:{verySmall:5,small:10,medium:20,large:50,veryLarge:100,insane:Number.MAX_SAFE_INTEGER},invalidClass:"an-invalid",isCancellable:{cancellable:!0,notCancellable:!1},leadingZero:{allow:"allow",deny:"deny",keep:"keep"},maximumValue:{tenTrillions:"10000000000000",oneBillion:"1000000000",zero:"0"},minimumValue:{tenTrillions:"-10000000000000",oneBillion:"-1000000000",zero:"0"},modifyValueOnWheel:{modifyValue:!0,doNothing:!1},negativeBracketsTypeOnBlur:{parentheses:"(,)",brackets:"[,]",chevrons:"<,>",curlyBraces:"{,}",angleBrackets:"〈,〉",japaneseQuotationMarks:"｢,｣",halfBrackets:"⸤,⸥",whiteSquareBrackets:"⟦,⟧",quotationMarks:"‹,›",guillemets:"«,»",none:null},negativePositiveSignPlacement:{prefix:"p",suffix:"s",left:"l",right:"r",none:null},negativeSignCharacter:{hyphen:"-",minus:"−",heavyMinus:"➖",fullWidthHyphen:"－",circledMinus:"⊖",squaredMinus:"⊟",triangleMinus:"⨺",plusMinus:"±",minusPlus:"∓",dotMinus:"∸",minusTilde:"≂",not:"¬"},noEventListeners:{noEvents:!0,addEvents:!1},onInvalidPaste:{error:"error",ignore:"ignore",clamp:"clamp",truncate:"truncate",replace:"replace"},outputFormat:{string:"string",number:"number",dot:".",negativeDot:"-.",comma:",",negativeComma:"-,",dotNegative:".-",commaNegative:",-",none:null},overrideMinMaxLimits:{ceiling:"ceiling",floor:"floor",ignore:"ignore",invalid:"invalid",doNotOverride:null},positiveSignCharacter:{plus:"+",fullWidthPlus:"＋",heavyPlus:"➕",doublePlus:"⧺",triplePlus:"⧻",circledPlus:"⊕",squaredPlus:"⊞",trianglePlus:"⨹",plusMinus:"±",minusPlus:"∓",dotPlus:"∔",altHebrewPlus:"﬩",normalSpace:" ",thinSpace:" ",narrowNoBreakSpace:" ",noBreakSpace:" "},rawValueDivisor:{none:null,percentage:100,permille:1e3,basisPoint:1e4},readOnly:{readOnly:!0,readWrite:!1},roundingMethod:{halfUpSymmetric:"S",halfUpAsymmetric:"A",halfDownSymmetric:"s",halfDownAsymmetric:"a",halfEvenBankersRounding:"B",upRoundAwayFromZero:"U",downRoundTowardZero:"D",toCeilingTowardPositiveInfinity:"C",toFloorTowardNegativeInfinity:"F",toNearest05:"N05",toNearest05Alt:"CHF",upToNext05:"U05",downToNext05:"D05"},saveValueToSessionStorage:{save:!0,doNotSave:!1},selectNumberOnly:{selectNumbersOnly:!0,selectAll:!1},selectOnFocus:{select:!0,doNotSelect:!1},serializeSpaces:{plus:"+",percent:"%20"},showOnlyNumbersOnFocus:{onlyNumbers:!0,showAll:!1},showPositiveSign:{show:!0,hide:!1},showWarnings:{show:!0,hide:!1},styleRules:{none:null,positiveNegative:{positive:"autoNumeric-positive",negative:"autoNumeric-negative"},range0To100With4Steps:{ranges:[{min:0,max:25,class:"autoNumeric-red"},{min:25,max:50,class:"autoNumeric-orange"},{min:50,max:75,class:"autoNumeric-yellow"},{min:75,max:100,class:"autoNumeric-green"}]},evenOdd:{userDefined:[{callback:function(e){return e%2==0},classes:["autoNumeric-even","autoNumeric-odd"]}]},rangeSmallAndZero:{userDefined:[{callback:function(e){return-1<=e&&e<0?0:0===Number(e)?1:0<e&&e<=1?2:null},classes:["autoNumeric-small-negative","autoNumeric-zero","autoNumeric-small-positive"]}]}},suffixText:{none:"",percentage:"%",permille:"‰",basisPoint:"‱"},symbolWhenUnfocused:{none:null,percentage:"%",permille:"‰",basisPoint:"‱"},unformatOnHover:{unformat:!0,doNotUnformat:!1},unformatOnSubmit:{unformat:!0,keepCurrentValue:!1},valuesToStrings:{none:null,zeroDash:{0:"-"},oneAroundZero:{"-1":"Min",1:"Max"}},watchExternalChanges:{watch:!0,doNotWatch:!1},wheelOn:{focus:"focus",hover:"hover"},wheelStep:{progressive:"progressive"}},O=k.options,Object.getOwnPropertyNames(O).forEach(function(e){"valuesToStrings"===e?Object.getOwnPropertyNames(O.valuesToStrings).forEach(function(e){M.isIE11()||null===O.valuesToStrings[e]||Object.freeze(O.valuesToStrings[e])}):"styleRules"!==e&&(M.isIE11()||null===O[e]||Object.freeze(O[e]))}),Object.freeze(O),Object.defineProperty(k,"options",{configurable:!1,writable:!1}),k.defaultSettings={allowDecimalPadding:k.options.allowDecimalPadding.always,alwaysAllowDecimalCharacter:k.options.alwaysAllowDecimalCharacter.doNotAllow,caretPositionOnFocus:k.options.caretPositionOnFocus.doNoForceCaretPosition,createLocalList:k.options.createLocalList.createList,currencySymbol:k.options.currencySymbol.none,currencySymbolPlacement:k.options.currencySymbolPlacement.prefix,decimalCharacter:k.options.decimalCharacter.dot,decimalCharacterAlternative:k.options.decimalCharacterAlternative.none,decimalPlaces:k.options.decimalPlaces.two,decimalPlacesRawValue:k.options.decimalPlacesRawValue.useDefault,decimalPlacesShownOnBlur:k.options.decimalPlacesShownOnBlur.useDefault,decimalPlacesShownOnFocus:k.options.decimalPlacesShownOnFocus.useDefault,defaultValueOverride:k.options.defaultValueOverride.doNotOverride,digitalGroupSpacing:k.options.digitalGroupSpacing.three,digitGroupSeparator:k.options.digitGroupSeparator.comma,divisorWhenUnfocused:k.options.divisorWhenUnfocused.none,emptyInputBehavior:k.options.emptyInputBehavior.focus,eventBubbles:k.options.eventBubbles.bubbles,eventIsCancelable:k.options.eventIsCancelable.isCancelable,failOnUnknownOption:k.options.failOnUnknownOption.ignore,formatOnPageLoad:k.options.formatOnPageLoad.format,formulaMode:k.options.formulaMode.disabled,historySize:k.options.historySize.medium,invalidClass:k.options.invalidClass,isCancellable:k.options.isCancellable.cancellable,leadingZero:k.options.leadingZero.deny,maximumValue:k.options.maximumValue.tenTrillions,minimumValue:k.options.minimumValue.tenTrillions,modifyValueOnWheel:k.options.modifyValueOnWheel.modifyValue,negativeBracketsTypeOnBlur:k.options.negativeBracketsTypeOnBlur.none,negativePositiveSignPlacement:k.options.negativePositiveSignPlacement.none,negativeSignCharacter:k.options.negativeSignCharacter.hyphen,noEventListeners:k.options.noEventListeners.addEvents,onInvalidPaste:k.options.onInvalidPaste.error,outputFormat:k.options.outputFormat.none,overrideMinMaxLimits:k.options.overrideMinMaxLimits.doNotOverride,positiveSignCharacter:k.options.positiveSignCharacter.plus,rawValueDivisor:k.options.rawValueDivisor.none,readOnly:k.options.readOnly.readWrite,roundingMethod:k.options.roundingMethod.halfUpSymmetric,saveValueToSessionStorage:k.options.saveValueToSessionStorage.doNotSave,selectNumberOnly:k.options.selectNumberOnly.selectNumbersOnly,selectOnFocus:k.options.selectOnFocus.select,serializeSpaces:k.options.serializeSpaces.plus,showOnlyNumbersOnFocus:k.options.showOnlyNumbersOnFocus.showAll,showPositiveSign:k.options.showPositiveSign.hide,showWarnings:k.options.showWarnings.show,styleRules:k.options.styleRules.none,suffixText:k.options.suffixText.none,symbolWhenUnfocused:k.options.symbolWhenUnfocused.none,unformatOnHover:k.options.unformatOnHover.unformat,unformatOnSubmit:k.options.unformatOnSubmit.keepCurrentValue,valuesToStrings:k.options.valuesToStrings.none,watchExternalChanges:k.options.watchExternalChanges.doNotWatch,wheelOn:k.options.wheelOn.focus,wheelStep:k.options.wheelStep.progressive},Object.freeze(k.defaultSettings),Object.defineProperty(k,"defaultSettings",{configurable:!1,writable:!1});var E={digitGroupSeparator:k.options.digitGroupSeparator.dot,decimalCharacter:k.options.decimalCharacter.comma,decimalCharacterAlternative:k.options.decimalCharacterAlternative.dot,currencySymbol:" €",currencySymbolPlacement:k.options.currencySymbolPlacement.suffix,negativePositiveSignPlacement:k.options.negativePositiveSignPlacement.prefix},_={digitGroupSeparator:k.options.digitGroupSeparator.comma,decimalCharacter:k.options.decimalCharacter.dot,currencySymbol:k.options.currencySymbol.dollar,currencySymbolPlacement:k.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:k.options.negativePositiveSignPlacement.right},C={digitGroupSeparator:k.options.digitGroupSeparator.comma,decimalCharacter:k.options.decimalCharacter.dot,currencySymbol:k.options.currencySymbol.yen,currencySymbolPlacement:k.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:k.options.negativePositiveSignPlacement.right};M.cloneObject(E).formulaMode=k.options.formulaMode.enabled;var F=M.cloneObject(E);F.minimumValue=0;var x=M.cloneObject(E);x.maximumValue=0,x.negativePositiveSignPlacement=k.options.negativePositiveSignPlacement.prefix;var V=M.cloneObject(E);V.digitGroupSeparator=k.options.digitGroupSeparator.normalSpace;var T=M.cloneObject(V);T.minimumValue=0;var A=M.cloneObject(V);A.maximumValue=0,A.negativePositiveSignPlacement=k.options.negativePositiveSignPlacement.prefix;var L=M.cloneObject(E);L.currencySymbol=k.options.currencySymbol.none,L.suffixText=" ".concat(k.options.suffixText.percentage),L.wheelStep=1e-4,L.rawValueDivisor=k.options.rawValueDivisor.percentage;var I=M.cloneObject(L);I.minimumValue=0;var B=M.cloneObject(L);B.maximumValue=0,B.negativePositiveSignPlacement=k.options.negativePositiveSignPlacement.prefix;var D=M.cloneObject(L);D.decimalPlaces=3;var R=M.cloneObject(I);R.decimalPlaces=3;var U=M.cloneObject(B);U.decimalPlaces=3,M.cloneObject(_).formulaMode=k.options.formulaMode.enabled;var j=M.cloneObject(_);j.minimumValue=0;var z=M.cloneObject(_);z.maximumValue=0,z.negativePositiveSignPlacement=k.options.negativePositiveSignPlacement.prefix;var K=M.cloneObject(z);K.negativeBracketsTypeOnBlur=k.options.negativeBracketsTypeOnBlur.parentheses;var G=M.cloneObject(_);G.currencySymbol=k.options.currencySymbol.none,G.suffixText=k.options.suffixText.percentage,G.wheelStep=1e-4,G.rawValueDivisor=k.options.rawValueDivisor.percentage;var W=M.cloneObject(G);W.minimumValue=0;var H=M.cloneObject(G);H.maximumValue=0,H.negativePositiveSignPlacement=k.options.negativePositiveSignPlacement.prefix;var Z=M.cloneObject(G);Z.decimalPlaces=3;var q=M.cloneObject(W);q.decimalPlaces=3;var $=M.cloneObject(H);$.decimalPlaces=3;var J=M.cloneObject(E);J.currencySymbol=k.options.currencySymbol.lira,k.predefinedOptions={euro:E,euroPos:F,euroNeg:x,euroSpace:V,euroSpacePos:T,euroSpaceNeg:A,percentageEU2dec:L,percentageEU2decPos:I,percentageEU2decNeg:B,percentageEU3dec:D,percentageEU3decPos:R,percentageEU3decNeg:U,dollar:_,dollarPos:j,dollarNeg:z,dollarNegBrackets:K,percentageUS2dec:G,percentageUS2decPos:W,percentageUS2decNeg:H,percentageUS3dec:Z,percentageUS3decPos:q,percentageUS3decNeg:$,French:E,Spanish:E,NorthAmerican:_,British:{digitGroupSeparator:k.options.digitGroupSeparator.comma,decimalCharacter:k.options.decimalCharacter.dot,currencySymbol:k.options.currencySymbol.pound,currencySymbolPlacement:k.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:k.options.negativePositiveSignPlacement.right},Swiss:{digitGroupSeparator:k.options.digitGroupSeparator.apostrophe,decimalCharacter:k.options.decimalCharacter.dot,currencySymbol:" CHF",currencySymbolPlacement:k.options.currencySymbolPlacement.suffix,negativePositiveSignPlacement:k.options.negativePositiveSignPlacement.prefix},Japanese:C,Chinese:C,Brazilian:{digitGroupSeparator:k.options.digitGroupSeparator.dot,decimalCharacter:k.options.decimalCharacter.comma,currencySymbol:k.options.currencySymbol.real,currencySymbolPlacement:k.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:k.options.negativePositiveSignPlacement.right},Turkish:J,dotDecimalCharCommaSeparator:{digitGroupSeparator:k.options.digitGroupSeparator.comma,decimalCharacter:k.options.decimalCharacter.dot},commaDecimalCharDotSeparator:{digitGroupSeparator:k.options.digitGroupSeparator.dot,decimalCharacter:k.options.decimalCharacter.comma,decimalCharacterAlternative:k.options.decimalCharacterAlternative.dot},integer:{decimalPlaces:0},integerPos:{minimumValue:k.options.minimumValue.zero,decimalPlaces:0},integerNeg:{maximumValue:k.options.maximumValue.zero,decimalPlaces:0},float:{allowDecimalPadding:k.options.allowDecimalPadding.never},floatPos:{allowDecimalPadding:k.options.allowDecimalPadding.never,minimumValue:k.options.minimumValue.zero,maximumValue:k.options.maximumValue.tenTrillions},floatNeg:{allowDecimalPadding:k.options.allowDecimalPadding.never,minimumValue:k.options.minimumValue.tenTrillions,maximumValue:k.options.maximumValue.zero},numeric:{digitGroupSeparator:k.options.digitGroupSeparator.noSeparator,decimalCharacter:k.options.decimalCharacter.dot,currencySymbol:k.options.currencySymbol.none},numericPos:{digitGroupSeparator:k.options.digitGroupSeparator.noSeparator,decimalCharacter:k.options.decimalCharacter.dot,currencySymbol:k.options.currencySymbol.none,minimumValue:k.options.minimumValue.zero,maximumValue:k.options.maximumValue.tenTrillions},numericNeg:{digitGroupSeparator:k.options.digitGroupSeparator.noSeparator,decimalCharacter:k.options.decimalCharacter.dot,currencySymbol:k.options.currencySymbol.none,minimumValue:k.options.minimumValue.tenTrillions,maximumValue:k.options.maximumValue.zero}},Object.getOwnPropertyNames(k.predefinedOptions).forEach(function(e){Object.freeze(k.predefinedOptions[e])}),Object.freeze(k.predefinedOptions),Object.defineProperty(k,"predefinedOptions",{configurable:!1,writable:!1}),t.default=k}],a.c=n,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0).default;function a(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}var i,n});
//# sourceMappingURL=autoNumeric.min.js.map

/***/ }),

/***/ "./vendor/spryker/product-management/assets/Zed/sass/main.scss":
/*!*********************************************************************!*\
  !*** ./vendor/spryker/product-management/assets/Zed/sass/main.scss ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ var __webpack_exports__ = (__webpack_exec__("./vendor/spryker/product-management/assets/Zed/js/spryker-zed-productmanagement-add.entry.js"));
/******/ }
]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9zcHJ5a2VyLXplZC1wcm9kdWN0bWFuYWdlbWVudC1hZGQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWE7O0FBRWIsSUFBSUEsV0FBVyxHQUFHQyxtQkFBTyxDQUFDLHVFQUFhLENBQUM7QUFFeEMsU0FBU0MsbUJBQW1CQSxDQUFBLEVBQXlCO0VBQUEsSUFBeEJDLFdBQVcsR0FBQUMsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUdHLFFBQVE7RUFDL0MsSUFBSUMsWUFBWSxHQUFHQyxLQUFLLENBQUNDLElBQUksQ0FBQ1AsV0FBVyxDQUFDUSxzQkFBc0IsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO0VBRTlGSCxZQUFZLENBQUNJLE9BQU8sQ0FBQyxVQUFVQyxXQUFXLEVBQUU7SUFDeEMsSUFBSUMsV0FBVyxHQUFHWCxXQUFXLENBQUNRLHNCQUFzQixDQUFDRSxXQUFXLENBQUNFLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ25GLElBQUlDLE1BQU0sR0FBRztNQUNUQyxtQkFBbUIsRUFBRUwsV0FBVyxDQUFDRSxPQUFPLENBQUNJLGNBQWM7TUFDdkRDLGdCQUFnQixFQUFFUCxXQUFXLENBQUNFLE9BQU8sQ0FBQ00sZ0JBQWdCO01BQ3REQyxhQUFhLEVBQUVULFdBQVcsQ0FBQ0UsT0FBTyxDQUFDUSxlQUFlO01BQ2xEQyxtQkFBbUIsRUFBRSxLQUFLO01BQzFCQyxtQkFBbUIsRUFBRSxDQUFDO01BQ3RCQyxrQkFBa0IsRUFBRTtJQUN4QixDQUFDO0lBRURiLFdBQVcsQ0FBQ2MsS0FBSyxHQUFHYixXQUFXLENBQUNhLEtBQUs7SUFDckMsSUFBSUMsY0FBYyxHQUFHLElBQUk1QixXQUFXLENBQUNhLFdBQVcsRUFBRUksTUFBTSxDQUFDO0lBRXpESixXQUFXLENBQUNnQixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsWUFBWTtNQUM5Q2YsV0FBVyxDQUFDYSxLQUFLLEdBQUdDLGNBQWMsQ0FB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a1MsMkRBQTJELHVCQUF1QixpQkFBaUIsdUJBQXVCLGdHQUFnRyx1QkFBdUIsZ0VBQWdFLHVCQUF1QixpQkFBaUIsdUJBQXVCLGdHQUFnRyx1QkFBdUIsZ0xBQWdMLHVCQUF1QixpQkFBaUIsdUJBQXVCLGdHQUFnRyx1QkFBdUIsa0JBQWtCLHVCQUF1QixrQkFBa0IsdUJBQXVCLDZFQUE2RSx1QkFBdUIsaUJBQWlCLHVCQUF1QixnR0FBZ0csdUJBQXVCLDhFQUE4RSx1QkFBdUIsb0tBQW9LLHVCQUF1QixpQkFBaUIsdUJBQXVCLGdHQUFnRyx1QkFBdUIsa0JBQWtCLHVCQUF1QixrQkFBa0IsdUJBQXVCLGtCQUFrQix1QkFBdUIsb0VBQW9FLGthQUFrYSxtU0FBbVMsUUFBUSxpUkFBaVIsaUNBQWlDLGtTQUFrUyx5Q0FBeUMsd0dBQXdHLCtCQUErQiw4S0FBOEssVUFBVSxnQkFBZ0IsYUFBYSx5REFBeUQsYUFBYSx5REFBeUQsUUFBUSx3REFBd0QsV0FBVyxrSkFBa0osV0FBVyxrSkFBa0osVUFBVSwySkFBMkosYUFBYSxxUEFBcVAsYUFBYSxzUEFBc1AscUVBQXFFLHNDQUFzQyxrRkFBa0YsNEJBQTRCLGNBQWMsNEJBQTRCLHFDQUFxQyxvQkFBb0IsRUFBRSxpQkFBaUIsNEZBQTRGLGVBQWUsd0NBQXdDLFNBQVMsRUFBRSxtQkFBbUIsOEJBQThCLHFEQUFxRCwwQkFBMEIsNkNBQTZDLHNCQUFzQiw2REFBNkQsWUFBWSxlQUFlLFNBQVMsaUJBQWlCLGlDQUFpQyxpQkFBaUIsWUFBWSxVQUFVLHNCQUFzQixtQkFBbUIsaURBQWlELHlCQUF5QixjQUFjLDRCQUE0QixZQUFZLHFCQUFxQiwyREFBMkQsUUFBUTtBQUNwaGlNOzs7Ozs7Ozs7Ozs7QUNOQSIsInNvdXJjZXMiOlsid2VicGFjazovL3NwcnlrZXItYjJjLWRlbW8tc2hvcC8uL3ZlbmRvci9zcHJ5a2VyL2d1aS9hc3NldHMvWmVkL2pzL21vZHVsZXMvbGlicy9mb3JtYXR0ZWQtbnVtYmVyLWlucHV0LmpzIiwid2VicGFjazovL3NwcnlrZXItYjJjLWRlbW8tc2hvcC8uL3ZlbmRvci9zcHJ5a2VyL3Byb2R1Y3QtbWFuYWdlbWVudC9hc3NldHMvWmVkL2pzL21vZHVsZXMvYWRkLmpzIiwid2VicGFjazovL3NwcnlrZXItYjJjLWRlbW8tc2hvcC8uL3ZlbmRvci9zcHJ5a2VyL3Byb2R1Y3QtbWFuYWdlbWVudC9hc3NldHMvWmVkL2pzL21vZHVsZXMvbWFpbi5qcyIsIndlYnBhY2s6Ly9zcHJ5a2VyLWIyYy1kZW1vLXNob3AvLi92ZW5kb3Ivc3ByeWtlci9wcm9kdWN0LW1hbmFnZW1lbnQvYXNzZXRzL1plZC9qcy9zcHJ5a2VyLXplZC1wcm9kdWN0bWFuYWdlbWVudC1hZGQuZW50cnkuanMiLCJ3ZWJwYWNrOi8vc3ByeWtlci1iMmMtZGVtby1zaG9wLy4vbm9kZV9tb2R1bGVzL2F1dG9udW1lcmljL2Rpc3QvYXV0b051bWVyaWMubWluLmpzIiwid2VicGFjazovL3NwcnlrZXItYjJjLWRlbW8tc2hvcC8uL3ZlbmRvci9zcHJ5a2VyL3Byb2R1Y3QtbWFuYWdlbWVudC9hc3NldHMvWmVkL3Nhc3MvbWFpbi5zY3NzPzQ0MTIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQXV0b051bWVyaWMgPSByZXF1aXJlKCdhdXRvbnVtZXJpYycpO1xuXG5mdW5jdGlvbiBpbml0Rm9ybWF0dGVkTnVtYmVyKHJvb3RFbGVtZW50ID0gZG9jdW1lbnQpIHtcbiAgICB2YXIgbnVtYmVySW5wdXRzID0gQXJyYXkuZnJvbShyb290RWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdqcy1mb3JtYXR0ZWQtbnVtYmVyLWlucHV0JykpO1xuXG4gICAgbnVtYmVySW5wdXRzLmZvckVhY2goZnVuY3Rpb24gKG51bWJlcklucHV0KSB7XG4gICAgICAgIHZhciBoaWRkZW5JbnB1dCA9IHJvb3RFbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobnVtYmVySW5wdXQuZGF0YXNldC50YXJnZXQpWzBdO1xuICAgICAgICB2YXIgY29uZmlnID0ge1xuICAgICAgICAgICAgZGlnaXRHcm91cFNlcGFyYXRvcjogbnVtYmVySW5wdXQuZGF0YXNldC5ncm91cFNlcGFyYXRvcixcbiAgICAgICAgICAgIGRlY2ltYWxDaGFyYWN0ZXI6IG51bWJlcklucHV0LmRhdGFzZXQuZGVjaW1hbFNlcGFyYXRvcixcbiAgICAgICAgICAgIGRlY2ltYWxQbGFjZXM6IG51bWJlcklucHV0LmRhdGFzZXQuZGVjaW1hbFJvdW5kaW5nLFxuICAgICAgICAgICAgYWxsb3dEZWNpbWFsUGFkZGluZzogZmFsc2UsXG4gICAgICAgICAgICBkaWdpdGFsR3JvdXBTcGFjaW5nOiAzLFxuICAgICAgICAgICAgbW9kaWZ5VmFsdWVPbldoZWVsOiBmYWxzZSxcbiAgICAgICAgfTtcblxuICAgICAgICBudW1iZXJJbnB1dC52YWx1ZSA9IGhpZGRlbklucHV0LnZhbHVlO1xuICAgICAgICB2YXIgZm9ybWF0dGVkSW5wdXQgPSBuZXcgQXV0b051bWVyaWMobnVtYmVySW5wdXQsIGNvbmZpZyk7XG5cbiAgICAgICAgbnVtYmVySW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBoaWRkZW5JbnB1dC52YWx1ZSA9IGZvcm1hdHRlZElucHV0LnJhd1ZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbml0Rm9ybWF0dGVkTnVtYmVyO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYtcHJlc2VudCBTcHJ5a2VyIFN5c3RlbXMgR21iSC4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFVzZSBvZiB0aGlzIHNvZnR3YXJlIHJlcXVpcmVzIGFjY2VwdGFuY2Ugb2YgdGhlIEV2YWx1YXRpb24gTGljZW5zZSBBZ3JlZW1lbnQuIFNlZSBMSUNFTlNFIGZpbGUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKCcuL21haW4nKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE2LXByZXNlbnQgU3ByeWtlciBTeXN0ZW1zIEdtYkguIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBVc2Ugb2YgdGhpcyBzb2Z0d2FyZSByZXF1aXJlcyBhY2NlcHRhbmNlIG9mIHRoZSBFdmFsdWF0aW9uIExpY2Vuc2UgQWdyZWVtZW50LiBTZWUgTElDRU5TRSBmaWxlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxucmVxdWlyZSgnLi4vLi4vc2Fzcy9tYWluLnNjc3MnKTtcbnZhciBpbml0Rm9ybWF0dGVkTnVtYmVyID0gcmVxdWlyZSgnWmVkR3VpTW9kdWxlcy9saWJzL2Zvcm1hdHRlZC1udW1iZXItaW5wdXQnKTtcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAqIEByZXR1cm5zIHt7cmVzdWx0czogKiwgcGFnaW5hdGlvbjoge21vcmU6IChib29sZWFufG51bWJlcil9fX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9jZXNzQWpheFJlc3VsdChkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgLy97XCJpZF9hdHRyaWJ1dGVcIjoxLFwidmFsdWVzXCI6W3tcImlkX3Byb2R1Y3RfbWFuYWdlbWVudF9hdHRyaWJ1dGVfdmFsdWVcIjoxLFwiZmtfbG9jYWxlXCI6NjYsXCJ2YWx1ZVwiOlwiaW50ZWwtYXRvbS1xdWFkLWNvcmVcIixcInRyYW5zbGF0aW9uXCI6XCJJbnRlbCBBdG9tIFozNTYwIFF1YWQtQ29yZSBVU1wifV19XG4gICAgICAgIC8vIHBhcnNlIHRoZSByZXN1bHRzIGludG8gdGhlIGZvcm1hdCBleHBlY3RlZCBieSBTZWxlY3QyXG4gICAgICAgIC8vIHNpbmNlIHdlIGFyZSB1c2luZyBjdXN0b20gZm9ybWF0dGluZyBmdW5jdGlvbnMgd2UgZG8gbm90IG5lZWQgdG9cbiAgICAgICAgLy8gYWx0ZXIgdGhlIHJlbW90ZSBKU09OIGRhdGEsIGV4Y2VwdCB0byBpbmRpY2F0ZSB0aGF0IGluZmluaXRlXG4gICAgICAgIC8vIHNjcm9sbGluZyBjYW4gYmUgdXNlZFxuICAgICAgICBwYXJhbXMucGFnZSA9IHBhcmFtcy5wYWdlIHx8IDE7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3VsdHM6IGRhdGEudmFsdWVzLFxuICAgICAgICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICAgICAgICAgIG1vcmU6IHBhcmFtcy5wYWdlICogMzAgPCBkYXRhLnRvdGFsIHx8IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSAkc2VsZWN0XG4gICAgICogQHBhcmFtIHRlcm1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZWxlY3QyX3NlYXJjaCgkc2VsZWN0LCB0ZXJtKSB7XG4gICAgICAgICRzZWxlY3Quc2VsZWN0Mignb3BlbicpO1xuXG4gICAgICAgIC8vIEdldCB0aGUgc2VhcmNoIGJveCB3aXRoaW4gdGhlIGRyb3Bkb3duIG9yIHRoZSBzZWxlY3Rpb25cbiAgICAgICAgLy8gRHJvcGRvd24gPSBzaW5nbGUsIFNlbGVjdGlvbiA9IG11bHRpcGxlXG4gICAgICAgIHZhciAkc2VhcmNoID0gJHNlbGVjdC5kYXRhKCdzZWxlY3QyJykuZHJvcGRvd24uJHNlYXJjaCB8fCAkc2VsZWN0LmRhdGEoJ3NlbGVjdDInKS5zZWxlY3Rpb24uJHNlYXJjaDtcbiAgICAgICAgLy8gVGhpcyBpcyB1bmRvY3VtZW50ZWQgYW5kIG1heSBjaGFuZ2UgaW4gdGhlIGZ1dHVyZVxuXG4gICAgICAgICRzZWFyY2gudmFsKHRlcm0pO1xuICAgICAgICAkc2VhcmNoLnRyaWdnZXIoJ2tleXVwJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkQW5vdGhlckltYWdlQ29sbGVjdGlvbihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIHZhciBwcm90b3R5cGVUZW1wbGF0ZSA9ICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCdbZGF0YS1pbWFnZS1jb2xsZWN0aW9uLXByb3RvdHlwZV0nKTtcblxuICAgICAgICB2YXIgaW1hZ2VTZXQgPSAkKGV2ZW50LnRhcmdldCkuY2xvc2VzdCgnLmltYWdlLXNldCcpO1xuICAgICAgICB2YXIgaW1hZ2VTZXRJbmRleCA9IGltYWdlU2V0LmRhdGEoJ2ltYWdlU2V0SW5kZXgnKTtcbiAgICAgICAgdmFyIGltYWdlQ29sbGVjdGlvbkluZGV4ID0gaW1hZ2VTZXQuZmluZCgnLmltYWdlLWNvbGxlY3Rpb24nKS5sZW5ndGg7XG5cbiAgICAgICAgdmFyIG5ld09wdGlvbkZvcm1IVE1MID0gcHJvdG90eXBlVGVtcGxhdGVcbiAgICAgICAgICAgIC5kYXRhKCdpbWFnZUNvbGxlY3Rpb25Qcm90b3R5cGUnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL19faW1hZ2Vfc2V0X25hbWVfXy9nLCBpbWFnZVNldEluZGV4KVxuICAgICAgICAgICAgLnJlcGxhY2UoL19fbmFtZV9fL2csIGltYWdlQ29sbGVjdGlvbkluZGV4KVxuICAgICAgICAgICAgLnRyaW0oKTtcblxuICAgICAgICBuZXdPcHRpb25Gb3JtSFRNTCA9IHNldFNvcnRPcmRlckZpZWxkVmFsdWUobmV3T3B0aW9uRm9ybUhUTUwpO1xuXG4gICAgICAgIGltYWdlU2V0LmZpbmQoJy5pbWFnZS1jb2xsZWN0aW9uLWNvbnRhaW5lcicpLmFwcGVuZCgkKG5ld09wdGlvbkZvcm1IVE1MKSk7XG5cbiAgICAgICAgJChuZXdPcHRpb25Gb3JtSFRNTClcbiAgICAgICAgICAgIC5nZXQoKVxuICAgICAgICAgICAgLmZvckVhY2goKGVsZW1lbnQpID0+IGluaXRGb3JtYXR0ZWROdW1iZXIoZWxlbWVudCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBldmVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZEFub3RoZXJJbWFnZVNldChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIHZhciBwcm90b3R5cGVUZW1wbGF0ZSA9ICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCdbZGF0YS1pbWFnZS1zZXQtcHJvdG90eXBlXVtkYXRhLWltYWdlLWNvbGxlY3Rpb24tcHJvdG90eXBlXScpO1xuICAgICAgICB2YXIgaW1hZ2VTZXRJbmRleCA9IHByb3RvdHlwZVRlbXBsYXRlLmRhdGEoJ2N1cnJlbnRJbWFnZVNldEluZGV4JykgKyAxO1xuICAgICAgICBwcm90b3R5cGVUZW1wbGF0ZS5kYXRhKCdjdXJyZW50SW1hZ2VTZXRJbmRleCcsIGltYWdlU2V0SW5kZXgpO1xuXG4gICAgICAgIHZhciBpbWFnZVNldFByb3RvdHlwZSA9IHByb3RvdHlwZVRlbXBsYXRlXG4gICAgICAgICAgICAuZGF0YSgnaW1hZ2VTZXRQcm90b3R5cGUnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL19faW1hZ2Vfc2V0X25hbWVfXy9nLCBpbWFnZVNldEluZGV4KTtcblxuICAgICAgICB2YXIgaW1hZ2VTZXQgPSAkKGltYWdlU2V0UHJvdG90eXBlKTtcbiAgICAgICAgaW1hZ2VTZXQuZGF0YSgnaW1hZ2VTZXRJbmRleCcsIGltYWdlU2V0SW5kZXgpO1xuICAgICAgICAkKGV2ZW50LnRhcmdldCkuYmVmb3JlKGltYWdlU2V0KTtcblxuICAgICAgICB2YXIgaW1hZ2VDb2xsZWN0aW9uUHJvdG90eXBlID0gcHJvdG90eXBlVGVtcGxhdGVcbiAgICAgICAgICAgIC5kYXRhKCdpbWFnZUNvbGxlY3Rpb25Qcm90b3R5cGUnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL19faW1hZ2Vfc2V0X25hbWVfXy9nLCBpbWFnZVNldEluZGV4KVxuICAgICAgICAgICAgLnJlcGxhY2UoL19fbmFtZV9fL2csIDApXG4gICAgICAgICAgICAudHJpbSgpO1xuXG4gICAgICAgIGltYWdlQ29sbGVjdGlvblByb3RvdHlwZSA9IHNldFNvcnRPcmRlckZpZWxkVmFsdWUoaW1hZ2VDb2xsZWN0aW9uUHJvdG90eXBlKTtcblxuICAgICAgICBpbWFnZVNldC5maW5kKCcuaW1hZ2UtY29sbGVjdGlvbi1jb250YWluZXInKS5hcHBlbmQoJChpbWFnZUNvbGxlY3Rpb25Qcm90b3R5cGUpKTtcblxuICAgICAgICAkKGltYWdlQ29sbGVjdGlvblByb3RvdHlwZSlcbiAgICAgICAgICAgIC5nZXQoKVxuICAgICAgICAgICAgLmZvckVhY2goKGVsZW1lbnQpID0+IGluaXRGb3JtYXR0ZWROdW1iZXIoZWxlbWVudCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBpbWFnZUNvbGxlY3Rpb25Qcm90b3R5cGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRTb3J0T3JkZXJGaWVsZFZhbHVlKGltYWdlQ29sbGVjdGlvblByb3RvdHlwZSkge1xuICAgICAgICBpbWFnZUNvbGxlY3Rpb25Qcm90b3R5cGUgPSAkKCQucGFyc2VIVE1MKGltYWdlQ29sbGVjdGlvblByb3RvdHlwZSkpO1xuXG4gICAgICAgIHZhciBzb3J0T3JkZXJGaWVsZCA9IGltYWdlQ29sbGVjdGlvblByb3RvdHlwZS5maW5kKCdbZGF0YS1zb3J0LW9yZGVyXScpO1xuICAgICAgICBpbWFnZUNvbGxlY3Rpb25Qcm90b3R5cGVcbiAgICAgICAgICAgIC5maW5kKCcuJyArIHNvcnRPcmRlckZpZWxkLmRhdGEoJ3RhcmdldCcpKVxuICAgICAgICAgICAgLmF0dHIoJ3ZhbHVlJywgc29ydE9yZGVyRmllbGQuZGF0YSgnc29ydC1vcmRlcicpKTtcblxuICAgICAgICByZXR1cm4gaW1hZ2VDb2xsZWN0aW9uUHJvdG90eXBlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBldmVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlbGV0ZUltYWdlU2V0KGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcuaW1hZ2Utc2V0JykucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVsZXRlSW1hZ2VDb2xsZWN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcuaW1hZ2UtY29sbGVjdGlvbicpLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXQgaW1hZ2Ugc2V0IGluZGV4XG4gICAgICovXG4gICAgJCgnLmltYWdlLXNldCcpLmVhY2goZnVuY3Rpb24gKGksIGltYWdlU2V0KSB7XG4gICAgICAgIHZhciBpbWFnZVNldEluZGV4ID0gJChpbWFnZVNldCkuY2xvc2VzdCgnW2RhdGEtaW1hZ2Utc2V0LXByb3RvdHlwZV0nKS5maW5kKCcuaW1hZ2Utc2V0JykuaW5kZXgoaW1hZ2VTZXQpO1xuXG4gICAgICAgICQoaW1hZ2VTZXQpLmRhdGEoJ2ltYWdlU2V0SW5kZXgnLCBpbWFnZVNldEluZGV4KTtcbiAgICB9KTtcbiAgICAkKCcuaW1hZ2Utc2V0LWNvbnRhaW5lcicpLmVhY2goZnVuY3Rpb24gKGksIGltYWdlU2V0Q29udGFpbmVyKSB7XG4gICAgICAgIHZhciBjdXJyZW50SW1hZ2VTZXRJbmRleCA9ICQoaW1hZ2VTZXRDb250YWluZXIpLmZpbmQoJy5pbWFnZS1zZXQnKS5sZW5ndGggLSAxO1xuXG4gICAgICAgICQoaW1hZ2VTZXRDb250YWluZXIpLmRhdGEoJ2N1cnJlbnRJbWFnZVNldEluZGV4JywgY3VycmVudEltYWdlU2V0SW5kZXgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgZ2xvYmFsIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqL1xuICAgICQoJ2JvZHknKVxuICAgICAgICAub24oJ2NsaWNrJywgJy5hZGQtYW5vdGhlci1pbWFnZS1zZXQnLCBhZGRBbm90aGVySW1hZ2VTZXQpXG4gICAgICAgIC5vbignY2xpY2snLCAnLmFkZC1hbm90aGVyLWltYWdlLWNvbGxlY3Rpb24nLCBhZGRBbm90aGVySW1hZ2VDb2xsZWN0aW9uKVxuICAgICAgICAub24oJ2NsaWNrJywgJy5yZW1vdmUtaW1hZ2Utc2V0JywgZGVsZXRlSW1hZ2VTZXQpXG4gICAgICAgIC5vbignY2xpY2snLCAnLnJlbW92ZS1pbWFnZS1jb2xsZWN0aW9uJywgZGVsZXRlSW1hZ2VDb2xsZWN0aW9uKTtcblxuICAgICQoJy5zcHJ5a2VyLWZvcm0tc2VsZWN0MmNvbWJvYm94Om5vdChbY2xhc3M9XCIudGFnc1wiXSk6bm90KFtjbGFzcz1cIi5hamF4XCJdKScpLnNlbGVjdDIoe30pO1xuXG4gICAgJCgnLnNwcnlrZXItZm9ybS1zZWxlY3QyY29tYm9ib3gudGFnczpub3QoW2NsYXNzPVwiLmFqYXhcIl0pJykuc2VsZWN0Mih7XG4gICAgICAgIHRhZ3M6IHRydWUsXG4gICAgfSk7XG5cbiAgICBjb25zdCBkcm9wZG93bldpdGhQYXJlbnQgPSAkKCcuc3ByeWtlci1mb3JtLXNlbGVjdDJjb21ib2JveFtkcm9wZG93bi1wYXJlbnRdJyk7XG5cbiAgICBpZiAoZHJvcGRvd25XaXRoUGFyZW50KSB7XG4gICAgICAgIGRyb3Bkb3duV2l0aFBhcmVudC5zZWxlY3QyKHtcbiAgICAgICAgICAgIGRyb3Bkb3duUGFyZW50OiBkcm9wZG93bldpdGhQYXJlbnQuY2xvc2VzdChkcm9wZG93bldpdGhQYXJlbnQuYXR0cignZHJvcGRvd24tcGFyZW50JykpLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkKCcuc3ByeWtlci1mb3JtLXNlbGVjdDJjb21ib2JveC5hamF4Om5vdChbY2xhc3M9XCIudGFnc1wiXSknKS5zZWxlY3QyKHtcbiAgICAgICAgdGFnczogZmFsc2UsXG4gICAgICAgIHByZUxvYWRlZDogZmFsc2UsXG4gICAgICAgIGFqYXg6IHtcbiAgICAgICAgICAgIHVybDogJy9wcm9kdWN0LW1hbmFnZW1lbnQvYXR0cmlidXRlL3N1Z2dlc3QvJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICBkZWxheTogMjUwLFxuICAgICAgICAgICAgY2FjaGU6IHRydWUsXG4gICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgdmFyIHAgPSB7XG4gICAgICAgICAgICAgICAgICAgIHE6IHBhcmFtcy50ZXJtLFxuICAgICAgICAgICAgICAgICAgICBwYWdlOiBwYXJhbXMucGFnZSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHRoaXMuYXR0cignaWRfYXR0cmlidXRlJyksXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZV9jb2RlOiB0aGlzLmF0dHIoJ2xvY2FsZV9jb2RlJyksXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2Nlc3NSZXN1bHRzOiBwcm9jZXNzQWpheFJlc3VsdCxcbiAgICAgICAgfSxcbiAgICAgICAgbWluaW11bUlucHV0TGVuZ3RoOiAxLFxuICAgIH0pO1xuXG4gICAgJCgnLnNwcnlrZXItZm9ybS1zZWxlY3QyY29tYm9ib3guYWpheC50YWdzJykuc2VsZWN0Mih7XG4gICAgICAgIHRhZ3M6IHRydWUsXG4gICAgICAgIGFqYXg6IHtcbiAgICAgICAgICAgIHVybDogJy9wcm9kdWN0LW1hbmFnZW1lbnQvYXR0cmlidXRlL3N1Z2dlc3QvJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICBkZWxheTogMjUwLFxuICAgICAgICAgICAgY2FjaGU6IHRydWUsXG4gICAgICAgICAgICBwcmVMb2FkZWQ6IGZhbHNlLFxuICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAgICAgICAgIHZhciBwID0ge1xuICAgICAgICAgICAgICAgICAgICBxOiBwYXJhbXMudGVybSxcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFyYW1zLnBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLmF0dHIoJ2lkX2F0dHJpYnV0ZScpLFxuICAgICAgICAgICAgICAgICAgICBsb2NhbGVfY29kZTogdGhpcy5hdHRyKCdsb2NhbGVfY29kZScpLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcm9jZXNzUmVzdWx0czogcHJvY2Vzc0FqYXhSZXN1bHQsXG4gICAgICAgIH0sXG4gICAgICAgIG1pbmltdW1JbnB1dExlbmd0aDogMSxcbiAgICB9KTtcblxuICAgICQoJy5hdHRyaWJ1dGVfbWV0YWRhdGFfY2hlY2tib3gnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRjaGVja2JveCA9ICQodGhpcyk7XG4gICAgICAgIHZhciAkaW5wdXQgPSAkY2hlY2tib3gucGFyZW50cygnLmF0dHJpYnV0ZV9tZXRhZGF0YV9yb3cnKS5maW5kKCcuYXR0cmlidXRlX21ldGFkYXRhX3ZhbHVlJyk7XG5cbiAgICAgICAgaWYgKCEkY2hlY2tib3gucHJvcCgnY2hlY2tlZCcpICYmICEkY2hlY2tib3gucHJvcCgnZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgJGlucHV0LnByb3AoJ3JlYWRvbmx5JywgISRjaGVja2JveC5wcm9wKCdjaGVja2VkJykpO1xuXG4gICAgICAgICAgICBpZiAoJGlucHV0Lmhhc0NsYXNzKCdzcHJ5a2VyLWZvcm0tc2VsZWN0MmNvbWJvYm94JykpIHtcbiAgICAgICAgICAgICAgICAkaW5wdXQucHJvcCgnZGlzYWJsZWQnLCAhJGNoZWNrYm94LnByb3AoJ2NoZWNrZWQnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQoJy5hdHRyaWJ1dGVfbWV0YWRhdGFfY2hlY2tib3gnKVxuICAgICAgICAub2ZmKCdjbGljaycpXG4gICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgJGNoZWNrYm94ID0gJCh0aGlzKTtcbiAgICAgICAgICAgIHZhciAkaW5wdXQgPSAkY2hlY2tib3gucGFyZW50cygnLmF0dHJpYnV0ZV9tZXRhZGF0YV9yb3cnKS5maW5kKCcuYXR0cmlidXRlX21ldGFkYXRhX3ZhbHVlJyk7XG5cbiAgICAgICAgICAgICRpbnB1dC5wcm9wKCdyZWFkb25seScsICEkY2hlY2tib3gucHJvcCgnY2hlY2tlZCcpKTtcblxuICAgICAgICAgICAgaWYgKCRpbnB1dC5oYXNDbGFzcygnc3ByeWtlci1mb3JtLXNlbGVjdDJjb21ib2JveCcpKSB7XG4gICAgICAgICAgICAgICAgJGlucHV0LnByb3AoJ2Rpc2FibGVkJywgISRjaGVja2JveC5wcm9wKCdjaGVja2VkJykpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCRjaGVja2JveC5wcm9wKCdjaGVja2VkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9maXhlcyBmb2N1cyBpc3N1ZXNcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkaW5wdXQuc2VsZWN0MignZm9jdXMnKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAkKCcua3ZfYXR0cmlidXRlX2F1dG9jb21wbGV0ZScpLmVhY2goZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIGlucHV0ID0gJCh2YWx1ZSk7XG4gICAgICAgIHZhciBpZCA9IGlucHV0LmF0dHIoJ2lkX2F0dHJpYnV0ZScpIHx8IG51bGw7XG4gICAgICAgIHZhciBsb2NhbGVfY29kZSA9IGlucHV0LmF0dHIoJ2xvY2FsZV9jb2RlJykgfHwgbnVsbDtcblxuICAgICAgICBpbnB1dC5hdXRvY29tcGxldGUoe1xuICAgICAgICAgICAgbWluTGVuZ3RoOiAwLFxuICAgICAgICAgICAgc291cmNlOiBmdW5jdGlvbiAocmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvcHJvZHVjdC1tYW5hZ2VtZW50L2F0dHJpYnV0ZS9zdWdnZXN0LycsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHE6IHJlcXVlc3QudGVybSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZV9jb2RlOiBsb2NhbGVfY29kZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQubWFwKGRhdGEudmFsdWVzLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGl0ZW0udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZWxlY3Q6IGZ1bmN0aW9uIChldmVudCwgdWkpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgIGlucHV0LnZhbCh1aS5pdGVtLmxhYmVsKTtcbiAgICAgICAgICAgICAgICBpbnB1dC5hdHRyKCdkYXRhLXZhbHVlJywgdWkuaXRlbS52YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9jdXM6IGZ1bmN0aW9uIChldmVudCwgdWkpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgIGlucHV0LnZhbCh1aS5pdGVtLmxhYmVsKTtcbiAgICAgICAgICAgICAgICBpbnB1dC5hdHRyKCdkYXRhLXZhbHVlJywgdWkuaXRlbS52YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgICQoJy5rdl9hdXRvY29tcGxldGVfZm9ybScpLnN1Ym1pdChmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgZm9ybSA9ICQodGhpcyk7XG4gICAgICAgICQoJy5rdl9hdHRyaWJ1dGVfYXV0b2NvbXBsZXRlJykuZWFjaChmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgdmFyICRpbnB1dCA9ICQodGhpcyk7XG4gICAgICAgICAgICB2YXIgaGlkZGVuID0gJGlucHV0Lm5leHQoKTtcbiAgICAgICAgICAgIHZhciBpbnB1dFZhbHVlID0gJGlucHV0LmF0dHIoJ2RhdGEtdmFsdWUnKTtcbiAgICAgICAgICAgIHZhciBuYW1lID0gaGlkZGVuLmF0dHIoJ25hbWUnKTtcbiAgICAgICAgICAgIGhpZGRlbi52YWwoaW5wdXRWYWx1ZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNi1wcmVzZW50IFNwcnlrZXIgU3lzdGVtcyBHbWJILiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVXNlIG9mIHRoaXMgc29mdHdhcmUgcmVxdWlyZXMgYWNjZXB0YW5jZSBvZiB0aGUgRXZhbHVhdGlvbiBMaWNlbnNlIEFncmVlbWVudC4gU2VlIExJQ0VOU0UgZmlsZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnJlcXVpcmUoJy4vbW9kdWxlcy9hZGQnKTtcbiIsIi8qKlxuICogQXV0b051bWVyaWMuanMgdjQuNi4wXG4gKiDCqSAyMDA5LTIwMTkgUm9iZXJ0IEouIEtub3RoZSwgQWxleGFuZHJlIEJvbm5lYXVcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqL1xuIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5BdXRvTnVtZXJpYz10KCk6ZS5BdXRvTnVtZXJpYz10KCl9KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gbj17fSxhLm09aT1bZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO2kucih0KTt2YXIgbj17YWxsb3dlZFRhZ0xpc3Q6W1wiYlwiLFwiY2FwdGlvblwiLFwiY2l0ZVwiLFwiY29kZVwiLFwiY29uc3RcIixcImRkXCIsXCJkZWxcIixcImRpdlwiLFwiZGZuXCIsXCJkdFwiLFwiZW1cIixcImgxXCIsXCJoMlwiLFwiaDNcIixcImg0XCIsXCJoNVwiLFwiaDZcIixcImlucHV0XCIsXCJpbnNcIixcImtkYlwiLFwibGFiZWxcIixcImxpXCIsXCJvcHRpb25cIixcIm91dHB1dFwiLFwicFwiLFwicVwiLFwic1wiLFwic2FtcGxlXCIsXCJzcGFuXCIsXCJzdHJvbmdcIixcInRkXCIsXCJ0aFwiLFwidVwiXX07T2JqZWN0LmZyZWV6ZShuLmFsbG93ZWRUYWdMaXN0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcImFsbG93ZWRUYWdMaXN0XCIse2NvbmZpZ3VyYWJsZTohMSx3cml0YWJsZTohMX0pLG4ua2V5Q29kZT17QmFja3NwYWNlOjgsVGFiOjksRW50ZXI6MTMsU2hpZnQ6MTYsQ3RybDoxNyxBbHQ6MTgsUGF1c2U6MTksQ2Fwc0xvY2s6MjAsRXNjOjI3LFNwYWNlOjMyLFBhZ2VVcDozMyxQYWdlRG93bjozNCxFbmQ6MzUsSG9tZTozNixMZWZ0QXJyb3c6MzcsVXBBcnJvdzozOCxSaWdodEFycm93OjM5LERvd25BcnJvdzo0MCxJbnNlcnQ6NDUsRGVsZXRlOjQ2LG51bTA6NDgsbnVtMTo0OSxudW0yOjUwLG51bTM6NTEsbnVtNDo1MixudW01OjUzLG51bTY6NTQsbnVtNzo1NSxudW04OjU2LG51bTk6NTcsYTo2NSxiOjY2LGM6NjcsZDo2OCxlOjY5LGY6NzAsZzo3MSxoOjcyLGk6NzMsajo3NCxrOjc1LGw6NzYsbTo3NyxuOjc4LG86NzkscDo4MCxxOjgxLHI6ODIsczo4Myx0Ojg0LHU6ODUsdjo4Nix3Ojg3LHg6ODgseTo4OSx6OjkwLE9TTGVmdDo5MSxPU1JpZ2h0OjkyLENvbnRleHRNZW51OjkzLG51bXBhZDA6OTYsbnVtcGFkMTo5NyxudW1wYWQyOjk4LG51bXBhZDM6OTksbnVtcGFkNDoxMDAsbnVtcGFkNToxMDEsbnVtcGFkNjoxMDIsbnVtcGFkNzoxMDMsbnVtcGFkODoxMDQsbnVtcGFkOToxMDUsTXVsdGlwbHlOdW1wYWQ6MTA2LFBsdXNOdW1wYWQ6MTA3LE1pbnVzTnVtcGFkOjEwOSxEb3ROdW1wYWQ6MTEwLFNsYXNoTnVtcGFkOjExMSxGMToxMTIsRjI6MTEzLEYzOjExNCxGNDoxMTUsRjU6MTE2LEY2OjExNyxGNzoxMTgsRjg6MTE5LEY5OjEyMCxGMTA6MTIxLEYxMToxMjIsRjEyOjEyMyxOdW1Mb2NrOjE0NCxTY3JvbGxMb2NrOjE0NSxIeXBoZW5GaXJlZm94OjE3MyxNeUNvbXB1dGVyOjE4MixNeUNhbGN1bGF0b3I6MTgzLFNlbWljb2xvbjoxODYsRXF1YWw6MTg3LENvbW1hOjE4OCxIeXBoZW46MTg5LERvdDoxOTAsU2xhc2g6MTkxLEJhY2txdW90ZToxOTIsTGVmdEJyYWNrZXQ6MjE5LEJhY2tzbGFzaDoyMjAsUmlnaHRCcmFja2V0OjIyMSxRdW90ZToyMjIsQ29tbWFuZDoyMjQsQWx0R3JhcGg6MjI1LEFuZHJvaWREZWZhdWx0OjIyOX0sT2JqZWN0LmZyZWV6ZShuLmtleUNvZGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwia2V5Q29kZVwiLHtjb25maWd1cmFibGU6ITEsd3JpdGFibGU6ITF9KSxuLmZyb21DaGFyQ29kZUtleUNvZGU9ezA6XCJMYXVuY2hDYWxjdWxhdG9yXCIsODpcIkJhY2tzcGFjZVwiLDk6XCJUYWJcIiwxMzpcIkVudGVyXCIsMTY6XCJTaGlmdFwiLDE3OlwiQ3RybFwiLDE4OlwiQWx0XCIsMTk6XCJQYXVzZVwiLDIwOlwiQ2Fwc0xvY2tcIiwyNzpcIkVzY2FwZVwiLDMyOlwiIFwiLDMzOlwiUGFnZVVwXCIsMzQ6XCJQYWdlRG93blwiLDM1OlwiRW5kXCIsMzY6XCJIb21lXCIsMzc6XCJBcnJvd0xlZnRcIiwzODpcIkFycm93VXBcIiwzOTpcIkFycm93UmlnaHRcIiw0MDpcIkFycm93RG93blwiLDQ1OlwiSW5zZXJ0XCIsNDY6XCJEZWxldGVcIiw0ODpcIjBcIiw0OTpcIjFcIiw1MDpcIjJcIiw1MTpcIjNcIiw1MjpcIjRcIiw1MzpcIjVcIiw1NDpcIjZcIiw1NTpcIjdcIiw1NjpcIjhcIiw1NzpcIjlcIiw5MTpcIk9TXCIsOTI6XCJPU1JpZ2h0XCIsOTM6XCJDb250ZXh0TWVudVwiLDk2OlwiMFwiLDk3OlwiMVwiLDk4OlwiMlwiLDk5OlwiM1wiLDEwMDpcIjRcIiwxMDE6XCI1XCIsMTAyOlwiNlwiLDEwMzpcIjdcIiwxMDQ6XCI4XCIsMTA1OlwiOVwiLDEwNjpcIipcIiwxMDc6XCIrXCIsMTA5OlwiLVwiLDExMDpcIi5cIiwxMTE6XCIvXCIsMTEyOlwiRjFcIiwxMTM6XCJGMlwiLDExNDpcIkYzXCIsMTE1OlwiRjRcIiwxMTY6XCJGNVwiLDExNzpcIkY2XCIsMTE4OlwiRjdcIiwxMTk6XCJGOFwiLDEyMDpcIkY5XCIsMTIxOlwiRjEwXCIsMTIyOlwiRjExXCIsMTIzOlwiRjEyXCIsMTQ0OlwiTnVtTG9ja1wiLDE0NTpcIlNjcm9sbExvY2tcIiwxNzM6XCItXCIsMTgyOlwiTXlDb21wdXRlclwiLDE4MzpcIk15Q2FsY3VsYXRvclwiLDE4NjpcIjtcIiwxODc6XCI9XCIsMTg4OlwiLFwiLDE4OTpcIi1cIiwxOTA6XCIuXCIsMTkxOlwiL1wiLDE5MjpcImBcIiwyMTk6XCJbXCIsMjIwOlwiXFxcXFwiLDIyMTpcIl1cIiwyMjI6XCInXCIsMjI0OlwiTWV0YVwiLDIyNTpcIkFsdEdyYXBoXCJ9LE9iamVjdC5mcmVlemUobi5mcm9tQ2hhckNvZGVLZXlDb2RlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcImZyb21DaGFyQ29kZUtleUNvZGVcIix7Y29uZmlndXJhYmxlOiExLHdyaXRhYmxlOiExfSksbi5rZXlOYW1lPXtVbmlkZW50aWZpZWQ6XCJVbmlkZW50aWZpZWRcIixBbmRyb2lkRGVmYXVsdDpcIkFuZHJvaWREZWZhdWx0XCIsQWx0OlwiQWx0XCIsQWx0R3I6XCJBbHRHcmFwaFwiLENhcHNMb2NrOlwiQ2Fwc0xvY2tcIixDdHJsOlwiQ29udHJvbFwiLEZuOlwiRm5cIixGbkxvY2s6XCJGbkxvY2tcIixIeXBlcjpcIkh5cGVyXCIsTWV0YTpcIk1ldGFcIixPU0xlZnQ6XCJPU1wiLE9TUmlnaHQ6XCJPU1wiLENvbW1hbmQ6XCJPU1wiLE51bUxvY2s6XCJOdW1Mb2NrXCIsU2Nyb2xsTG9jazpcIlNjcm9sbExvY2tcIixTaGlmdDpcIlNoaWZ0XCIsU3VwZXI6XCJTdXBlclwiLFN5bWJvbDpcIlN5bWJvbFwiLFN5bWJvbExvY2s6XCJTeW1ib2xMb2NrXCIsRW50ZXI6XCJFbnRlclwiLFRhYjpcIlRhYlwiLFNwYWNlOlwiIFwiLExlZnRBcnJvdzpcIkFycm93TGVmdFwiLFVwQXJyb3c6XCJBcnJvd1VwXCIsUmlnaHRBcnJvdzpcIkFycm93UmlnaHRcIixEb3duQXJyb3c6XCJBcnJvd0Rvd25cIixFbmQ6XCJFbmRcIixIb21lOlwiSG9tZVwiLFBhZ2VVcDpcIlBhZ2VVcFwiLFBhZ2VEb3duOlwiUGFnZURvd25cIixCYWNrc3BhY2U6XCJCYWNrc3BhY2VcIixDbGVhcjpcIkNsZWFyXCIsQ29weTpcIkNvcHlcIixDclNlbDpcIkNyU2VsXCIsQ3V0OlwiQ3V0XCIsRGVsZXRlOlwiRGVsZXRlXCIsRXJhc2VFb2Y6XCJFcmFzZUVvZlwiLEV4U2VsOlwiRXhTZWxcIixJbnNlcnQ6XCJJbnNlcnRcIixQYXN0ZTpcIlBhc3RlXCIsUmVkbzpcIlJlZG9cIixVbmRvOlwiVW5kb1wiLEFjY2VwdDpcIkFjY2VwdFwiLEFnYWluOlwiQWdhaW5cIixBdHRuOlwiQXR0blwiLENhbmNlbDpcIkNhbmNlbFwiLENvbnRleHRNZW51OlwiQ29udGV4dE1lbnVcIixFc2M6XCJFc2NhcGVcIixFeGVjdXRlOlwiRXhlY3V0ZVwiLEZpbmQ6XCJGaW5kXCIsRmluaXNoOlwiRmluaXNoXCIsSGVscDpcIkhlbHBcIixQYXVzZTpcIlBhdXNlXCIsUGxheTpcIlBsYXlcIixQcm9wczpcIlByb3BzXCIsU2VsZWN0OlwiU2VsZWN0XCIsWm9vbUluOlwiWm9vbUluXCIsWm9vbU91dDpcIlpvb21PdXRcIixCcmlnaHRuZXNzRG93bjpcIkJyaWdodG5lc3NEb3duXCIsQnJpZ2h0bmVzc1VwOlwiQnJpZ2h0bmVzc1VwXCIsRWplY3Q6XCJFamVjdFwiLExvZ09mZjpcIkxvZ09mZlwiLFBvd2VyOlwiUG93ZXJcIixQb3dlck9mZjpcIlBvd2VyT2ZmXCIsUHJpbnRTY3JlZW46XCJQcmludFNjcmVlblwiLEhpYmVybmF0ZTpcIkhpYmVybmF0ZVwiLFN0YW5kYnk6XCJTdGFuZGJ5XCIsV2FrZVVwOlwiV2FrZVVwXCIsQ29tcG9zZTpcIkNvbXBvc2VcIixEZWFkOlwiRGVhZFwiLEYxOlwiRjFcIixGMjpcIkYyXCIsRjM6XCJGM1wiLEY0OlwiRjRcIixGNTpcIkY1XCIsRjY6XCJGNlwiLEY3OlwiRjdcIixGODpcIkY4XCIsRjk6XCJGOVwiLEYxMDpcIkYxMFwiLEYxMTpcIkYxMVwiLEYxMjpcIkYxMlwiLFByaW50OlwiUHJpbnRcIixudW0wOlwiMFwiLG51bTE6XCIxXCIsbnVtMjpcIjJcIixudW0zOlwiM1wiLG51bTQ6XCI0XCIsbnVtNTpcIjVcIixudW02OlwiNlwiLG51bTc6XCI3XCIsbnVtODpcIjhcIixudW05OlwiOVwiLGE6XCJhXCIsYjpcImJcIixjOlwiY1wiLGQ6XCJkXCIsZTpcImVcIixmOlwiZlwiLGc6XCJnXCIsaDpcImhcIixpOlwiaVwiLGo6XCJqXCIsazpcImtcIixsOlwibFwiLG06XCJtXCIsbjpcIm5cIixvOlwib1wiLHA6XCJwXCIscTpcInFcIixyOlwiclwiLHM6XCJzXCIsdDpcInRcIix1OlwidVwiLHY6XCJ2XCIsdzpcIndcIix4OlwieFwiLHk6XCJ5XCIsejpcInpcIixBOlwiQVwiLEI6XCJCXCIsQzpcIkNcIixEOlwiRFwiLEU6XCJFXCIsRjpcIkZcIixHOlwiR1wiLEg6XCJIXCIsSTpcIklcIixKOlwiSlwiLEs6XCJLXCIsTDpcIkxcIixNOlwiTVwiLE46XCJOXCIsTzpcIk9cIixQOlwiUFwiLFE6XCJRXCIsUjpcIlJcIixTOlwiU1wiLFQ6XCJUXCIsVTpcIlVcIixWOlwiVlwiLFc6XCJXXCIsWDpcIlhcIixZOlwiWVwiLFo6XCJaXCIsU2VtaWNvbG9uOlwiO1wiLEVxdWFsOlwiPVwiLENvbW1hOlwiLFwiLEh5cGhlbjpcIi1cIixNaW51czpcIi1cIixQbHVzOlwiK1wiLERvdDpcIi5cIixTbGFzaDpcIi9cIixCYWNrcXVvdGU6XCJgXCIsTGVmdFBhcmVudGhlc2lzOlwiKFwiLFJpZ2h0UGFyZW50aGVzaXM6XCIpXCIsTGVmdEJyYWNrZXQ6XCJbXCIsUmlnaHRCcmFja2V0OlwiXVwiLEJhY2tzbGFzaDpcIlxcXFxcIixRdW90ZTpcIidcIixudW1wYWQwOlwiMFwiLG51bXBhZDE6XCIxXCIsbnVtcGFkMjpcIjJcIixudW1wYWQzOlwiM1wiLG51bXBhZDQ6XCI0XCIsbnVtcGFkNTpcIjVcIixudW1wYWQ2OlwiNlwiLG51bXBhZDc6XCI3XCIsbnVtcGFkODpcIjhcIixudW1wYWQ5OlwiOVwiLE51bXBhZERvdDpcIi5cIixOdW1wYWREb3RBbHQ6XCIsXCIsTnVtcGFkTXVsdGlwbHk6XCIqXCIsTnVtcGFkUGx1czpcIitcIixOdW1wYWRNaW51czpcIi1cIixOdW1wYWRTdWJ0cmFjdDpcIi1cIixOdW1wYWRTbGFzaDpcIi9cIixOdW1wYWREb3RPYnNvbGV0ZUJyb3dzZXJzOlwiRGVjaW1hbFwiLE51bXBhZE11bHRpcGx5T2Jzb2xldGVCcm93c2VyczpcIk11bHRpcGx5XCIsTnVtcGFkUGx1c09ic29sZXRlQnJvd3NlcnM6XCJBZGRcIixOdW1wYWRNaW51c09ic29sZXRlQnJvd3NlcnM6XCJTdWJ0cmFjdFwiLE51bXBhZFNsYXNoT2Jzb2xldGVCcm93c2VyczpcIkRpdmlkZVwiLF9hbGxGbktleXM6W1wiRjFcIixcIkYyXCIsXCJGM1wiLFwiRjRcIixcIkY1XCIsXCJGNlwiLFwiRjdcIixcIkY4XCIsXCJGOVwiLFwiRjEwXCIsXCJGMTFcIixcIkYxMlwiXSxfc29tZU5vblByaW50YWJsZUtleXM6W1wiVGFiXCIsXCJFbnRlclwiLFwiU2hpZnRcIixcIlNoaWZ0TGVmdFwiLFwiU2hpZnRSaWdodFwiLFwiQ29udHJvbFwiLFwiQ29udHJvbExlZnRcIixcIkNvbnRyb2xSaWdodFwiLFwiQWx0XCIsXCJBbHRMZWZ0XCIsXCJBbHRSaWdodFwiLFwiUGF1c2VcIixcIkNhcHNMb2NrXCIsXCJFc2NhcGVcIl0sX2RpcmVjdGlvbktleXM6W1wiUGFnZVVwXCIsXCJQYWdlRG93blwiLFwiRW5kXCIsXCJIb21lXCIsXCJBcnJvd0Rvd25cIixcIkFycm93TGVmdFwiLFwiQXJyb3dSaWdodFwiLFwiQXJyb3dVcFwiXX0sT2JqZWN0LmZyZWV6ZShuLmtleU5hbWUuX2FsbEZuS2V5cyksT2JqZWN0LmZyZWV6ZShuLmtleU5hbWUuX3NvbWVOb25QcmludGFibGVLZXlzKSxPYmplY3QuZnJlZXplKG4ua2V5TmFtZS5fZGlyZWN0aW9uS2V5cyksT2JqZWN0LmZyZWV6ZShuLmtleU5hbWUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwia2V5TmFtZVwiLHtjb25maWd1cmFibGU6ITEsd3JpdGFibGU6ITF9KSxPYmplY3QuZnJlZXplKG4pO3ZhciBkPW47ZnVuY3Rpb24gYShlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gbyhlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSkpcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxzKGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIHIoKXtyZXR1cm4ocj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIGkpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGksbikmJihlW25dPWlbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGgoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKSl7dmFyIGk9W10sbj0hMCxhPSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIHMsbz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KHM9by5uZXh0KCkpLmRvbmUpJiYoaS5wdXNoKHMudmFsdWUpLCF0fHxpLmxlbmd0aCE9PXQpO249ITApO31jYXRjaChlKXthPSEwLHI9ZX1maW5hbGx5e3RyeXtufHxudWxsPT1vLnJldHVybnx8by5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgcn19cmV0dXJuIGl9fShlLHQpfHxzKGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKX1mdW5jdGlvbiBzKGUsdCl7aWYoZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIG8oZSx0KTt2YXIgaT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PWkmJmUuY29uc3RydWN0b3ImJihpPWUuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PWl8fFwiU2V0XCI9PT1pP0FycmF5LmZyb20oaSk6XCJBcmd1bWVudHNcIj09PWl8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KGkpP28oZSx0KTp2b2lkIDB9fWZ1bmN0aW9uIG8oZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIGk9MCxuPW5ldyBBcnJheSh0KTtpPHQ7aSsrKW5baV09ZVtpXTtyZXR1cm4gbn1mdW5jdGlvbiBsKGUpe3JldHVybihsPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX12YXIgTT1mdW5jdGlvbigpe2Z1bmN0aW9uIHMoKXshZnVuY3Rpb24oZSl7aWYoIShlIGluc3RhbmNlb2YgcykpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyl9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX0ocyxbe2tleTpcImlzTnVsbFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZX19LHtrZXk6XCJpc1VuZGVmaW5lZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lfX0se2tleTpcImlzVW5kZWZpbmVkT3JOdWxsT3JFbXB0eVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lfHxcIlwiPT09ZX19LHtrZXk6XCJpc1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgU3RyaW5nfX0se2tleTpcImlzRW1wdHlTdHJpbmdcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm5cIlwiPT09ZX19LHtrZXk6XCJpc0Jvb2xlYW5cIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGV9fSx7a2V5OlwiaXNUcnVlT3JGYWxzZVN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PVN0cmluZyhlKS50b0xvd2VyQ2FzZSgpO3JldHVyblwidHJ1ZVwiPT09dHx8XCJmYWxzZVwiPT09dH19LHtrZXk6XCJpc09iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCI9PT1sKGUpJiZudWxsIT09ZSYmIUFycmF5LmlzQXJyYXkoZSl9fSx7a2V5OlwiaXNFbXB0eU9ialwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpKXJldHVybiExO3JldHVybiEwfX0se2tleTpcImlzTnVtYmVyU3RyaWN0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGV9fSx7a2V5OlwiaXNOdW1iZXJcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4hdGhpcy5pc0FycmF5KGUpJiYhaXNOYU4ocGFyc2VGbG9hdChlKSkmJmlzRmluaXRlKGUpfX0se2tleTpcImlzRGlnaXRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4vXFxkLy50ZXN0KGUpfX0se2tleTpcImlzTnVtYmVyT3JBcmFiaWNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmFyYWJpY1RvTGF0aW5OdW1iZXJzKGUsITEsITAsITApO3JldHVybiB0aGlzLmlzTnVtYmVyKHQpfX0se2tleTpcImlzSW50XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJnBhcnNlRmxvYXQoZSk9PT1wYXJzZUludChlLDEwKSYmIWlzTmFOKGUpfX0se2tleTpcImlzRnVuY3Rpb25cIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlfX0se2tleTpcImlzSUUxMVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmISF3aW5kb3cuTVNJbnB1dE1ldGhvZENvbnRleHQmJiEhZG9jdW1lbnQuZG9jdW1lbnRNb2RlfX0se2tleTpcImNvbnRhaW5zXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hKCF0aGlzLmlzU3RyaW5nKGUpfHwhdGhpcy5pc1N0cmluZyh0KXx8XCJcIj09PWV8fFwiXCI9PT10KSYmLTEhPT1lLmluZGV4T2YodCl9fSx7a2V5OlwiaXNJbkFycmF5XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hKCF0aGlzLmlzQXJyYXkodCl8fHQ9PT1bXXx8dGhpcy5pc1VuZGVmaW5lZChlKSkmJi0xIT09dC5pbmRleE9mKGUpfX0se2tleTpcImlzQXJyYXlcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoW10pKXJldHVybiBBcnJheS5pc0FycmF5KGUpfHxcIm9iamVjdFwiPT09bChlKSYmXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpO3Rocm93IG5ldyBFcnJvcihcInRvU3RyaW5nIG1lc3NhZ2UgY2hhbmdlZCBmb3IgT2JqZWN0IEFycmF5XCIpfX0se2tleTpcImlzRWxlbWVudFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBFbGVtZW50JiZlIGluc3RhbmNlb2YgRWxlbWVudH19LHtrZXk6XCJpc0lucHV0RWxlbWVudFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlzRWxlbWVudChlKSYmXCJpbnB1dFwiPT09ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCl9fSx7a2V5OlwiZGVjaW1hbFBsYWNlc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWgoZS5zcGxpdChcIi5cIiksMilbMV07cmV0dXJuIHRoaXMuaXNVbmRlZmluZWQodCk/MDp0Lmxlbmd0aH19LHtrZXk6XCJpbmRleEZpcnN0Tm9uWmVyb0RlY2ltYWxQbGFjZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWgoU3RyaW5nKE1hdGguYWJzKGUpKS5zcGxpdChcIi5cIiksMilbMV07aWYodGhpcy5pc1VuZGVmaW5lZCh0KSlyZXR1cm4gMDt2YXIgaT10Lmxhc3RJbmRleE9mKFwiMFwiKTtyZXR1cm4tMT09PWk/aT0wOmkrPTIsaX19LHtrZXk6XCJrZXlDb2RlTnVtYmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUud2hpY2g/ZS5rZXlDb2RlOmUud2hpY2h9fSx7a2V5OlwiY2hhcmFjdGVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoXCJVbmlkZW50aWZpZWRcIj09PWUua2V5fHx2b2lkIDA9PT1lLmtleXx8dGhpcy5pc1NlbGVuaXVtQm90KCkpe3ZhciBpPXRoaXMua2V5Q29kZU51bWJlcihlKTtpZihpPT09ZC5rZXlDb2RlLkFuZHJvaWREZWZhdWx0KXJldHVybiBkLmtleU5hbWUuQW5kcm9pZERlZmF1bHQ7dmFyIG49ZC5mcm9tQ2hhckNvZGVLZXlDb2RlW2ldO3Q9cy5pc1VuZGVmaW5lZE9yTnVsbE9yRW1wdHkobik/U3RyaW5nLmZyb21DaGFyQ29kZShpKTpufWVsc2V7dmFyIGE7c3dpdGNoKGUua2V5KXtjYXNlXCJBZGRcIjp0PWQua2V5TmFtZS5OdW1wYWRQbHVzO2JyZWFrO2Nhc2VcIkFwcHNcIjp0PWQua2V5TmFtZS5Db250ZXh0TWVudTticmVhaztjYXNlXCJDcnNlbFwiOnQ9ZC5rZXlOYW1lLkNyU2VsO2JyZWFrO2Nhc2VcIkRlY2ltYWxcIjp0PWUuY2hhcj9lLmNoYXI6ZC5rZXlOYW1lLk51bXBhZERvdDticmVhaztjYXNlXCJEZWxcIjp0PVwiZmlyZWZveFwiPT09KGE9dGhpcy5icm93c2VyKCkpLm5hbWUmJmEudmVyc2lvbjw9MzZ8fFwiaWVcIj09PWEubmFtZSYmYS52ZXJzaW9uPD05P2Qua2V5TmFtZS5Eb3Q6ZC5rZXlOYW1lLkRlbGV0ZTticmVhaztjYXNlXCJEaXZpZGVcIjp0PWQua2V5TmFtZS5OdW1wYWRTbGFzaDticmVhaztjYXNlXCJEb3duXCI6dD1kLmtleU5hbWUuRG93bkFycm93O2JyZWFrO2Nhc2VcIkVzY1wiOnQ9ZC5rZXlOYW1lLkVzYzticmVhaztjYXNlXCJFeHNlbFwiOnQ9ZC5rZXlOYW1lLkV4U2VsO2JyZWFrO2Nhc2VcIkxlZnRcIjp0PWQua2V5TmFtZS5MZWZ0QXJyb3c7YnJlYWs7Y2FzZVwiTWV0YVwiOmNhc2VcIlN1cGVyXCI6dD1kLmtleU5hbWUuT1NMZWZ0O2JyZWFrO2Nhc2VcIk11bHRpcGx5XCI6dD1kLmtleU5hbWUuTnVtcGFkTXVsdGlwbHk7YnJlYWs7Y2FzZVwiUmlnaHRcIjp0PWQua2V5TmFtZS5SaWdodEFycm93O2JyZWFrO2Nhc2VcIlNwYWNlYmFyXCI6dD1kLmtleU5hbWUuU3BhY2U7YnJlYWs7Y2FzZVwiU3VidHJhY3RcIjp0PWQua2V5TmFtZS5OdW1wYWRNaW51czticmVhaztjYXNlXCJVcFwiOnQ9ZC5rZXlOYW1lLlVwQXJyb3c7YnJlYWs7ZGVmYXVsdDp0PWUua2V5fX1yZXR1cm4gdH19LHtrZXk6XCJicm93c2VyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0PW5hdmlnYXRvci51c2VyQWdlbnQsaT10Lm1hdGNoKC8ob3BlcmF8Y2hyb21lfHNhZmFyaXxmaXJlZm94fG1zaWV8dHJpZGVudCg/PVxcLykpXFwvP1xccyooXFxkKykvaSl8fFtdO3JldHVybi90cmlkZW50L2kudGVzdChpWzFdKT97bmFtZTpcImllXCIsdmVyc2lvbjooZT0vXFxicnZbIDpdKyhcXGQrKS9nLmV4ZWModCl8fFtdKVsxXXx8XCJcIn06XCJDaHJvbWVcIj09PWlbMV0mJm51bGwhPT0oZT10Lm1hdGNoKC9cXGIoT1BSfEVkZ2UpXFwvKFxcZCspLykpP3tuYW1lOmVbMV0ucmVwbGFjZShcIk9QUlwiLFwib3BlcmFcIiksdmVyc2lvbjplWzJdfTooaT1pWzJdP1tpWzFdLGlbMl1dOltuYXZpZ2F0b3IuYXBwTmFtZSxuYXZpZ2F0b3IuYXBwVmVyc2lvbixcIi0/XCJdLG51bGwhPT0oZT10Lm1hdGNoKC92ZXJzaW9uXFwvKFxcZCspL2kpKSYmaS5zcGxpY2UoMSwxLGVbMV0pLHtuYW1lOmlbMF0udG9Mb3dlckNhc2UoKSx2ZXJzaW9uOmlbMV19KX19LHtrZXk6XCJpc1NlbGVuaXVtQm90XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hMD09PXdpbmRvdy5uYXZpZ2F0b3Iud2ViZHJpdmVyfX0se2tleTpcImlzTmVnYXRpdmVcIix2YWx1ZTpmdW5jdGlvbihlLHQsaSl7dmFyIG49MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10P3Q6XCItXCIsYT0hKDI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09aSl8fGk7cmV0dXJuIGU9PT1ufHxcIlwiIT09ZSYmKHMuaXNOdW1iZXIoZSk/ZTwwOmE/dGhpcy5jb250YWlucyhlLG4pOnRoaXMuaXNOZWdhdGl2ZVN0cmljdChlLG4pKX19LHtrZXk6XCJpc05lZ2F0aXZlU3RyaWN0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQ/dDpcIi1cIjtyZXR1cm4gZS5jaGFyQXQoMCk9PT1pfX0se2tleTpcImlzTmVnYXRpdmVXaXRoQnJhY2tldHNcIix2YWx1ZTpmdW5jdGlvbihlLHQsaSl7cmV0dXJuIGUuY2hhckF0KDApPT09dCYmdGhpcy5jb250YWlucyhlLGkpfX0se2tleTpcImlzWmVyb09ySGFzTm9WYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiEvWzEtOV0vZy50ZXN0KGUpfX0se2tleTpcInNldFJhd05lZ2F0aXZlU2lnblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlzTmVnYXRpdmVTdHJpY3QoZSxcIi1cIik/ZTpcIi1cIi5jb25jYXQoZSl9fSx7a2V5OlwicmVwbGFjZUNoYXJBdFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxpKXtyZXR1cm5cIlwiLmNvbmNhdChlLnN1YnN0cigwLHQpKS5jb25jYXQoaSkuY29uY2F0KGUuc3Vic3RyKHQraS5sZW5ndGgpKX19LHtrZXk6XCJjbGFtcFRvUmFuZ2VMaW1pdHNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBNYXRoLm1heCh0Lm1pbmltdW1WYWx1ZSxNYXRoLm1pbih0Lm1heGltdW1WYWx1ZSxlKSl9fSx7a2V5OlwiY291bnROdW1iZXJDaGFyYWN0ZXJzT25UaGVDYXJldExlZnRTaWRlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LGkpe2Zvcih2YXIgbj1uZXcgUmVnRXhwKFwiWzAtOVwiLmNvbmNhdChpLFwiLV1cIikpLGE9MCxyPTA7cjx0O3IrKyluLnRlc3QoZVtyXSkmJmErKztyZXR1cm4gYX19LHtrZXk6XCJmaW5kQ2FyZXRQb3NpdGlvbkluRm9ybWF0dGVkTnVtYmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LGksbil7dmFyIGEscj1pLmxlbmd0aCxzPWUubGVuZ3RoLG89MDtmb3IoYT0wO2E8ciYmbzxzJiZvPHQ7YSsrKShlW29dPT09aVthXXx8XCIuXCI9PT1lW29dJiZpW2FdPT09bikmJm8rKztyZXR1cm4gYX19LHtrZXk6XCJjb3VudENoYXJJblRleHRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgaT0wLG49MDtuPHQubGVuZ3RoO24rKyl0W25dPT09ZSYmaSsrO3JldHVybiBpfX0se2tleTpcImNvbnZlcnRDaGFyYWN0ZXJDb3VudFRvSW5kZXhQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1heChlLGUtMSl9fSx7a2V5OlwiZ2V0RWxlbWVudFNlbGVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0LGk9e307dHJ5e3Q9dGhpcy5pc1VuZGVmaW5lZChlLnNlbGVjdGlvblN0YXJ0KX1jYXRjaChlKXt0PSExfXRyeXtpZih0KXt2YXIgbj13aW5kb3cuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VBdCgwKTtpLnN0YXJ0PW4uc3RhcnRPZmZzZXQsaS5lbmQ9bi5lbmRPZmZzZXQsaS5sZW5ndGg9aS5lbmQtaS5zdGFydH1lbHNlIGkuc3RhcnQ9ZS5zZWxlY3Rpb25TdGFydCxpLmVuZD1lLnNlbGVjdGlvbkVuZCxpLmxlbmd0aD1pLmVuZC1pLnN0YXJ0fWNhdGNoKGUpe2kuc3RhcnQ9MCxpLmVuZD0wLGkubGVuZ3RoPTB9cmV0dXJuIGl9fSx7a2V5Olwic2V0RWxlbWVudFNlbGVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxpKXt2YXIgbj0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWk/aTpudWxsO2lmKHRoaXMuaXNVbmRlZmluZWRPck51bGxPckVtcHR5KG4pJiYobj10KSx0aGlzLmlzSW5wdXRFbGVtZW50KGUpKWUuc2V0U2VsZWN0aW9uUmFuZ2UodCxuKTtlbHNlIGlmKCFzLmlzTnVsbChlLmZpcnN0Q2hpbGQpKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO2Euc2V0U3RhcnQoZS5maXJzdENoaWxkLHQpLGEuc2V0RW5kKGUuZmlyc3RDaGlsZCxuKTt2YXIgcj13aW5kb3cuZ2V0U2VsZWN0aW9uKCk7ci5yZW1vdmVBbGxSYW5nZXMoKSxyLmFkZFJhbmdlKGEpfX19LHtrZXk6XCJ0aHJvd0Vycm9yXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKGUpfX0se2tleTpcIndhcm5pbmdcIix2YWx1ZTpmdW5jdGlvbihlLHQpezE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dCYmIXR8fGNvbnNvbGUud2FybihcIldhcm5pbmc6IFwiLmNvbmNhdChlKSl9fSx7a2V5OlwiaXNXaGVlbFVwRXZlbnRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5kZWx0YVl8fHRoaXMudGhyb3dFcnJvcihcIlRoZSBldmVudCBwYXNzZWQgYXMgYSBwYXJhbWV0ZXIgaXMgbm90IGEgdmFsaWQgd2hlZWwgZXZlbnQsICdcIi5jb25jYXQoZS50eXBlLFwiJyBnaXZlbi5cIikpLGUuZGVsdGFZPDB9fSx7a2V5OlwiaXNXaGVlbERvd25FdmVudFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmRlbHRhWXx8dGhpcy50aHJvd0Vycm9yKFwiVGhlIGV2ZW50IHBhc3NlZCBhcyBhIHBhcmFtZXRlciBpcyBub3QgYSB2YWxpZCB3aGVlbCBldmVudCwgJ1wiLmNvbmNhdChlLnR5cGUsXCInIGdpdmVuLlwiKSksMDxlLmRlbHRhWX19LHtrZXk6XCJmb3JjZURlY2ltYWxQbGFjZXNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPWgoU3RyaW5nKGUpLnNwbGl0KFwiLlwiKSwyKSxuPWlbMF0sYT1pWzFdO3JldHVybiBhP1wiXCIuY29uY2F0KG4sXCIuXCIpLmNvbmNhdChhLnN1YnN0cigwLHQpKTplfX0se2tleTpcInJvdW5kVG9OZWFyZXN0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQ/dDoxZTM7cmV0dXJuIDA9PT1lPzA6KDA9PT1pJiZ0aGlzLnRocm93RXJyb3IoXCJUaGUgYHN0ZXBQbGFjZWAgdXNlZCB0byByb3VuZCBpcyBlcXVhbCB0byBgMGAuIFRoaXMgdmFsdWUgbXVzdCBub3QgYmUgZXF1YWwgdG8gemVyby5cIiksTWF0aC5yb3VuZChlL2kpKmkpfX0se2tleTpcIm1vZGlmeUFuZFJvdW5kVG9OZWFyZXN0QXV0b1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxpKXtlPU51bWJlcih0aGlzLmZvcmNlRGVjaW1hbFBsYWNlcyhlLGkpKTt2YXIgbj1NYXRoLmFicyhlKTtpZigwPD1uJiZuPDEpe3ZhciBhLHI9TWF0aC5wb3coMTAsLWkpO2lmKDA9PT1lKXJldHVybiB0P3I6LXI7dmFyIHMsbz1pLGw9dGhpcy5pbmRleEZpcnN0Tm9uWmVyb0RlY2ltYWxQbGFjZShlKTtyZXR1cm4gYT1vLTE8PWw/cjpNYXRoLnBvdygxMCwtKGwrMSkpLHM9dD9lK2E6ZS1hLHRoaXMucm91bmRUb05lYXJlc3QocyxhKX1lPXBhcnNlSW50KGUsMTApO3ZhciB1LGM9TWF0aC5hYnMoZSkudG9TdHJpbmcoKS5sZW5ndGg7c3dpdGNoKGMpe2Nhc2UgMTp1PTA7YnJlYWs7Y2FzZSAyOmNhc2UgMzp1PTE7YnJlYWs7Y2FzZSA0OmNhc2UgNTp1PTI7YnJlYWs7ZGVmYXVsdDp1PWMtM312YXIgaCxtPU1hdGgucG93KDEwLHUpO3JldHVybihoPXQ/ZSttOmUtbSk8PTEwJiYtMTA8PWg/aDp0aGlzLnJvdW5kVG9OZWFyZXN0KGgsbSl9fSx7a2V5OlwiYWRkQW5kUm91bmRUb05lYXJlc3RBdXRvXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tb2RpZnlBbmRSb3VuZFRvTmVhcmVzdEF1dG8oZSwhMCx0KX19LHtrZXk6XCJzdWJ0cmFjdEFuZFJvdW5kVG9OZWFyZXN0QXV0b1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW9kaWZ5QW5kUm91bmRUb05lYXJlc3RBdXRvKGUsITEsdCl9fSx7a2V5OlwiYXJhYmljVG9MYXRpbk51bWJlcnNcIix2YWx1ZTpmdW5jdGlvbihlLHQsaSxuKXt2YXIgYT0hKDE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dCl8fHQscj0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWkmJmkscz0zPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PW4mJm47aWYodGhpcy5pc051bGwoZSkpcmV0dXJuIGU7dmFyIG89ZS50b1N0cmluZygpO2lmKFwiXCI9PT1vKXJldHVybiBlO2lmKG51bGw9PT1vLm1hdGNoKC9b2aDZodmi2aPZpNml2abZp9mo2anbtNu127ZdL2cpKXJldHVybiBhJiYobz1OdW1iZXIobykpLG87ciYmKG89by5yZXBsYWNlKC/Zqy8sXCIuXCIpKSxzJiYobz1vLnJlcGxhY2UoL9msL2csXCJcIikpLG89by5yZXBsYWNlKC9b2aDZodmi2aPZpNml2abZp9mo2aldL2csZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hhckNvZGVBdCgwKS0xNjMyfSkucmVwbGFjZSgvW9uw27Hbstuz27Tbtdu227fbuNu5XS9nLGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoYXJDb2RlQXQoMCktMTc3Nn0pO3ZhciBsPU51bWJlcihvKTtyZXR1cm4gaXNOYU4obCk/bDooYSYmKG89bCksbyl9fSx7a2V5OlwidHJpZ2dlckV2ZW50XCIsdmFsdWU6ZnVuY3Rpb24oZSx0LGksbixhKXt2YXIgcixzPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90OmRvY3VtZW50LG89Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1pP2k6bnVsbCxsPSEoMzxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1uKXx8bix1PSEoNDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hKXx8YTt3aW5kb3cuQ3VzdG9tRXZlbnQ/cj1uZXcgQ3VzdG9tRXZlbnQoZSx7ZGV0YWlsOm8sYnViYmxlczpsLGNhbmNlbGFibGU6dX0pOihyPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIikpLmluaXRDdXN0b21FdmVudChlLGwsdSx7ZGV0YWlsOm99KSxzLmRpc3BhdGNoRXZlbnQocil9fSx7a2V5OlwicGFyc2VTdHJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdCxpLG4sYSxyPXt9O2lmKDA9PT1lJiYxL2U8MCYmKGU9XCItMFwiKSxlPWUudG9TdHJpbmcoKSx0aGlzLmlzTmVnYXRpdmVTdHJpY3QoZSxcIi1cIik/KGU9ZS5zbGljZSgxKSxyLnM9LTEpOnIucz0xLC0xPCh0PWUuaW5kZXhPZihcIi5cIikpJiYoZT1lLnJlcGxhY2UoXCIuXCIsXCJcIikpLHQ8MCYmKHQ9ZS5sZW5ndGgpLChpPS0xPT09ZS5zZWFyY2goL1sxLTldL2kpP2UubGVuZ3RoOmUuc2VhcmNoKC9bMS05XS9pKSk9PT0obj1lLmxlbmd0aCkpci5lPTAsci5jPVswXTtlbHNle2ZvcihhPW4tMTtcIjBcIj09PWUuY2hhckF0KGEpOy0tYSktLW47Zm9yKC0tbixyLmU9dC1pLTEsci5jPVtdLHQ9MDtpPD1uO2krPTEpci5jW3RdPStlLmNoYXJBdChpKSx0Kz0xfXJldHVybiByfX0se2tleTpcInRlc3RNaW5NYXhcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPXQuYyxuPWUuYyxhPXQucyxyPWUucyxzPXQuZSxvPWUuZTtpZighaVswXXx8IW5bMF0pcmV0dXJuIGlbMF0/YTpuWzBdPy1yOjA7aWYoYSE9PXIpcmV0dXJuIGE7dmFyIGw9YTwwO2lmKHMhPT1vKXJldHVybiBvPHNebD8xOi0xO2ZvcihhPS0xLHI9KHM9aS5sZW5ndGgpPChvPW4ubGVuZ3RoKT9zOm8sYSs9MTthPHI7YSs9MSlpZihpW2FdIT09blthXSlyZXR1cm4gaVthXT5uW2FdXmw/MTotMTtyZXR1cm4gcz09PW8/MDpvPHNebD8xOi0xfX0se2tleTpcInJhbmRvbVN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZT9lOjU7cmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLHQpfX0se2tleTpcImRvbUVsZW1lbnRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gcy5pc1N0cmluZyhlKT9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpOmV9fSx7a2V5OlwiZ2V0RWxlbWVudFZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJpbnB1dFwiPT09ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk/ZS52YWx1ZTp0aGlzLnRleHQoZSl9fSx7a2V5Olwic2V0RWxlbWVudFZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQ/dDpudWxsO1wiaW5wdXRcIj09PWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpP2UudmFsdWU9aTplLnRleHRDb250ZW50PWl9fSx7a2V5Olwic2V0SW52YWxpZFN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQ/dDpcIkludmFsaWRcIjtcIlwiIT09aSYmIXRoaXMuaXNOdWxsKGkpfHx0aGlzLnRocm93RXJyb3IoXCJDYW5ub3Qgc2V0IHRoZSBpbnZhbGlkIHN0YXRlIHdpdGggYW4gZW1wdHkgbWVzc2FnZS5cIiksZS5zZXRDdXN0b21WYWxpZGl0eShpKX19LHtrZXk6XCJzZXRWYWxpZFN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5zZXRDdXN0b21WYWxpZGl0eShcIlwiKX19LHtrZXk6XCJjbG9uZU9iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiByKHt9LGUpfX0se2tleTpcImNhbWVsaXplXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LGksbil7dmFyIGE9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10P3Q6XCItXCIscj0hKDI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09aSl8fGkscz0hKDM8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09bil8fG47aWYodGhpcy5pc051bGwoZSkpcmV0dXJuIG51bGw7ciYmKGU9ZS5yZXBsYWNlKC9eZGF0YS0vLFwiXCIpKTt2YXIgbz1lLnNwbGl0KGEpLm1hcChmdW5jdGlvbihlKXtyZXR1cm5cIlwiLmNvbmNhdChlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpKS5jb25jYXQoZS5zbGljZSgxKSl9KTtyZXR1cm4gbz1vLmpvaW4oXCJcIikscyYmKG89XCJcIi5jb25jYXQoby5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSkuY29uY2F0KG8uc2xpY2UoMSkpKSxvfX0se2tleTpcInRleHRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVUeXBlO3JldHVybiB0PT09Tm9kZS5FTEVNRU5UX05PREV8fHQ9PT1Ob2RlLkRPQ1VNRU5UX05PREV8fHQ9PT1Ob2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREU/ZS50ZXh0Q29udGVudDp0PT09Tm9kZS5URVhUX05PREU/ZS5ub2RlVmFsdWU6XCJcIn19LHtrZXk6XCJzZXRUZXh0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT1lLm5vZGVUeXBlO2khPT1Ob2RlLkVMRU1FTlRfTk9ERSYmaSE9PU5vZGUuRE9DVU1FTlRfTk9ERSYmaSE9PU5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERXx8KGUudGV4dENvbnRlbnQ9dCl9fSx7a2V5OlwiZmlsdGVyT3V0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzO3JldHVybiBlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4haS5pc0luQXJyYXkoZSx0KX0pfX0se2tleTpcInRyaW1QYWRkZWRaZXJvc0Zyb21EZWNpbWFsUGxhY2VzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoXCJcIj09PShlPVN0cmluZyhlKSkpcmV0dXJuXCJcIjt2YXIgdD1oKGUuc3BsaXQoXCIuXCIpLDIpLGk9dFswXSxuPXRbMV07aWYodGhpcy5pc1VuZGVmaW5lZE9yTnVsbE9yRW1wdHkobikpcmV0dXJuIGk7dmFyIGE9bi5yZXBsYWNlKC8wKyQvZyxcIlwiKTtyZXR1cm5cIlwiPT09YT9pOlwiXCIuY29uY2F0KGksXCIuXCIpLmNvbmNhdChhKX19LHtrZXk6XCJnZXRIb3ZlcmVkRWxlbWVudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiOmhvdmVyXCIpKTtyZXR1cm4gZVtlLmxlbmd0aC0xXX19LHtrZXk6XCJhcnJheVRyaW1cIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPWUubGVuZ3RoO3JldHVybiAwPT09aXx8aTx0P2U6dDwwP1tdOihlLmxlbmd0aD1wYXJzZUludCh0LDEwKSxlKX19LHtrZXk6XCJhcnJheVVuaXF1ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGEobmV3IFNldCgoZT1bXSkuY29uY2F0LmFwcGx5KGUsYXJndW1lbnRzKSkpfX0se2tleTpcIm1lcmdlTWFwc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07cmV0dXJuIG5ldyBNYXAodC5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQoYSh0KSl9LFtdKSl9fSx7a2V5Olwib2JqZWN0S2V5TG9va3VwXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT1PYmplY3QuZW50cmllcyhlKS5maW5kKGZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPT09dH0pLG49bnVsbDtyZXR1cm4gdm9pZCAwIT09aSYmKG49aVswXSksbn19LHtrZXk6XCJpbnNlcnRBdFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxpKXtpZihpPihlPVN0cmluZyhlKSkubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRoZSBnaXZlbiBpbmRleCBpcyBvdXQgb2YgdGhlIHN0cmluZyByYW5nZS5cIik7aWYoMSE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRoZSBnaXZlbiBzdHJpbmcgYGNoYXJgIHNob3VsZCBiZSBvbmx5IG9uZSBjaGFyYWN0ZXIgbG9uZy5cIik7cmV0dXJuXCJcIj09PWUmJjA9PT1pP3Q6XCJcIi5jb25jYXQoZS5zbGljZSgwLGkpKS5jb25jYXQodCkuY29uY2F0KGUuc2xpY2UoaSkpfX0se2tleTpcInNjaWVudGlmaWNUb0RlY2ltYWxcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1OdW1iZXIoZSk7aWYoaXNOYU4odCkpcmV0dXJuIE5hTjtpZihlPVN0cmluZyhlKSwhdGhpcy5jb250YWlucyhlLFwiZVwiKSYmIXRoaXMuY29udGFpbnMoZSxcIkVcIikpcmV0dXJuIGU7dmFyIGk9aChlLnNwbGl0KC9lL2kpLDIpLG49aVswXSxhPWlbMV0scj1uPDA7ciYmKG49bi5yZXBsYWNlKFwiLVwiLFwiXCIpKTt2YXIgcz0rYTwwO3MmJihhPWEucmVwbGFjZShcIi1cIixcIlwiKSk7dmFyIG8sbD1oKG4uc3BsaXQoL1xcLi8pLDIpLHU9bFswXSxjPWxbMV07cmV0dXJuIG89cz8obz11Lmxlbmd0aD5hP3RoaXMuaW5zZXJ0QXQodSxcIi5cIix1Lmxlbmd0aC1hKTpcIjAuXCIuY29uY2F0KFwiMFwiLnJlcGVhdChhLXUubGVuZ3RoKSkuY29uY2F0KHUpLFwiXCIuY29uY2F0KG8pLmNvbmNhdChjfHxcIlwiKSk6Yz8obj1cIlwiLmNvbmNhdCh1KS5jb25jYXQoYyksYTxjLmxlbmd0aD90aGlzLmluc2VydEF0KG4sXCIuXCIsK2ErdS5sZW5ndGgpOlwiXCIuY29uY2F0KG4pLmNvbmNhdChcIjBcIi5yZXBlYXQoYS1jLmxlbmd0aCkpKToobj1uLnJlcGxhY2UoXCIuXCIsXCJcIiksXCJcIi5jb25jYXQobikuY29uY2F0KFwiMFwiLnJlcGVhdChOdW1iZXIoYSkpKSksciYmKG89XCItXCIuY29uY2F0KG8pKSxvfX1dKSxzfSgpLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe2lmKGZ1bmN0aW9uKGUpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMpLG51bGw9PT1lKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgQVNUXCIpfXJldHVybiBmdW5jdGlvbihlLHQpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19KHQucHJvdG90eXBlLFt7a2V5OlwiZXZhbHVhdGVcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihudWxsPT1lKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgQVNUIHN1Yi10cmVlXCIpO2lmKFwibnVtYmVyXCI9PT1lLnR5cGUpcmV0dXJuIGUudmFsdWU7aWYoXCJ1bmFyeU1pbnVzXCI9PT1lLnR5cGUpcmV0dXJuLXRoaXMuZXZhbHVhdGUoZS5sZWZ0KTt2YXIgdD10aGlzLmV2YWx1YXRlKGUubGVmdCksaT10aGlzLmV2YWx1YXRlKGUucmlnaHQpO3N3aXRjaChlLnR5cGUpe2Nhc2VcIm9wXytcIjpyZXR1cm4gTnVtYmVyKHQpK051bWJlcihpKTtjYXNlXCJvcF8tXCI6cmV0dXJuIHQtaTtjYXNlXCJvcF8qXCI6cmV0dXJuIHQqaTtjYXNlXCJvcF8vXCI6cmV0dXJuIHQvaTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIkludmFsaWQgb3BlcmF0b3IgJ1wiLmNvbmNhdChlLnR5cGUsXCInXCIpKX19fV0pLHR9KCksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXshZnVuY3Rpb24oZSl7aWYoIShlIGluc3RhbmNlb2YgYSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyl9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX0oYSxbe2tleTpcImNyZWF0ZU5vZGVcIix2YWx1ZTpmdW5jdGlvbihlLHQsaSl7dmFyIG49bmV3IGE7cmV0dXJuIG4udHlwZT1lLG4ubGVmdD10LG4ucmlnaHQ9aSxufX0se2tleTpcImNyZWF0ZVVuYXJ5Tm9kZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBhO3JldHVybiB0LnR5cGU9XCJ1bmFyeU1pbnVzXCIsdC5sZWZ0PWUsdC5yaWdodD1udWxsLHR9fSx7a2V5OlwiY3JlYXRlTGVhZlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBhO3JldHVybiB0LnR5cGU9XCJudW1iZXJcIix0LnZhbHVlPWUsdH19XSksYX0oKTtmdW5jdGlvbiBtKGUsdCxpKXshZnVuY3Rpb24oZSl7aWYoIShlIGluc3RhbmNlb2YgbSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyksdGhpcy50eXBlPWUsdGhpcy52YWx1ZT10LHRoaXMuc3ltYm9sPWl9dmFyIGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpeyFmdW5jdGlvbihlKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzKSx0aGlzLnRleHQ9ZSx0aGlzLnRleHRMZW5ndGg9ZS5sZW5ndGgsdGhpcy5pbmRleD0wLHRoaXMudG9rZW49bmV3IG0oXCJFcnJvclwiLDAsMCl9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX0odC5wcm90b3R5cGUsW3trZXk6XCJfc2tpcFNwYWNlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKDtcIiBcIj09PXRoaXMudGV4dFt0aGlzLmluZGV4XSYmdGhpcy5pbmRleDw9dGhpcy50ZXh0TGVuZ3RoOyl0aGlzLmluZGV4Kyt9fSx7a2V5OlwiZ2V0SW5kZXhcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGV4fX0se2tleTpcImdldE5leHRUb2tlblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZT9lOlwiLlwiO2lmKHRoaXMuX3NraXBTcGFjZXMoKSx0aGlzLnRleHRMZW5ndGg9PT10aGlzLmluZGV4KXJldHVybiB0aGlzLnRva2VuLnR5cGU9XCJFT1RcIix0aGlzLnRva2VuO2lmKE0uaXNEaWdpdCh0aGlzLnRleHRbdGhpcy5pbmRleF0pKXJldHVybiB0aGlzLnRva2VuLnR5cGU9XCJudW1cIix0aGlzLnRva2VuLnZhbHVlPXRoaXMuX2dldE51bWJlcih0KSx0aGlzLnRva2VuO3N3aXRjaCh0aGlzLnRva2VuLnR5cGU9XCJFcnJvclwiLHRoaXMudGV4dFt0aGlzLmluZGV4XSl7Y2FzZVwiK1wiOnRoaXMudG9rZW4udHlwZT1cIitcIjticmVhaztjYXNlXCItXCI6dGhpcy50b2tlbi50eXBlPVwiLVwiO2JyZWFrO2Nhc2VcIipcIjp0aGlzLnRva2VuLnR5cGU9XCIqXCI7YnJlYWs7Y2FzZVwiL1wiOnRoaXMudG9rZW4udHlwZT1cIi9cIjticmVhaztjYXNlXCIoXCI6dGhpcy50b2tlbi50eXBlPVwiKFwiO2JyZWFrO2Nhc2VcIilcIjp0aGlzLnRva2VuLnR5cGU9XCIpXCJ9aWYoXCJFcnJvclwiPT09dGhpcy50b2tlbi50eXBlKXRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgdG9rZW4gJ1wiLmNvbmNhdCh0aGlzLnRva2VuLnN5bWJvbCxcIicgYXQgcG9zaXRpb24gJ1wiKS5jb25jYXQodGhpcy50b2tlbi5pbmRleCxcIicgaW4gdGhlIHRva2VuIGZ1bmN0aW9uXCIpKTtyZXR1cm4gdGhpcy50b2tlbi5zeW1ib2w9dGhpcy50ZXh0W3RoaXMuaW5kZXhdLHRoaXMuaW5kZXgrKyx0aGlzLnRva2VufX0se2tleTpcIl9nZXROdW1iZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9za2lwU3BhY2VzKCk7Zm9yKHZhciB0PXRoaXMuaW5kZXg7dGhpcy5pbmRleDw9dGhpcy50ZXh0TGVuZ3RoJiZNLmlzRGlnaXQodGhpcy50ZXh0W3RoaXMuaW5kZXhdKTspdGhpcy5pbmRleCsrO2Zvcih0aGlzLnRleHRbdGhpcy5pbmRleF09PT1lJiZ0aGlzLmluZGV4Kys7dGhpcy5pbmRleDw9dGhpcy50ZXh0TGVuZ3RoJiZNLmlzRGlnaXQodGhpcy50ZXh0W3RoaXMuaW5kZXhdKTspdGhpcy5pbmRleCsrO2lmKHRoaXMuaW5kZXg9PT10KXRocm93IG5ldyBFcnJvcihcIk5vIG51bWJlciBoYXMgYmVlbiBmb3VuZCB3aGlsZSBpdCB3YXMgZXhwZWN0ZWRcIik7cmV0dXJuIHRoaXMudGV4dC5zdWJzdHJpbmcodCx0aGlzLmluZGV4KS5yZXBsYWNlKGUsXCIuXCIpfX1dKSx0fSgpLHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe3ZhciB0PTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIi5cIjtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoIShlIGluc3RhbmNlb2YgaSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyksdGhpcy50ZXh0PWUsdGhpcy5kZWNpbWFsQ2hhcmFjdGVyPXQsdGhpcy5sZXhlcj1uZXcgZyhlKSx0aGlzLnRva2VuPXRoaXMubGV4ZXIuZ2V0TmV4dFRva2VuKHRoaXMuZGVjaW1hbENoYXJhY3RlciksdGhpcy5fZXhwKCl9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX0oaS5wcm90b3R5cGUsW3trZXk6XCJfZXhwXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90ZXJtKCksdD10aGlzLl9tb3JlRXhwKCk7cmV0dXJuIGMuY3JlYXRlTm9kZShcIm9wXytcIixlLHQpfX0se2tleTpcIl9tb3JlRXhwXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0O3N3aXRjaCh0aGlzLnRva2VuLnR5cGUpe2Nhc2VcIitcIjpyZXR1cm4gdGhpcy50b2tlbj10aGlzLmxleGVyLmdldE5leHRUb2tlbih0aGlzLmRlY2ltYWxDaGFyYWN0ZXIpLGU9dGhpcy5fdGVybSgpLHQ9dGhpcy5fbW9yZUV4cCgpLGMuY3JlYXRlTm9kZShcIm9wXytcIix0LGUpO2Nhc2VcIi1cIjpyZXR1cm4gdGhpcy50b2tlbj10aGlzLmxleGVyLmdldE5leHRUb2tlbih0aGlzLmRlY2ltYWxDaGFyYWN0ZXIpLGU9dGhpcy5fdGVybSgpLHQ9dGhpcy5fbW9yZUV4cCgpLGMuY3JlYXRlTm9kZShcIm9wXy1cIix0LGUpfXJldHVybiBjLmNyZWF0ZUxlYWYoMCl9fSx7a2V5OlwiX3Rlcm1cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2ZhY3RvcigpLHQ9dGhpcy5fbW9yZVRlcm1zKCk7cmV0dXJuIGMuY3JlYXRlTm9kZShcIm9wXypcIixlLHQpfX0se2tleTpcIl9tb3JlVGVybXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQ7c3dpdGNoKHRoaXMudG9rZW4udHlwZSl7Y2FzZVwiKlwiOnJldHVybiB0aGlzLnRva2VuPXRoaXMubGV4ZXIuZ2V0TmV4dFRva2VuKHRoaXMuZGVjaW1hbENoYXJhY3RlciksZT10aGlzLl9mYWN0b3IoKSx0PXRoaXMuX21vcmVUZXJtcygpLGMuY3JlYXRlTm9kZShcIm9wXypcIix0LGUpO2Nhc2VcIi9cIjpyZXR1cm4gdGhpcy50b2tlbj10aGlzLmxleGVyLmdldE5leHRUb2tlbih0aGlzLmRlY2ltYWxDaGFyYWN0ZXIpLGU9dGhpcy5fZmFjdG9yKCksdD10aGlzLl9tb3JlVGVybXMoKSxjLmNyZWF0ZU5vZGUoXCJvcF8vXCIsdCxlKX1yZXR1cm4gYy5jcmVhdGVMZWFmKDEpfX0se2tleTpcIl9mYWN0b3JcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQsaTtzd2l0Y2godGhpcy50b2tlbi50eXBlKXtjYXNlXCJudW1cIjpyZXR1cm4gaT10aGlzLnRva2VuLnZhbHVlLHRoaXMudG9rZW49dGhpcy5sZXhlci5nZXROZXh0VG9rZW4odGhpcy5kZWNpbWFsQ2hhcmFjdGVyKSxjLmNyZWF0ZUxlYWYoaSk7Y2FzZVwiLVwiOnJldHVybiB0aGlzLnRva2VuPXRoaXMubGV4ZXIuZ2V0TmV4dFRva2VuKHRoaXMuZGVjaW1hbENoYXJhY3RlciksdD10aGlzLl9mYWN0b3IoKSxjLmNyZWF0ZVVuYXJ5Tm9kZSh0KTtjYXNlXCIoXCI6cmV0dXJuIHRoaXMudG9rZW49dGhpcy5sZXhlci5nZXROZXh0VG9rZW4odGhpcy5kZWNpbWFsQ2hhcmFjdGVyKSxlPXRoaXMuX2V4cCgpLHRoaXMuX21hdGNoKFwiKVwiKSxlO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCB0b2tlbiAnXCIuY29uY2F0KHRoaXMudG9rZW4uc3ltYm9sLFwiJyB3aXRoIHR5cGUgJ1wiKS5jb25jYXQodGhpcy50b2tlbi50eXBlLFwiJyBhdCBwb3NpdGlvbiAnXCIpLmNvbmNhdCh0aGlzLnRva2VuLmluZGV4LFwiJyBpbiB0aGUgZmFjdG9yIGZ1bmN0aW9uXCIpKX19fSx7a2V5OlwiX21hdGNoXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZXhlci5nZXRJbmRleCgpLTE7aWYodGhpcy50ZXh0W3RdIT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIHRva2VuICdcIi5jb25jYXQodGhpcy50b2tlbi5zeW1ib2wsXCInIGF0IHBvc2l0aW9uICdcIikuY29uY2F0KHQsXCInIGluIHRoZSBtYXRjaCBmdW5jdGlvblwiKSk7dGhpcy50b2tlbj10aGlzLmxleGVyLmdldE5leHRUb2tlbih0aGlzLmRlY2ltYWxDaGFyYWN0ZXIpfX1dKSxpfSgpO2Z1bmN0aW9uIHAoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHkoZSl9KGUpfHxmdW5jdGlvbihlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8ZihlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKX1mdW5jdGlvbiBTKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSkpe3ZhciBpPVtdLG49ITAsYT0hMSxyPXZvaWQgMDt0cnl7Zm9yKHZhciBzLG89ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShzPW8ubmV4dCgpKS5kb25lKSYmKGkucHVzaChzLnZhbHVlKSwhdHx8aS5sZW5ndGghPT10KTtuPSEwKTt9Y2F0Y2goZSl7YT0hMCxyPWV9ZmluYWxseXt0cnl7bnx8bnVsbD09by5yZXR1cm58fG8ucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IHJ9fXJldHVybiBpfX0oZSx0KXx8ZihlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gZihlLHQpe2lmKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiB5KGUsdCk7dmFyIGk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1pJiZlLmNvbnN0cnVjdG9yJiYoaT1lLmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1pfHxcIlNldFwiPT09aT9BcnJheS5mcm9tKGkpOlwiQXJndW1lbnRzXCI9PT1pfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChpKT95KGUsdCk6dm9pZCAwfX1mdW5jdGlvbiB5KGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBpPTAsbj1uZXcgQXJyYXkodCk7aTx0O2krKyluW2ldPWVbaV07cmV0dXJuIG59ZnVuY3Rpb24gYigpe3JldHVybihiPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gaSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxuKSYmKGVbbl09aVtuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdyhlKXtyZXR1cm4odz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gUChlLHQpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19dmFyIE8saz1mdW5jdGlvbigpe2Z1bmN0aW9uIEIoKXt2YXIgcz10aGlzLGU9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGwsdD0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbCxpPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpudWxsOyFmdW5jdGlvbihlKXtpZighKGUgaW5zdGFuY2VvZiBCKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzKTt2YXIgbj1CLl9zZXRBcmd1bWVudHNWYWx1ZXMoZSx0LGkpLGE9bi5kb21FbGVtZW50LHI9bi5pbml0aWFsVmFsdWUsbz1uLnVzZXJPcHRpb25zO2lmKHRoaXMuZG9tRWxlbWVudD1hLHRoaXMuZGVmYXVsdFJhd1ZhbHVlPVwiXCIsdGhpcy5fc2V0U2V0dGluZ3MobywhMSksdGhpcy5fY2hlY2tFbGVtZW50KCksdGhpcy5zYXZlZENhbmNlbGxhYmxlVmFsdWU9bnVsbCx0aGlzLmhpc3RvcnlUYWJsZT1bXSx0aGlzLmhpc3RvcnlUYWJsZUluZGV4PS0xLHRoaXMub25Hb2luZ1JlZG89ITEsdGhpcy5wYXJlbnRGb3JtPXRoaXMuX2dldFBhcmVudEZvcm0oKSwhdGhpcy5ydW5PbmNlJiZ0aGlzLnNldHRpbmdzLmZvcm1hdE9uUGFnZUxvYWQpdGhpcy5fZm9ybWF0RGVmYXVsdFZhbHVlT25QYWdlTG9hZChyKTtlbHNle3ZhciBsO2lmKE0uaXNOdWxsKHIpKXN3aXRjaCh0aGlzLnNldHRpbmdzLmVtcHR5SW5wdXRCZWhhdmlvcil7Y2FzZSBCLm9wdGlvbnMuZW1wdHlJbnB1dEJlaGF2aW9yLm1pbjpsPXRoaXMuc2V0dGluZ3MubWluaW11bVZhbHVlO2JyZWFrO2Nhc2UgQi5vcHRpb25zLmVtcHR5SW5wdXRCZWhhdmlvci5tYXg6bD10aGlzLnNldHRpbmdzLm1heGltdW1WYWx1ZTticmVhaztjYXNlIEIub3B0aW9ucy5lbXB0eUlucHV0QmVoYXZpb3IuemVybzpsPVwiMFwiO2JyZWFrO2Nhc2UgQi5vcHRpb25zLmVtcHR5SW5wdXRCZWhhdmlvci5mb2N1czpjYXNlIEIub3B0aW9ucy5lbXB0eUlucHV0QmVoYXZpb3IucHJlc3M6Y2FzZSBCLm9wdGlvbnMuZW1wdHlJbnB1dEJlaGF2aW9yLmFsd2F5czpjYXNlIEIub3B0aW9ucy5lbXB0eUlucHV0QmVoYXZpb3IubnVsbDpsPVwiXCI7YnJlYWs7ZGVmYXVsdDpsPXRoaXMuc2V0dGluZ3MuZW1wdHlJbnB1dEJlaGF2aW9yfWVsc2UgbD1yO3RoaXMuX3NldEVsZW1lbnRBbmRSYXdWYWx1ZShsKX10aGlzLnJ1bk9uY2U9ITAsdGhpcy5oYXNFdmVudExpc3RlbmVycz0hMSwodGhpcy5pc0lucHV0RWxlbWVudHx8dGhpcy5pc0NvbnRlbnRFZGl0YWJsZSkmJih0aGlzLnNldHRpbmdzLm5vRXZlbnRMaXN0ZW5lcnN8fHRoaXMuX2NyZWF0ZUV2ZW50TGlzdGVuZXJzKCksdGhpcy5fc2V0V3JpdGVQZXJtaXNzaW9ucyghMCkpLHRoaXMuX3NhdmVJbml0aWFsVmFsdWVzKHIpLHRoaXMuc2Vzc2lvblN0b3JhZ2VBdmFpbGFibGU9dGhpcy5jb25zdHJ1Y3Rvci5fc3RvcmFnZVRlc3QoKSx0aGlzLnN0b3JhZ2VOYW1lUHJlZml4PVwiQVVUT19cIix0aGlzLl9zZXRQZXJzaXN0ZW50U3RvcmFnZU5hbWUoKSx0aGlzLnZhbGlkU3RhdGU9ITAsdGhpcy5pc0ZvY3VzZWQ9ITEsdGhpcy5pc1doZWVsRXZlbnQ9ITEsdGhpcy5pc0Ryb3BFdmVudD0hMSx0aGlzLmlzRWRpdGluZz0hMSx0aGlzLnJhd1ZhbHVlT25Gb2N1cz12b2lkIDAsdGhpcy5pbnRlcm5hbE1vZGlmaWNhdGlvbj0hMSx0aGlzLmF0dHJpYnV0ZVRvV2F0Y2g9dGhpcy5fZ2V0QXR0cmlidXRlVG9XYXRjaCgpLHRoaXMuZ2V0dGVyU2V0dGVyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcy5kb21FbGVtZW50Ll9fcHJvdG9fXyx0aGlzLmF0dHJpYnV0ZVRvV2F0Y2gpLHRoaXMuX2FkZFdhdGNoZXIoKSx0aGlzLnNldHRpbmdzLmNyZWF0ZUxvY2FsTGlzdCYmdGhpcy5fY3JlYXRlTG9jYWxMaXN0KCksdGhpcy5jb25zdHJ1Y3Rvci5fYWRkVG9HbG9iYWxMaXN0KHRoaXMpLHRoaXMuZ2xvYmFsPXtzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgaT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTpudWxsO3MuYXV0b051bWVyaWNMb2NhbExpc3QuZm9yRWFjaChmdW5jdGlvbihlKXtlLnNldCh0LGkpfSl9LHNldFVuZm9ybWF0dGVkOmZ1bmN0aW9uKHQsZSl7dmFyIGk9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6bnVsbDtzLmF1dG9OdW1lcmljTG9jYWxMaXN0LmZvckVhY2goZnVuY3Rpb24oZSl7ZS5zZXRVbmZvcm1hdHRlZCh0LGkpfSl9LGdldDpmdW5jdGlvbihlKXt2YXIgdD0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTpudWxsLGk9W107cmV0dXJuIHMuYXV0b051bWVyaWNMb2NhbExpc3QuZm9yRWFjaChmdW5jdGlvbihlKXtpLnB1c2goZS5nZXQoKSl9KSxzLl9leGVjdXRlQ2FsbGJhY2soaSx0KSxpfSxnZXROdW1lcmljU3RyaW5nOmZ1bmN0aW9uKGUpe3ZhciB0PTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZT9lOm51bGwsaT1bXTtyZXR1cm4gcy5hdXRvTnVtZXJpY0xvY2FsTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2kucHVzaChlLmdldE51bWVyaWNTdHJpbmcoKSl9KSxzLl9leGVjdXRlQ2FsbGJhY2soaSx0KSxpfSxnZXRGb3JtYXR0ZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6bnVsbCxpPVtdO3JldHVybiBzLmF1dG9OdW1lcmljTG9jYWxMaXN0LmZvckVhY2goZnVuY3Rpb24oZSl7aS5wdXNoKGUuZ2V0Rm9ybWF0dGVkKCkpfSkscy5fZXhlY3V0ZUNhbGxiYWNrKGksdCksaX0sZ2V0TnVtYmVyOmZ1bmN0aW9uKGUpe3ZhciB0PTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZT9lOm51bGwsaT1bXTtyZXR1cm4gcy5hdXRvTnVtZXJpY0xvY2FsTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2kucHVzaChlLmdldE51bWJlcigpKX0pLHMuX2V4ZWN1dGVDYWxsYmFjayhpLHQpLGl9LGdldExvY2FsaXplZDpmdW5jdGlvbihlKXt2YXIgdD0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTpudWxsLGk9W107cmV0dXJuIHMuYXV0b051bWVyaWNMb2NhbExpc3QuZm9yRWFjaChmdW5jdGlvbihlKXtpLnB1c2goZS5nZXRMb2NhbGl6ZWQoKSl9KSxzLl9leGVjdXRlQ2FsbGJhY2soaSx0KSxpfSxyZWZvcm1hdDpmdW5jdGlvbigpe3MuYXV0b051bWVyaWNMb2NhbExpc3QuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlZm9ybWF0KCl9KX0sdW5mb3JtYXQ6ZnVuY3Rpb24oKXtzLmF1dG9OdW1lcmljTG9jYWxMaXN0LmZvckVhY2goZnVuY3Rpb24oZSl7ZS51bmZvcm1hdCgpfSl9LHVuZm9ybWF0TG9jYWxpemVkOmZ1bmN0aW9uKGUpe3ZhciB0PTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZT9lOm51bGw7cy5hdXRvTnVtZXJpY0xvY2FsTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UudW5mb3JtYXRMb2NhbGl6ZWQodCl9KX0sdXBkYXRlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07cy5hdXRvTnVtZXJpY0xvY2FsTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UudXBkYXRlLmFwcGx5KGUsdCl9KX0saXNQcmlzdGluZTpmdW5jdGlvbigpe3ZhciB0PSEoMDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF0saT0hMDtyZXR1cm4gcy5hdXRvTnVtZXJpY0xvY2FsTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2kmJiFlLmlzUHJpc3RpbmUodCkmJihpPSExKX0pLGl9LGNsZWFyOmZ1bmN0aW9uKGUpe3ZhciB0PTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZSYmZTtzLmF1dG9OdW1lcmljTG9jYWxMaXN0LmZvckVhY2goZnVuY3Rpb24oZSl7ZS5jbGVhcih0KX0pfSxyZW1vdmU6ZnVuY3Rpb24oKXtzLmF1dG9OdW1lcmljTG9jYWxMaXN0LmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZW1vdmUoKX0pfSx3aXBlOmZ1bmN0aW9uKCl7cy5hdXRvTnVtZXJpY0xvY2FsTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Uud2lwZSgpfSl9LG51a2U6ZnVuY3Rpb24oKXtzLmF1dG9OdW1lcmljTG9jYWxMaXN0LmZvckVhY2goZnVuY3Rpb24oZSl7ZS5udWtlKCl9KX0saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgQj9zLmF1dG9OdW1lcmljTG9jYWxMaXN0LmhhcyhlLm5vZGUoKSk6cy5hdXRvTnVtZXJpY0xvY2FsTGlzdC5oYXMoZSl9LGFkZE9iamVjdDpmdW5jdGlvbihlKXt2YXIgdCxpO2k9ZSBpbnN0YW5jZW9mIEI/KHQ9ZS5ub2RlKCksZSk6Qi5nZXRBdXRvTnVtZXJpY0VsZW1lbnQodD1lKSxzLl9oYXNMb2NhbExpc3QoKXx8cy5fY3JlYXRlTG9jYWxMaXN0KCk7dmFyIG4sYT1pLl9nZXRMb2NhbExpc3QoKTswPT09YS5zaXplJiYoaS5fY3JlYXRlTG9jYWxMaXN0KCksYT1pLl9nZXRMb2NhbExpc3QoKSksKG49YSBpbnN0YW5jZW9mIE1hcD9NLm1lcmdlTWFwcyhzLl9nZXRMb2NhbExpc3QoKSxhKToocy5fYWRkVG9Mb2NhbExpc3QodCxpKSxzLl9nZXRMb2NhbExpc3QoKSkpLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5fc2V0TG9jYWxMaXN0KG4pfSl9LHJlbW92ZU9iamVjdDpmdW5jdGlvbihlLHQpe3ZhciBpLG4sYT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQmJnQ7bj1lIGluc3RhbmNlb2YgQj8oaT1lLm5vZGUoKSxlKTpCLmdldEF1dG9OdW1lcmljRWxlbWVudChpPWUpO3ZhciByPXMuYXV0b051bWVyaWNMb2NhbExpc3Q7cy5hdXRvTnVtZXJpY0xvY2FsTGlzdC5kZWxldGUoaSksci5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuX3NldExvY2FsTGlzdChzLmF1dG9OdW1lcmljTG9jYWxMaXN0KX0pLGF8fGkhPT1zLm5vZGUoKT9uLl9jcmVhdGVMb2NhbExpc3QoKTpuLl9zZXRMb2NhbExpc3QobmV3IE1hcCl9LGVtcHR5OmZ1bmN0aW9uKGUpe3ZhciB0PTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZSYmZTtzLmF1dG9OdW1lcmljTG9jYWxMaXN0LmZvckVhY2goZnVuY3Rpb24oZSl7dD9lLl9jcmVhdGVMb2NhbExpc3QoKTplLl9zZXRMb2NhbExpc3QobmV3IE1hcCl9KX0sZWxlbWVudHM6ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gcy5hdXRvTnVtZXJpY0xvY2FsTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QucHVzaChlLm5vZGUoKSl9KSx0fSxnZXRMaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuYXV0b051bWVyaWNMb2NhbExpc3R9LHNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gcy5hdXRvTnVtZXJpY0xvY2FsTGlzdC5zaXplfX0sdGhpcy5vcHRpb25zPXtyZXNldDpmdW5jdGlvbigpe3JldHVybiBzLnNldHRpbmdzPXtyYXdWYWx1ZTpzLmRlZmF1bHRSYXdWYWx1ZX0scy51cGRhdGUoQi5kZWZhdWx0U2V0dGluZ3MpLHN9LGFsbG93RGVjaW1hbFBhZGRpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIHMudXBkYXRlKHthbGxvd0RlY2ltYWxQYWRkaW5nOmV9KSxzfSxhbHdheXNBbGxvd0RlY2ltYWxDaGFyYWN0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHMudXBkYXRlKHthbHdheXNBbGxvd0RlY2ltYWxDaGFyYWN0ZXI6ZX0pLHN9LGNhcmV0UG9zaXRpb25PbkZvY3VzOmZ1bmN0aW9uKGUpe3JldHVybiBzLnNldHRpbmdzLmNhcmV0UG9zaXRpb25PbkZvY3VzPWUsc30sY3JlYXRlTG9jYWxMaXN0OmZ1bmN0aW9uKGUpe3JldHVybiBzLnNldHRpbmdzLmNyZWF0ZUxvY2FsTGlzdD1lLHMuc2V0dGluZ3MuY3JlYXRlTG9jYWxMaXN0P3MuX2hhc0xvY2FsTGlzdCgpfHxzLl9jcmVhdGVMb2NhbExpc3QoKTpzLl9kZWxldGVMb2NhbExpc3QoKSxzfSxjdXJyZW5jeVN5bWJvbDpmdW5jdGlvbihlKXtyZXR1cm4gcy51cGRhdGUoe2N1cnJlbmN5U3ltYm9sOmV9KSxzfSxjdXJyZW5jeVN5bWJvbFBsYWNlbWVudDpmdW5jdGlvbihlKXtyZXR1cm4gcy51cGRhdGUoe2N1cnJlbmN5U3ltYm9sUGxhY2VtZW50OmV9KSxzfSxkZWNpbWFsQ2hhcmFjdGVyOmZ1bmN0aW9uKGUpe3JldHVybiBzLnVwZGF0ZSh7ZGVjaW1hbENoYXJhY3RlcjplfSksc30sZGVjaW1hbENoYXJhY3RlckFsdGVybmF0aXZlOmZ1bmN0aW9uKGUpe3JldHVybiBzLnNldHRpbmdzLmRlY2ltYWxDaGFyYWN0ZXJBbHRlcm5hdGl2ZT1lLHN9LGRlY2ltYWxQbGFjZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIE0ud2FybmluZyhcIlVzaW5nIGBvcHRpb25zLmRlY2ltYWxQbGFjZXMoKWAgaW5zdGVhZCBvZiBjYWxsaW5nIHRoZSBzcGVjaWZpYyBgb3B0aW9ucy5kZWNpbWFsUGxhY2VzUmF3VmFsdWUoKWAsIGBvcHRpb25zLmRlY2ltYWxQbGFjZXNTaG93bk9uRm9jdXMoKWAgYW5kIGBvcHRpb25zLmRlY2ltYWxQbGFjZXNTaG93bk9uQmx1cigpYCBtZXRob2RzIHdpbGwgcmVzZXQgdGhvc2Ugb3B0aW9ucy5cXG5QbGVhc2UgY2FsbCB0aGUgc3BlY2lmaWMgbWV0aG9kcyBpZiB5b3UgZG8gbm90IHdhbnQgdG8gcmVzZXQgdGhvc2UuXCIscy5zZXR0aW5ncy5zaG93V2FybmluZ3MpLHMudXBkYXRlKHtkZWNpbWFsUGxhY2VzOmV9KSxzfSxkZWNpbWFsUGxhY2VzUmF3VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHMudXBkYXRlKHtkZWNpbWFsUGxhY2VzUmF3VmFsdWU6ZX0pLHN9LGRlY2ltYWxQbGFjZXNTaG93bk9uQmx1cjpmdW5jdGlvbihlKXtyZXR1cm4gcy51cGRhdGUoe2RlY2ltYWxQbGFjZXNTaG93bk9uQmx1cjplfSksc30sZGVjaW1hbFBsYWNlc1Nob3duT25Gb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gcy51cGRhdGUoe2RlY2ltYWxQbGFjZXNTaG93bk9uRm9jdXM6ZX0pLHN9LGRlZmF1bHRWYWx1ZU92ZXJyaWRlOmZ1bmN0aW9uKGUpe3JldHVybiBzLnVwZGF0ZSh7ZGVmYXVsdFZhbHVlT3ZlcnJpZGU6ZX0pLHN9LGRpZ2l0YWxHcm91cFNwYWNpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIHMudXBkYXRlKHtkaWdpdGFsR3JvdXBTcGFjaW5nOmV9KSxzfSxkaWdpdEdyb3VwU2VwYXJhdG9yOmZ1bmN0aW9uKGUpe3JldHVybiBzLnVwZGF0ZSh7ZGlnaXRHcm91cFNlcGFyYXRvcjplfSksc30sZGl2aXNvcldoZW5VbmZvY3VzZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHMudXBkYXRlKHtkaXZpc29yV2hlblVuZm9jdXNlZDplfSksc30sZW1wdHlJbnB1dEJlaGF2aW9yOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09cy5yYXdWYWx1ZSYmZSE9PUIub3B0aW9ucy5lbXB0eUlucHV0QmVoYXZpb3IubnVsbCYmKE0ud2FybmluZyhcIllvdSBhcmUgdHJ5aW5nIHRvIG1vZGlmeSB0aGUgYGVtcHR5SW5wdXRCZWhhdmlvcmAgb3B0aW9uIHRvIHNvbWV0aGluZyBkaWZmZXJlbnQgdGhhbiBgJ251bGwnYCAoXCIuY29uY2F0KGUsXCIpLCBidXQgdGhlIGVsZW1lbnQgcmF3IHZhbHVlIGlzIGN1cnJlbnRseSBzZXQgdG8gYG51bGxgLiBUaGlzIHdvdWxkIHJlc3VsdCBpbiBhbiBpbnZhbGlkIGByYXdWYWx1ZWAuIEluIG9yZGVyIHRvIGZpeCB0aGF0LCB0aGUgZWxlbWVudCB2YWx1ZSBoYXMgYmVlbiBjaGFuZ2VkIHRvIHRoZSBlbXB0eSBzdHJpbmcgYCcnYC5cIikscy5zZXR0aW5ncy5zaG93V2FybmluZ3MpLHMucmF3VmFsdWU9XCJcIikscy51cGRhdGUoe2VtcHR5SW5wdXRCZWhhdmlvcjplfSksc30sZXZlbnRCdWJibGVzOmZ1bmN0aW9uKGUpe3JldHVybiBzLnNldHRpbmdzLmV2ZW50QnViYmxlcz1lLHN9LGV2ZW50SXNDYW5jZWxhYmxlOmZ1bmN0aW9uKGUpe3JldHVybiBzLnNldHRpbmdzLmV2ZW50SXNDYW5jZWxhYmxlPWUsc30sZmFpbE9uVW5rbm93bk9wdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gcy5zZXR0aW5ncy5mYWlsT25Vbmtub3duT3B0aW9uPWUsc30sZm9ybWF0T25QYWdlTG9hZDpmdW5jdGlvbihlKXtyZXR1cm4gcy5zZXR0aW5ncy5mb3JtYXRPblBhZ2VMb2FkPWUsc30sZm9ybXVsYU1vZGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHMuc2V0dGluZ3MuZm9ybXVsYU1vZGU9ZSxzfSxoaXN0b3J5U2l6ZTpmdW5jdGlvbihlKXtyZXR1cm4gcy5zZXR0aW5ncy5oaXN0b3J5U2l6ZT1lLHN9LGludmFsaWRDbGFzczpmdW5jdGlvbihlKXtyZXR1cm4gcy5zZXR0aW5ncy5pbnZhbGlkQ2xhc3M9ZSxzfSxpc0NhbmNlbGxhYmxlOmZ1bmN0aW9uKGUpe3JldHVybiBzLnNldHRpbmdzLmlzQ2FuY2VsbGFibGU9ZSxzfSxsZWFkaW5nWmVybzpmdW5jdGlvbihlKXtyZXR1cm4gcy51cGRhdGUoe2xlYWRpbmdaZXJvOmV9KSxzfSxtYXhpbXVtVmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHMudXBkYXRlKHttYXhpbXVtVmFsdWU6ZX0pLHN9LG1pbmltdW1WYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gcy51cGRhdGUoe21pbmltdW1WYWx1ZTplfSksc30sbW9kaWZ5VmFsdWVPbldoZWVsOmZ1bmN0aW9uKGUpe3JldHVybiBzLnNldHRpbmdzLm1vZGlmeVZhbHVlT25XaGVlbD1lLHN9LG5lZ2F0aXZlQnJhY2tldHNUeXBlT25CbHVyOmZ1bmN0aW9uKGUpe3JldHVybiBzLnVwZGF0ZSh7bmVnYXRpdmVCcmFja2V0c1R5cGVPbkJsdXI6ZX0pLHN9LG5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50OmZ1bmN0aW9uKGUpe3JldHVybiBzLnVwZGF0ZSh7bmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQ6ZX0pLHN9LG5lZ2F0aXZlU2lnbkNoYXJhY3RlcjpmdW5jdGlvbihlKXtyZXR1cm4gcy51cGRhdGUoe25lZ2F0aXZlU2lnbkNoYXJhY3RlcjplfSksc30sbm9FdmVudExpc3RlbmVyczpmdW5jdGlvbihlKXtyZXR1cm4gZT09PUIub3B0aW9ucy5ub0V2ZW50TGlzdGVuZXJzLm5vRXZlbnRzJiZzLnNldHRpbmdzLm5vRXZlbnRMaXN0ZW5lcnM9PT1CLm9wdGlvbnMubm9FdmVudExpc3RlbmVycy5hZGRFdmVudHMmJnMuX3JlbW92ZUV2ZW50TGlzdGVuZXJzKCkscy51cGRhdGUoe25vRXZlbnRMaXN0ZW5lcnM6ZX0pLHN9LG9uSW52YWxpZFBhc3RlOmZ1bmN0aW9uKGUpe3JldHVybiBzLnNldHRpbmdzLm9uSW52YWxpZFBhc3RlPWUsc30sb3V0cHV0Rm9ybWF0OmZ1bmN0aW9uKGUpe3JldHVybiBzLnNldHRpbmdzLm91dHB1dEZvcm1hdD1lLHN9LG92ZXJyaWRlTWluTWF4TGltaXRzOmZ1bmN0aW9uKGUpe3JldHVybiBzLnVwZGF0ZSh7b3ZlcnJpZGVNaW5NYXhMaW1pdHM6ZX0pLHN9LHBvc2l0aXZlU2lnbkNoYXJhY3RlcjpmdW5jdGlvbihlKXtyZXR1cm4gcy51cGRhdGUoe3Bvc2l0aXZlU2lnbkNoYXJhY3RlcjplfSksc30scmF3VmFsdWVEaXZpc29yOmZ1bmN0aW9uKGUpe3JldHVybiBzLnVwZGF0ZSh7cmF3VmFsdWVEaXZpc29yOmV9KSxzfSxyZWFkT25seTpmdW5jdGlvbihlKXtyZXR1cm4gcy5zZXR0aW5ncy5yZWFkT25seT1lLHMuX3NldFdyaXRlUGVybWlzc2lvbnMoKSxzfSxyb3VuZGluZ01ldGhvZDpmdW5jdGlvbihlKXtyZXR1cm4gcy51cGRhdGUoe3JvdW5kaW5nTWV0aG9kOmV9KSxzfSxzYXZlVmFsdWVUb1Nlc3Npb25TdG9yYWdlOmZ1bmN0aW9uKGUpe3JldHVybiBzLnVwZGF0ZSh7c2F2ZVZhbHVlVG9TZXNzaW9uU3RvcmFnZTplfSksc30sc3ltYm9sV2hlblVuZm9jdXNlZDpmdW5jdGlvbihlKXtyZXR1cm4gcy51cGRhdGUoe3N5bWJvbFdoZW5VbmZvY3VzZWQ6ZX0pLHN9LHNlbGVjdE51bWJlck9ubHk6ZnVuY3Rpb24oZSl7cmV0dXJuIHMuc2V0dGluZ3Muc2VsZWN0TnVtYmVyT25seT1lLHN9LHNlbGVjdE9uRm9jdXM6ZnVuY3Rpb24oZSl7cmV0dXJuIHMuc2V0dGluZ3Muc2VsZWN0T25Gb2N1cz1lLHN9LHNlcmlhbGl6ZVNwYWNlczpmdW5jdGlvbihlKXtyZXR1cm4gcy5zZXR0aW5ncy5zZXJpYWxpemVTcGFjZXM9ZSxzfSxzaG93T25seU51bWJlcnNPbkZvY3VzOmZ1bmN0aW9uKGUpe3JldHVybiBzLnVwZGF0ZSh7c2hvd09ubHlOdW1iZXJzT25Gb2N1czplfSksc30sc2hvd1Bvc2l0aXZlU2lnbjpmdW5jdGlvbihlKXtyZXR1cm4gcy51cGRhdGUoe3Nob3dQb3NpdGl2ZVNpZ246ZX0pLHN9LHNob3dXYXJuaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gcy5zZXR0aW5ncy5zaG93V2FybmluZ3M9ZSxzfSxzdHlsZVJ1bGVzOmZ1bmN0aW9uKGUpe3JldHVybiBzLnVwZGF0ZSh7c3R5bGVSdWxlczplfSksc30sc3VmZml4VGV4dDpmdW5jdGlvbihlKXtyZXR1cm4gcy51cGRhdGUoe3N1ZmZpeFRleHQ6ZX0pLHN9LHVuZm9ybWF0T25Ib3ZlcjpmdW5jdGlvbihlKXtyZXR1cm4gcy5zZXR0aW5ncy51bmZvcm1hdE9uSG92ZXI9ZSxzfSx1bmZvcm1hdE9uU3VibWl0OmZ1bmN0aW9uKGUpe3JldHVybiBzLnNldHRpbmdzLnVuZm9ybWF0T25TdWJtaXQ9ZSxzfSx2YWx1ZXNUb1N0cmluZ3M6ZnVuY3Rpb24oZSl7cmV0dXJuIHMudXBkYXRlKHt2YWx1ZXNUb1N0cmluZ3M6ZX0pLHN9LHdhdGNoRXh0ZXJuYWxDaGFuZ2VzOmZ1bmN0aW9uKGUpe3JldHVybiBzLnVwZGF0ZSh7d2F0Y2hFeHRlcm5hbENoYW5nZXM6ZX0pLHN9LHdoZWVsT246ZnVuY3Rpb24oZSl7cmV0dXJuIHMuc2V0dGluZ3Mud2hlZWxPbj1lLHN9LHdoZWVsU3RlcDpmdW5jdGlvbihlKXtyZXR1cm4gcy5zZXR0aW5ncy53aGVlbFN0ZXA9ZSxzfX0sdGhpcy5fdHJpZ2dlckV2ZW50KEIuZXZlbnRzLmluaXRpYWxpemVkLHRoaXMuZG9tRWxlbWVudCx7bmV3VmFsdWU6TS5nZXRFbGVtZW50VmFsdWUodGhpcy5kb21FbGVtZW50KSxuZXdSYXdWYWx1ZTp0aGlzLnJhd1ZhbHVlLGVycm9yOm51bGwsYU5FbGVtZW50OnRoaXN9KX12YXIgZSx0O3JldHVybiB0PVt7a2V5OlwidmVyc2lvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCI0LjYuMFwifX0se2tleTpcIl9zZXRBcmd1bWVudHNWYWx1ZXNcIix2YWx1ZTpmdW5jdGlvbihlLHQsaSl7TS5pc051bGwoZSkmJk0udGhyb3dFcnJvcihcIkF0IGxlYXN0IG9uZSB2YWxpZCBwYXJhbWV0ZXIgaXMgbmVlZGVkIGluIG9yZGVyIHRvIGluaXRpYWxpemUgYW4gQXV0b051bWVyaWMgb2JqZWN0XCIpO3ZhciBuLGEscixzPU0uaXNFbGVtZW50KGUpLG89TS5pc1N0cmluZyhlKSxsPU0uaXNPYmplY3QodCksdT1BcnJheS5pc0FycmF5KHQpJiYwPHQubGVuZ3RoLGM9TS5pc051bWJlck9yQXJhYmljKHQpfHxcIlwiPT09dCxoPXRoaXMuX2lzUHJlRGVmaW5lZE9wdGlvblZhbGlkKHQpLG09TS5pc051bGwodCksZz1NLmlzRW1wdHlTdHJpbmcodCksZD1NLmlzT2JqZWN0KGkpLHY9QXJyYXkuaXNBcnJheShpKSYmMDxpLmxlbmd0aCxwPU0uaXNOdWxsKGkpLGY9dGhpcy5faXNQcmVEZWZpbmVkT3B0aW9uVmFsaWQoaSk7cmV0dXJuIHMmJm0mJnA/KG49ZSxhPXI9bnVsbCk6cyYmYyYmcD8obj1lLHI9dCxhPW51bGwpOnMmJmwmJnA/KG49ZSxyPW51bGwsYT10KTpzJiZoJiZwPyhuPWUscj1udWxsLGE9dGhpcy5fZ2V0T3B0aW9uT2JqZWN0KHQpKTpzJiZ1JiZwPyhuPWUscj1udWxsLGE9dGhpcy5tZXJnZU9wdGlvbnModCkpOnMmJihtfHxnKSYmZD8obj1lLHI9bnVsbCxhPWkpOnMmJihtfHxnKSYmdj8obj1lLHI9bnVsbCxhPXRoaXMubWVyZ2VPcHRpb25zKGkpKTpvJiZtJiZwPyhuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZSksYT1yPW51bGwpOm8mJmwmJnA/KG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKSxyPW51bGwsYT10KTpvJiZoJiZwPyhuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZSkscj1udWxsLGE9dGhpcy5fZ2V0T3B0aW9uT2JqZWN0KHQpKTpvJiZ1JiZwPyhuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZSkscj1udWxsLGE9dGhpcy5tZXJnZU9wdGlvbnModCkpOm8mJihtfHxnKSYmZD8obj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpLHI9bnVsbCxhPWkpOm8mJihtfHxnKSYmdj8obj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpLHI9bnVsbCxhPXRoaXMubWVyZ2VPcHRpb25zKGkpKTpvJiZjJiZwPyhuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZSkscj10LGE9bnVsbCk6byYmYyYmZD8obj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpLHI9dCxhPWkpOm8mJmMmJmY/KG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKSxyPXQsYT10aGlzLl9nZXRPcHRpb25PYmplY3QoaSkpOm8mJmMmJnY/KG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKSxyPXQsYT10aGlzLm1lcmdlT3B0aW9ucyhpKSk6cyYmYyYmZD8obj1lLHI9dCxhPWkpOnMmJmMmJmY/KG49ZSxyPXQsYT10aGlzLl9nZXRPcHRpb25PYmplY3QoaSkpOnMmJmMmJnY/KG49ZSxyPXQsYT10aGlzLm1lcmdlT3B0aW9ucyhpKSk6TS50aHJvd0Vycm9yKFwiVGhlIHBhcmFtZXRlcnMgZ2l2ZW4gdG8gdGhlIEF1dG9OdW1lcmljIG9iamVjdCBhcmUgbm90IHZhbGlkLCAnXCIuY29uY2F0KGUsXCInLCAnXCIpLmNvbmNhdCh0LFwiJyBhbmQgJ1wiKS5jb25jYXQoaSxcIicgZ2l2ZW4uXCIpKSxNLmlzTnVsbChuKSYmTS50aHJvd0Vycm9yKFwiVGhlIHNlbGVjdG9yICdcIi5jb25jYXQoZSxcIicgZGlkIG5vdCBzZWxlY3QgYW55IHZhbGlkIERPTSBlbGVtZW50LiBQbGVhc2UgY2hlY2sgb24gd2hpY2ggZWxlbWVudCB5b3UgY2FsbGVkIEF1dG9OdW1lcmljLlwiKSkse2RvbUVsZW1lbnQ6bixpbml0aWFsVmFsdWU6cix1c2VyT3B0aW9uczphfX19LHtrZXk6XCJtZXJnZU9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLGk9e307cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXtiKGksdC5fZ2V0T3B0aW9uT2JqZWN0KGUpKX0pLGl9fSx7a2V5OlwiX2lzUHJlRGVmaW5lZE9wdGlvblZhbGlkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChCLnByZWRlZmluZWRPcHRpb25zLGUpfX0se2tleTpcIl9nZXRPcHRpb25PYmplY3RcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gTS5pc1N0cmluZyhlKT9udWxsPT0odD1CLmdldFByZWRlZmluZWRPcHRpb25zKClbZV0pJiZNLndhcm5pbmcoXCJUaGUgZ2l2ZW4gcHJlLWRlZmluZWQgb3B0aW9uIFtcIi5jb25jYXQoZSxcIl0gaXMgbm90IHJlY29nbml6ZWQgYnkgYXV0b051bWVyaWMuIFBsZWFzZSBjaGVjayB0aGF0IHByZS1kZWZpbmVkIG9wdGlvbiBuYW1lLlwiKSwhMCk6dD1lLHR9fSx7a2V5OlwiX2RvZXNGb3JtSGFuZGxlckxpc3RFeGlzdHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXcod2luZG93LmFORm9ybUhhbmRsZXJNYXApO3JldHVyblwidW5kZWZpbmVkXCIhPT1lJiZcIm9iamVjdFwiPT09ZX19LHtrZXk6XCJfY3JlYXRlRm9ybUhhbmRsZXJMaXN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt3aW5kb3cuYU5Gb3JtSGFuZGxlck1hcD1uZXcgTWFwfX0se2tleTpcIl9jaGVja1ZhbHVlc1RvU3RyaW5nc0FycmF5XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTS5pc0luQXJyYXkoU3RyaW5nKGUpLHQpfX0se2tleTpcIl9jaGVja1ZhbHVlc1RvU3RyaW5nc1NldHRpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fY2hlY2tWYWx1ZXNUb1N0cmluZ3NBcnJheShlLE9iamVjdC5rZXlzKHQudmFsdWVzVG9TdHJpbmdzKSl9fSx7a2V5OlwiX2NoZWNrU3RyaW5nc1RvVmFsdWVzU2V0dGluZ3NcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9jaGVja1ZhbHVlc1RvU3RyaW5nc0FycmF5KGUsT2JqZWN0LnZhbHVlcyh0LnZhbHVlc1RvU3RyaW5ncykpfX0se2tleTpcIl91bmZvcm1hdEFsdEhvdmVyZWRcIix2YWx1ZTpmdW5jdGlvbihlKXtlLmhvdmVyZWRXaXRoQWx0PSEwLGUudW5mb3JtYXQoKX19LHtrZXk6XCJfcmVmb3JtYXRBbHRIb3ZlcmVkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5ob3ZlcmVkV2l0aEFsdD0hMSxlLnJlZm9ybWF0KCl9fSx7a2V5OlwiX2dldENoaWxkQU5JbnB1dEVsZW1lbnRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLGk9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlucHV0XCIpLG49W107cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGksMCkuZm9yRWFjaChmdW5jdGlvbihlKXt0LnRlc3QoZSkmJm4ucHVzaChlKX0pLG59fSx7a2V5OlwidGVzdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pc0luR2xvYmFsTGlzdChNLmRvbUVsZW1lbnQoZSkpfX0se2tleTpcIl9jcmVhdGVXZWFrTWFwXCIsdmFsdWU6ZnVuY3Rpb24oZSl7d2luZG93W2VdPW5ldyBXZWFrTWFwfX0se2tleTpcIl9jcmVhdGVHbG9iYWxMaXN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmF1dG9OdW1lcmljR2xvYmFsTGlzdE5hbWU9XCJhdXRvTnVtZXJpY0dsb2JhbExpc3RcIix0aGlzLl9jcmVhdGVXZWFrTWFwKHRoaXMuYXV0b051bWVyaWNHbG9iYWxMaXN0TmFtZSl9fSx7a2V5OlwiX2RvZXNHbG9iYWxMaXN0RXhpc3RzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT13KHdpbmRvd1t0aGlzLmF1dG9OdW1lcmljR2xvYmFsTGlzdE5hbWVdKTtyZXR1cm5cInVuZGVmaW5lZFwiIT09ZSYmXCJvYmplY3RcIj09PWV9fSx7a2V5OlwiX2FkZFRvR2xvYmFsTGlzdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2RvZXNHbG9iYWxMaXN0RXhpc3RzKCl8fHRoaXMuX2NyZWF0ZUdsb2JhbExpc3QoKTt2YXIgdD1lLm5vZGUoKTtpZih0aGlzLl9pc0luR2xvYmFsTGlzdCh0KSl7aWYodGhpcy5fZ2V0RnJvbUdsb2JhbExpc3QodCk9PT10aGlzKXJldHVybjtNLndhcm5pbmcoXCJBIHJlZmVyZW5jZSB0byB0aGUgRE9NIGVsZW1lbnQgeW91IGp1c3QgaW5pdGlhbGl6ZWQgYWxyZWFkeSBleGlzdHMgaW4gdGhlIGdsb2JhbCBBdXRvTnVtZXJpYyBlbGVtZW50IGxpc3QuIFBsZWFzZSBtYWtlIHN1cmUgdG8gbm90IGluaXRpYWxpemUgdGhlIHNhbWUgRE9NIGVsZW1lbnQgbXVsdGlwbGUgdGltZXMuXCIsZS5nZXRTZXR0aW5ncygpLnNob3dXYXJuaW5ncyl9d2luZG93W3RoaXMuYXV0b051bWVyaWNHbG9iYWxMaXN0TmFtZV0uc2V0KHQsZSl9fSx7a2V5OlwiX3JlbW92ZUZyb21HbG9iYWxMaXN0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fZG9lc0dsb2JhbExpc3RFeGlzdHMoKSYmd2luZG93W3RoaXMuYXV0b051bWVyaWNHbG9iYWxMaXN0TmFtZV0uZGVsZXRlKGUubm9kZSgpKX19LHtrZXk6XCJfZ2V0RnJvbUdsb2JhbExpc3RcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZG9lc0dsb2JhbExpc3RFeGlzdHMoKT93aW5kb3dbdGhpcy5hdXRvTnVtZXJpY0dsb2JhbExpc3ROYW1lXS5nZXQoZSk6bnVsbH19LHtrZXk6XCJfaXNJbkdsb2JhbExpc3RcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4hIXRoaXMuX2RvZXNHbG9iYWxMaXN0RXhpc3RzKCkmJndpbmRvd1t0aGlzLmF1dG9OdW1lcmljR2xvYmFsTGlzdE5hbWVdLmhhcyhlKX19LHtrZXk6XCJ2YWxpZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxpKXt2YXIgbj0hKDE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dCl8fHQsYT0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWk/aTpudWxsOyFNLmlzVW5kZWZpbmVkT3JOdWxsT3JFbXB0eShlKSYmTS5pc09iamVjdChlKXx8TS50aHJvd0Vycm9yKFwiVGhlIHVzZXJPcHRpb25zIGFyZSBpbnZhbGlkIDsgaXQgc2hvdWxkIGJlIGEgdmFsaWQgb2JqZWN0LCBbXCIuY29uY2F0KGUsXCJdIGdpdmVuLlwiKSk7dmFyIHIscz1NLmlzT2JqZWN0KGEpO3N8fE0uaXNOdWxsKGEpfHxNLnRocm93RXJyb3IoXCJUaGUgJ29yaWdpbmFsT3B0aW9ucycgcGFyYW1ldGVyIGlzIGludmFsaWQgOyBpdCBzaG91bGQgZWl0aGVyIGJlIGEgdmFsaWQgb3B0aW9uIG9iamVjdCBvciBgbnVsbGAsIFtcIi5jb25jYXQoZSxcIl0gZ2l2ZW4uXCIpKSxNLmlzTnVsbChlKXx8dGhpcy5fY29udmVydE9sZE9wdGlvbnNUb05ld09uZXMoZSkscj1uP2Ioe30sdGhpcy5nZXREZWZhdWx0Q29uZmlnKCksZSk6ZSxNLmlzVHJ1ZU9yRmFsc2VTdHJpbmcoci5zaG93V2FybmluZ3MpfHxNLmlzQm9vbGVhbihyLnNob3dXYXJuaW5ncyl8fE0udGhyb3dFcnJvcihcIlRoZSBkZWJ1ZyBvcHRpb24gJ3Nob3dXYXJuaW5ncycgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBiZSBlaXRoZXIgJ3RydWUnIG9yICdmYWxzZScsIFtcIi5jb25jYXQoci5zaG93V2FybmluZ3MsXCJdIGdpdmVuLlwiKSk7dmFyIG8sbD0vXlswLTldKyQvLHU9L1swLTldKy8sYz0vXi0/WzAtOV0rKFxcLj9bMC05XSspPyQvLGg9L15bMC05XSsoXFwuP1swLTldKyk/JC87TS5pc1RydWVPckZhbHNlU3RyaW5nKHIuYWxsb3dEZWNpbWFsUGFkZGluZyl8fE0uaXNCb29sZWFuKHIuYWxsb3dEZWNpbWFsUGFkZGluZyl8fHIuYWxsb3dEZWNpbWFsUGFkZGluZz09PUIub3B0aW9ucy5hbGxvd0RlY2ltYWxQYWRkaW5nLmZsb2F0c3x8TS50aHJvd0Vycm9yKFwiVGhlIGRlY2ltYWwgcGFkZGluZyBvcHRpb24gJ2FsbG93RGVjaW1hbFBhZGRpbmcnIGlzIGludmFsaWQgOyBpdCBzaG91bGQgZWl0aGVyIGJlIGBmYWxzZWAsIGB0cnVlYCBvciBgJ2Zsb2F0cydgLCBbXCIuY29uY2F0KHIuYWxsb3dEZWNpbWFsUGFkZGluZyxcIl0gZ2l2ZW4uXCIpKSxyLmFsbG93RGVjaW1hbFBhZGRpbmchPT1CLm9wdGlvbnMuYWxsb3dEZWNpbWFsUGFkZGluZy5uZXZlciYmXCJmYWxzZVwiIT09ci5hbGxvd0RlY2ltYWxQYWRkaW5nfHxyLmRlY2ltYWxQbGFjZXM9PT1CLm9wdGlvbnMuZGVjaW1hbFBsYWNlcy5ub25lJiZyLmRlY2ltYWxQbGFjZXNTaG93bk9uQmx1cj09PUIub3B0aW9ucy5kZWNpbWFsUGxhY2VzU2hvd25PbkJsdXIubm9uZSYmci5kZWNpbWFsUGxhY2VzU2hvd25PbkZvY3VzPT09Qi5vcHRpb25zLmRlY2ltYWxQbGFjZXNTaG93bk9uRm9jdXMubm9uZXx8TS53YXJuaW5nKFwiU2V0dGluZyAnYWxsb3dEZWNpbWFsUGFkZGluZycgdG8gW1wiLmNvbmNhdChyLmFsbG93RGVjaW1hbFBhZGRpbmcsXCJdIHdpbGwgb3ZlcnJpZGUgdGhlIGN1cnJlbnQgJ2RlY2ltYWxQbGFjZXMqJyBzZXR0aW5ncyBbXCIpLmNvbmNhdChyLmRlY2ltYWxQbGFjZXMsXCIsIFwiKS5jb25jYXQoci5kZWNpbWFsUGxhY2VzU2hvd25PbkJsdXIsXCIgYW5kIFwiKS5jb25jYXQoci5kZWNpbWFsUGxhY2VzU2hvd25PbkZvY3VzLFwiXS5cIiksci5zaG93V2FybmluZ3MpLE0uaXNUcnVlT3JGYWxzZVN0cmluZyhyLmFsd2F5c0FsbG93RGVjaW1hbENoYXJhY3Rlcil8fE0uaXNCb29sZWFuKHIuYWx3YXlzQWxsb3dEZWNpbWFsQ2hhcmFjdGVyKXx8TS50aHJvd0Vycm9yKFwiVGhlIG9wdGlvbiAnYWx3YXlzQWxsb3dEZWNpbWFsQ2hhcmFjdGVyJyBpcyBpbnZhbGlkIDsgaXQgc2hvdWxkIGVpdGhlciBiZSBgdHJ1ZWAgb3IgYGZhbHNlYCwgW1wiLmNvbmNhdChyLmFsd2F5c0FsbG93RGVjaW1hbENoYXJhY3RlcixcIl0gZ2l2ZW4uXCIpKSxNLmlzTnVsbChyLmNhcmV0UG9zaXRpb25PbkZvY3VzKXx8TS5pc0luQXJyYXkoci5jYXJldFBvc2l0aW9uT25Gb2N1cyxbQi5vcHRpb25zLmNhcmV0UG9zaXRpb25PbkZvY3VzLnN0YXJ0LEIub3B0aW9ucy5jYXJldFBvc2l0aW9uT25Gb2N1cy5lbmQsQi5vcHRpb25zLmNhcmV0UG9zaXRpb25PbkZvY3VzLmRlY2ltYWxMZWZ0LEIub3B0aW9ucy5jYXJldFBvc2l0aW9uT25Gb2N1cy5kZWNpbWFsUmlnaHRdKXx8TS50aHJvd0Vycm9yKFwiVGhlIGRpc3BsYXkgb24gZW1wdHkgc3RyaW5nIG9wdGlvbiAnY2FyZXRQb3NpdGlvbk9uRm9jdXMnIGlzIGludmFsaWQgOyBpdCBzaG91bGQgZWl0aGVyIGJlIGBudWxsYCwgJ2ZvY3VzJywgJ3ByZXNzJywgJ2Fsd2F5cycgb3IgJ3plcm8nLCBbXCIuY29uY2F0KHIuY2FyZXRQb3NpdGlvbk9uRm9jdXMsXCJdIGdpdmVuLlwiKSksbz1zP2E6dGhpcy5fY29ycmVjdENhcmV0UG9zaXRpb25PbkZvY3VzQW5kU2VsZWN0T25Gb2N1c09wdGlvbnMoZSksTS5pc051bGwobyl8fG8uY2FyZXRQb3NpdGlvbk9uRm9jdXM9PT1CLm9wdGlvbnMuY2FyZXRQb3NpdGlvbk9uRm9jdXMuZG9Ob0ZvcmNlQ2FyZXRQb3NpdGlvbnx8by5zZWxlY3RPbkZvY3VzIT09Qi5vcHRpb25zLnNlbGVjdE9uRm9jdXMuc2VsZWN0fHxNLndhcm5pbmcoXCJUaGUgJ3NlbGVjdE9uRm9jdXMnIG9wdGlvbiBpcyBzZXQgdG8gJ3NlbGVjdCcsIHdoaWNoIGlzIGluIGNvbmZsaWN0IHdpdGggdGhlICdjYXJldFBvc2l0aW9uT25Gb2N1cycgd2hpY2ggaXMgc2V0IHRvICdcIi5jb25jYXQoby5jYXJldFBvc2l0aW9uT25Gb2N1cyxcIicuIEFzIGEgcmVzdWx0LCBpZiB0aGlzIGhhcyBiZWVuIGNhbGxlZCB3aGVuIGluc3RhbnRpYXRpbmcgYW4gQXV0b051bWVyaWMgb2JqZWN0LCB0aGUgJ3NlbGVjdE9uRm9jdXMnIG9wdGlvbiBpcyBmb3JjZWQgdG8gJ2RvTm90U2VsZWN0Jy5cIiksci5zaG93V2FybmluZ3MpLE0uaXNJbkFycmF5KHIuZGlnaXRHcm91cFNlcGFyYXRvcixbQi5vcHRpb25zLmRpZ2l0R3JvdXBTZXBhcmF0b3IuY29tbWEsQi5vcHRpb25zLmRpZ2l0R3JvdXBTZXBhcmF0b3IuZG90LEIub3B0aW9ucy5kaWdpdEdyb3VwU2VwYXJhdG9yLm5vcm1hbFNwYWNlLEIub3B0aW9ucy5kaWdpdEdyb3VwU2VwYXJhdG9yLnRoaW5TcGFjZSxCLm9wdGlvbnMuZGlnaXRHcm91cFNlcGFyYXRvci5uYXJyb3dOb0JyZWFrU3BhY2UsQi5vcHRpb25zLmRpZ2l0R3JvdXBTZXBhcmF0b3Iubm9CcmVha1NwYWNlLEIub3B0aW9ucy5kaWdpdEdyb3VwU2VwYXJhdG9yLm5vU2VwYXJhdG9yLEIub3B0aW9ucy5kaWdpdEdyb3VwU2VwYXJhdG9yLmFwb3N0cm9waGUsQi5vcHRpb25zLmRpZ2l0R3JvdXBTZXBhcmF0b3IuYXJhYmljVGhvdXNhbmRzU2VwYXJhdG9yLEIub3B0aW9ucy5kaWdpdEdyb3VwU2VwYXJhdG9yLmRvdEFib3ZlLEIub3B0aW9ucy5kaWdpdEdyb3VwU2VwYXJhdG9yLnByaXZhdGVVc2VUd29dKXx8TS50aHJvd0Vycm9yKFwiVGhlIHRob3VzYW5kIHNlcGFyYXRvciBjaGFyYWN0ZXIgb3B0aW9uICdkaWdpdEdyb3VwU2VwYXJhdG9yJyBpcyBpbnZhbGlkIDsgaXQgc2hvdWxkIGJlICcsJywgJy4nLCAn2awnLCAny5knLCBcXFwiJ1xcXCIsICfCkicsICcgJywgJ+KAiScsICfigK8nLCAnwqAnIG9yIGVtcHR5ICgnJyksIFtcIi5jb25jYXQoci5kaWdpdEdyb3VwU2VwYXJhdG9yLFwiXSBnaXZlbi5cIikpLE0uaXNUcnVlT3JGYWxzZVN0cmluZyhyLnNob3dPbmx5TnVtYmVyc09uRm9jdXMpfHxNLmlzQm9vbGVhbihyLnNob3dPbmx5TnVtYmVyc09uRm9jdXMpfHxNLnRocm93RXJyb3IoXCJUaGUgJ3Nob3dPbmx5TnVtYmVyc09uRm9jdXMnIG9wdGlvbiBpcyBpbnZhbGlkIDsgaXQgc2hvdWxkIGJlIGVpdGhlciAndHJ1ZScgb3IgJ2ZhbHNlJywgW1wiLmNvbmNhdChyLnNob3dPbmx5TnVtYmVyc09uRm9jdXMsXCJdIGdpdmVuLlwiKSksTS5pc0luQXJyYXkoci5kaWdpdGFsR3JvdXBTcGFjaW5nLFtCLm9wdGlvbnMuZGlnaXRhbEdyb3VwU3BhY2luZy50d28sQi5vcHRpb25zLmRpZ2l0YWxHcm91cFNwYWNpbmcudHdvU2NhbGVkLEIub3B0aW9ucy5kaWdpdGFsR3JvdXBTcGFjaW5nLnRocmVlLEIub3B0aW9ucy5kaWdpdGFsR3JvdXBTcGFjaW5nLmZvdXJdKXx8Mjw9ci5kaWdpdGFsR3JvdXBTcGFjaW5nJiZyLmRpZ2l0YWxHcm91cFNwYWNpbmc8PTR8fE0udGhyb3dFcnJvcihcIlRoZSBncm91cGluZyBzZXBhcmF0b3Igb3B0aW9uIGZvciB0aG91c2FuZHMgJ2RpZ2l0YWxHcm91cFNwYWNpbmcnIGlzIGludmFsaWQgOyBpdCBzaG91bGQgYmUgJzInLCAnMnMnLCAnMycsIG9yICc0JywgW1wiLmNvbmNhdChyLmRpZ2l0YWxHcm91cFNwYWNpbmcsXCJdIGdpdmVuLlwiKSksTS5pc0luQXJyYXkoci5kZWNpbWFsQ2hhcmFjdGVyLFtCLm9wdGlvbnMuZGVjaW1hbENoYXJhY3Rlci5jb21tYSxCLm9wdGlvbnMuZGVjaW1hbENoYXJhY3Rlci5kb3QsQi5vcHRpb25zLmRlY2ltYWxDaGFyYWN0ZXIubWlkZGxlRG90LEIub3B0aW9ucy5kZWNpbWFsQ2hhcmFjdGVyLmFyYWJpY0RlY2ltYWxTZXBhcmF0b3IsQi5vcHRpb25zLmRlY2ltYWxDaGFyYWN0ZXIuZGVjaW1hbFNlcGFyYXRvcktleVN5bWJvbF0pfHxNLnRocm93RXJyb3IoXCJUaGUgZGVjaW1hbCBzZXBhcmF0b3IgY2hhcmFjdGVyIG9wdGlvbiAnZGVjaW1hbENoYXJhY3RlcicgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBiZSAnLicsICcsJywgJ8K3JywgJ+KOlicgb3IgJ9mrJywgW1wiLmNvbmNhdChyLmRlY2ltYWxDaGFyYWN0ZXIsXCJdIGdpdmVuLlwiKSksci5kZWNpbWFsQ2hhcmFjdGVyPT09ci5kaWdpdEdyb3VwU2VwYXJhdG9yJiZNLnRocm93RXJyb3IoXCJhdXRvTnVtZXJpYyB3aWxsIG5vdCBmdW5jdGlvbiBwcm9wZXJseSB3aGVuIHRoZSBkZWNpbWFsIGNoYXJhY3RlciAnZGVjaW1hbENoYXJhY3RlcicgW1wiLmNvbmNhdChyLmRlY2ltYWxDaGFyYWN0ZXIsXCJdIGFuZCB0aGUgdGhvdXNhbmQgc2VwYXJhdG9yICdkaWdpdEdyb3VwU2VwYXJhdG9yJyBbXCIpLmNvbmNhdChyLmRpZ2l0R3JvdXBTZXBhcmF0b3IsXCJdIGFyZSB0aGUgc2FtZSBjaGFyYWN0ZXIuXCIpKSxNLmlzTnVsbChyLmRlY2ltYWxDaGFyYWN0ZXJBbHRlcm5hdGl2ZSl8fE0uaXNTdHJpbmcoci5kZWNpbWFsQ2hhcmFjdGVyQWx0ZXJuYXRpdmUpfHxNLnRocm93RXJyb3IoXCJUaGUgYWx0ZXJuYXRlIGRlY2ltYWwgc2VwYXJhdG9yIGNoYXJhY3RlciBvcHRpb24gJ2RlY2ltYWxDaGFyYWN0ZXJBbHRlcm5hdGl2ZScgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBiZSBhIHN0cmluZywgW1wiLmNvbmNhdChyLmRlY2ltYWxDaGFyYWN0ZXJBbHRlcm5hdGl2ZSxcIl0gZ2l2ZW4uXCIpKSxcIlwiPT09ci5jdXJyZW5jeVN5bWJvbHx8TS5pc1N0cmluZyhyLmN1cnJlbmN5U3ltYm9sKXx8TS50aHJvd0Vycm9yKFwiVGhlIGN1cnJlbmN5IHN5bWJvbCBvcHRpb24gJ2N1cnJlbmN5U3ltYm9sJyBpcyBpbnZhbGlkIDsgaXQgc2hvdWxkIGJlIGEgc3RyaW5nLCBbXCIuY29uY2F0KHIuY3VycmVuY3lTeW1ib2wsXCJdIGdpdmVuLlwiKSksTS5pc0luQXJyYXkoci5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudCxbQi5vcHRpb25zLmN1cnJlbmN5U3ltYm9sUGxhY2VtZW50LnByZWZpeCxCLm9wdGlvbnMuY3VycmVuY3lTeW1ib2xQbGFjZW1lbnQuc3VmZml4XSl8fE0udGhyb3dFcnJvcihcIlRoZSBwbGFjZW1lbnQgb2YgdGhlIGN1cnJlbmN5IHNpZ24gb3B0aW9uICdjdXJyZW5jeVN5bWJvbFBsYWNlbWVudCcgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBlaXRoZXIgYmUgJ3AnIChwcmVmaXgpIG9yICdzJyAoc3VmZml4KSwgW1wiLmNvbmNhdChyLmN1cnJlbmN5U3ltYm9sUGxhY2VtZW50LFwiXSBnaXZlbi5cIikpLE0uaXNJbkFycmF5KHIubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQsW0Iub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5wcmVmaXgsQi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LnN1ZmZpeCxCLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQubGVmdCxCLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQucmlnaHQsQi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50Lm5vbmVdKXx8TS50aHJvd0Vycm9yKFwiVGhlIHBsYWNlbWVudCBvZiB0aGUgbmVnYXRpdmUgc2lnbiBvcHRpb24gJ25lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50JyBpcyBpbnZhbGlkIDsgaXQgc2hvdWxkIGVpdGhlciBiZSAncCcgKHByZWZpeCksICdzJyAoc3VmZml4KSwgJ2wnIChsZWZ0KSwgJ3InIChyaWdodCkgb3IgJ251bGwnLCBbXCIuY29uY2F0KHIubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQsXCJdIGdpdmVuLlwiKSksTS5pc1RydWVPckZhbHNlU3RyaW5nKHIuc2hvd1Bvc2l0aXZlU2lnbil8fE0uaXNCb29sZWFuKHIuc2hvd1Bvc2l0aXZlU2lnbil8fE0udGhyb3dFcnJvcihcIlRoZSBzaG93IHBvc2l0aXZlIHNpZ24gb3B0aW9uICdzaG93UG9zaXRpdmVTaWduJyBpcyBpbnZhbGlkIDsgaXQgc2hvdWxkIGJlIGVpdGhlciAndHJ1ZScgb3IgJ2ZhbHNlJywgW1wiLmNvbmNhdChyLnNob3dQb3NpdGl2ZVNpZ24sXCJdIGdpdmVuLlwiKSksTS5pc1N0cmluZyhyLnN1ZmZpeFRleHQpJiYoXCJcIj09PXIuc3VmZml4VGV4dHx8IU0uaXNOZWdhdGl2ZShyLnN1ZmZpeFRleHQsci5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIpJiYhdS50ZXN0KHIuc3VmZml4VGV4dCkpfHxNLnRocm93RXJyb3IoXCJUaGUgYWRkaXRpb25hbCBzdWZmaXggb3B0aW9uICdzdWZmaXhUZXh0JyBpcyBpbnZhbGlkIDsgaXQgc2hvdWxkIG5vdCBjb250YWlucyB0aGUgbmVnYXRpdmUgc2lnbiAnXCIuY29uY2F0KHIubmVnYXRpdmVTaWduQ2hhcmFjdGVyLFwiJyBub3IgYW55IG51bWVyaWNhbCBjaGFyYWN0ZXJzLCBbXCIpLmNvbmNhdChyLnN1ZmZpeFRleHQsXCJdIGdpdmVuLlwiKSksTS5pc1N0cmluZyhyLm5lZ2F0aXZlU2lnbkNoYXJhY3RlcikmJjE9PT1yLm5lZ2F0aXZlU2lnbkNoYXJhY3Rlci5sZW5ndGgmJiFNLmlzVW5kZWZpbmVkT3JOdWxsT3JFbXB0eShyLm5lZ2F0aXZlU2lnbkNoYXJhY3RlcikmJiF1LnRlc3Qoci5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIpfHxNLnRocm93RXJyb3IoXCJUaGUgbmVnYXRpdmUgc2lnbiBjaGFyYWN0ZXIgb3B0aW9uICduZWdhdGl2ZVNpZ25DaGFyYWN0ZXInIGlzIGludmFsaWQgOyBpdCBzaG91bGQgYmUgYSBzaW5nbGUgY2hhcmFjdGVyLCBhbmQgY2Fubm90IGJlIGFueSBudW1lcmljYWwgY2hhcmFjdGVycywgW1wiLmNvbmNhdChyLm5lZ2F0aXZlU2lnbkNoYXJhY3RlcixcIl0gZ2l2ZW4uXCIpKSxNLmlzU3RyaW5nKHIucG9zaXRpdmVTaWduQ2hhcmFjdGVyKSYmMT09PXIucG9zaXRpdmVTaWduQ2hhcmFjdGVyLmxlbmd0aCYmIU0uaXNVbmRlZmluZWRPck51bGxPckVtcHR5KHIucG9zaXRpdmVTaWduQ2hhcmFjdGVyKSYmIXUudGVzdChyLnBvc2l0aXZlU2lnbkNoYXJhY3Rlcil8fE0udGhyb3dFcnJvcihcIlRoZSBwb3NpdGl2ZSBzaWduIGNoYXJhY3RlciBvcHRpb24gJ3Bvc2l0aXZlU2lnbkNoYXJhY3RlcicgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBiZSBhIHNpbmdsZSBjaGFyYWN0ZXIsIGFuZCBjYW5ub3QgYmUgYW55IG51bWVyaWNhbCBjaGFyYWN0ZXJzLCBbXCIuY29uY2F0KHIucG9zaXRpdmVTaWduQ2hhcmFjdGVyLFwiXSBnaXZlbi5cXG5JZiB5b3Ugd2FudCB0byBoaWRlIHRoZSBwb3NpdGl2ZSBzaWduIGNoYXJhY3RlciwgeW91IG5lZWQgdG8gc2V0IHRoZSBgc2hvd1Bvc2l0aXZlU2lnbmAgb3B0aW9uIHRvIGB0cnVlYC5cIikpLHIubmVnYXRpdmVTaWduQ2hhcmFjdGVyPT09ci5wb3NpdGl2ZVNpZ25DaGFyYWN0ZXImJk0udGhyb3dFcnJvcihcIlRoZSBwb3NpdGl2ZSAncG9zaXRpdmVTaWduQ2hhcmFjdGVyJyBhbmQgbmVnYXRpdmUgJ25lZ2F0aXZlU2lnbkNoYXJhY3Rlcicgc2lnbiBjaGFyYWN0ZXJzIGNhbm5vdCBiZSBpZGVudGljYWwgOyBbXCIuY29uY2F0KHIubmVnYXRpdmVTaWduQ2hhcmFjdGVyLFwiXSBnaXZlbi5cIikpO3ZhciBtPVMoTS5pc051bGwoci5uZWdhdGl2ZUJyYWNrZXRzVHlwZU9uQmx1cik/W1wiXCIsXCJcIl06ci5uZWdhdGl2ZUJyYWNrZXRzVHlwZU9uQmx1ci5zcGxpdChcIixcIiksMiksZz1tWzBdLGQ9bVsxXTsoTS5jb250YWlucyhyLmRpZ2l0R3JvdXBTZXBhcmF0b3Isci5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIpfHxNLmNvbnRhaW5zKHIuZGVjaW1hbENoYXJhY3RlcixyLm5lZ2F0aXZlU2lnbkNoYXJhY3Rlcil8fE0uY29udGFpbnMoci5kZWNpbWFsQ2hhcmFjdGVyQWx0ZXJuYXRpdmUsci5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIpfHxNLmNvbnRhaW5zKGcsci5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIpfHxNLmNvbnRhaW5zKGQsci5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIpfHxNLmNvbnRhaW5zKHIuc3VmZml4VGV4dCxyLm5lZ2F0aXZlU2lnbkNoYXJhY3RlcikpJiZNLnRocm93RXJyb3IoXCJUaGUgbmVnYXRpdmUgc2lnbiBjaGFyYWN0ZXIgb3B0aW9uICduZWdhdGl2ZVNpZ25DaGFyYWN0ZXInIGlzIGludmFsaWQgOyBpdCBzaG91bGQgbm90IGJlIGVxdWFsIG9yIGEgcGFydCBvZiB0aGUgZGlnaXQgc2VwYXJhdG9yLCB0aGUgZGVjaW1hbCBjaGFyYWN0ZXIsIHRoZSBkZWNpbWFsIGNoYXJhY3RlciBhbHRlcm5hdGl2ZSwgdGhlIG5lZ2F0aXZlIGJyYWNrZXRzIG9yIHRoZSBzdWZmaXggdGV4dCwgW1wiLmNvbmNhdChyLm5lZ2F0aXZlU2lnbkNoYXJhY3RlcixcIl0gZ2l2ZW4uXCIpKSwoTS5jb250YWlucyhyLmRpZ2l0R3JvdXBTZXBhcmF0b3Isci5wb3NpdGl2ZVNpZ25DaGFyYWN0ZXIpfHxNLmNvbnRhaW5zKHIuZGVjaW1hbENoYXJhY3RlcixyLnBvc2l0aXZlU2lnbkNoYXJhY3Rlcil8fE0uY29udGFpbnMoci5kZWNpbWFsQ2hhcmFjdGVyQWx0ZXJuYXRpdmUsci5wb3NpdGl2ZVNpZ25DaGFyYWN0ZXIpfHxNLmNvbnRhaW5zKGcsci5wb3NpdGl2ZVNpZ25DaGFyYWN0ZXIpfHxNLmNvbnRhaW5zKGQsci5wb3NpdGl2ZVNpZ25DaGFyYWN0ZXIpfHxNLmNvbnRhaW5zKHIuc3VmZml4VGV4dCxyLnBvc2l0aXZlU2lnbkNoYXJhY3RlcikpJiZNLnRocm93RXJyb3IoXCJUaGUgcG9zaXRpdmUgc2lnbiBjaGFyYWN0ZXIgb3B0aW9uICdwb3NpdGl2ZVNpZ25DaGFyYWN0ZXInIGlzIGludmFsaWQgOyBpdCBzaG91bGQgbm90IGJlIGVxdWFsIG9yIGEgcGFydCBvZiB0aGUgZGlnaXQgc2VwYXJhdG9yLCB0aGUgZGVjaW1hbCBjaGFyYWN0ZXIsIHRoZSBkZWNpbWFsIGNoYXJhY3RlciBhbHRlcm5hdGl2ZSwgdGhlIG5lZ2F0aXZlIGJyYWNrZXRzIG9yIHRoZSBzdWZmaXggdGV4dCwgW1wiLmNvbmNhdChyLnBvc2l0aXZlU2lnbkNoYXJhY3RlcixcIl0gZ2l2ZW4uXCIpKSxNLmlzTnVsbChyLm92ZXJyaWRlTWluTWF4TGltaXRzKXx8TS5pc0luQXJyYXkoci5vdmVycmlkZU1pbk1heExpbWl0cyxbQi5vcHRpb25zLm92ZXJyaWRlTWluTWF4TGltaXRzLmNlaWxpbmcsQi5vcHRpb25zLm92ZXJyaWRlTWluTWF4TGltaXRzLmZsb29yLEIub3B0aW9ucy5vdmVycmlkZU1pbk1heExpbWl0cy5pZ25vcmUsQi5vcHRpb25zLm92ZXJyaWRlTWluTWF4TGltaXRzLmludmFsaWRdKXx8TS50aHJvd0Vycm9yKFwiVGhlIG92ZXJyaWRlIG1pbiAmIG1heCBsaW1pdHMgb3B0aW9uICdvdmVycmlkZU1pbk1heExpbWl0cycgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBlaXRoZXIgYmUgJ2NlaWxpbmcnLCAnZmxvb3InLCAnaWdub3JlJyBvciAnaW52YWxpZCcsIFtcIi5jb25jYXQoci5vdmVycmlkZU1pbk1heExpbWl0cyxcIl0gZ2l2ZW4uXCIpKSxyLm92ZXJyaWRlTWluTWF4TGltaXRzIT09Qi5vcHRpb25zLm92ZXJyaWRlTWluTWF4TGltaXRzLmludmFsaWQmJnIub3ZlcnJpZGVNaW5NYXhMaW1pdHMhPT1CLm9wdGlvbnMub3ZlcnJpZGVNaW5NYXhMaW1pdHMuaWdub3JlJiYoMDxyLm1pbmltdW1WYWx1ZXx8ci5tYXhpbXVtVmFsdWU8MCkmJk0ud2FybmluZyhcIllvdSd2ZSBzZXQgYSBgbWluaW11bVZhbHVlYCBvciBhIGBtYXhpbXVtVmFsdWVgIGV4Y2x1ZGluZyB0aGUgdmFsdWUgYDBgLiBBdXRvTnVtZXJpYyB3aWxsIGZvcmNlIHRoZSB1c2VycyB0byBhbHdheXMgaGF2ZSBhIHZhbGlkIHZhbHVlIGluIHRoZSBpbnB1dCwgaGVuY2UgcHJldmVudGluZyB0aGVtIHRvIGNsZWFyIHRoZSBmaWVsZC4gSWYgeW91IHdhbnQgdG8gYWxsb3cgZm9yIHRlbXBvcmFyeSBpbnZhbGlkIHZhbHVlcyAoaWUuIG91dC1vZi1yYW5nZSksIHlvdSBzaG91bGQgdXNlIHRoZSAnaW52YWxpZCcgb3B0aW9uIGZvciB0aGUgJ292ZXJyaWRlTWluTWF4TGltaXRzJyBzZXR0aW5nLlwiKSxNLmlzU3RyaW5nKHIubWF4aW11bVZhbHVlKSYmYy50ZXN0KHIubWF4aW11bVZhbHVlKXx8TS50aHJvd0Vycm9yKFwiVGhlIG1heGltdW0gcG9zc2libGUgdmFsdWUgb3B0aW9uICdtYXhpbXVtVmFsdWUnIGlzIGludmFsaWQgOyBpdCBzaG91bGQgYmUgYSBzdHJpbmcgdGhhdCByZXByZXNlbnRzIGEgcG9zaXRpdmUgb3IgbmVnYXRpdmUgbnVtYmVyLCBbXCIuY29uY2F0KHIubWF4aW11bVZhbHVlLFwiXSBnaXZlbi5cIikpLE0uaXNTdHJpbmcoci5taW5pbXVtVmFsdWUpJiZjLnRlc3Qoci5taW5pbXVtVmFsdWUpfHxNLnRocm93RXJyb3IoXCJUaGUgbWluaW11bSBwb3NzaWJsZSB2YWx1ZSBvcHRpb24gJ21pbmltdW1WYWx1ZScgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBiZSBhIHN0cmluZyB0aGF0IHJlcHJlc2VudHMgYSBwb3NpdGl2ZSBvciBuZWdhdGl2ZSBudW1iZXIsIFtcIi5jb25jYXQoci5taW5pbXVtVmFsdWUsXCJdIGdpdmVuLlwiKSkscGFyc2VGbG9hdChyLm1pbmltdW1WYWx1ZSk+cGFyc2VGbG9hdChyLm1heGltdW1WYWx1ZSkmJk0udGhyb3dFcnJvcihcIlRoZSBtaW5pbXVtIHBvc3NpYmxlIHZhbHVlIG9wdGlvbiBpcyBncmVhdGVyIHRoYW4gdGhlIG1heGltdW0gcG9zc2libGUgdmFsdWUgb3B0aW9uIDsgJ21pbmltdW1WYWx1ZScgW1wiLmNvbmNhdChyLm1pbmltdW1WYWx1ZSxcIl0gc2hvdWxkIGJlIHNtYWxsZXIgdGhhbiAnbWF4aW11bVZhbHVlJyBbXCIpLmNvbmNhdChyLm1heGltdW1WYWx1ZSxcIl0uXCIpKSxNLmlzSW50KHIuZGVjaW1hbFBsYWNlcykmJjA8PXIuZGVjaW1hbFBsYWNlc3x8TS5pc1N0cmluZyhyLmRlY2ltYWxQbGFjZXMpJiZsLnRlc3Qoci5kZWNpbWFsUGxhY2VzKXx8TS50aHJvd0Vycm9yKFwiVGhlIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyBvcHRpb24gJ2RlY2ltYWxQbGFjZXMnIGlzIGludmFsaWQgOyBpdCBzaG91bGQgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyLCBbXCIuY29uY2F0KHIuZGVjaW1hbFBsYWNlcyxcIl0gZ2l2ZW4uXCIpKSxNLmlzTnVsbChyLmRlY2ltYWxQbGFjZXNSYXdWYWx1ZSl8fE0uaXNJbnQoci5kZWNpbWFsUGxhY2VzUmF3VmFsdWUpJiYwPD1yLmRlY2ltYWxQbGFjZXNSYXdWYWx1ZXx8TS5pc1N0cmluZyhyLmRlY2ltYWxQbGFjZXNSYXdWYWx1ZSkmJmwudGVzdChyLmRlY2ltYWxQbGFjZXNSYXdWYWx1ZSl8fE0udGhyb3dFcnJvcihcIlRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgZm9yIHRoZSByYXcgdmFsdWUgb3B0aW9uICdkZWNpbWFsUGxhY2VzUmF3VmFsdWUnIGlzIGludmFsaWQgOyBpdCBzaG91bGQgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIG9yIGBudWxsYCwgW1wiLmNvbmNhdChyLmRlY2ltYWxQbGFjZXNSYXdWYWx1ZSxcIl0gZ2l2ZW4uXCIpKSx0aGlzLl92YWxpZGF0ZURlY2ltYWxQbGFjZXNSYXdWYWx1ZShyKSxNLmlzTnVsbChyLmRlY2ltYWxQbGFjZXNTaG93bk9uRm9jdXMpfHxsLnRlc3QoU3RyaW5nKHIuZGVjaW1hbFBsYWNlc1Nob3duT25Gb2N1cykpfHxNLnRocm93RXJyb3IoXCJUaGUgbnVtYmVyIG9mIGV4cGFuZGVkIGRlY2ltYWwgcGxhY2VzIG9wdGlvbiAnZGVjaW1hbFBsYWNlc1Nob3duT25Gb2N1cycgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBiZSBhIHBvc2l0aXZlIGludGVnZXIgb3IgYG51bGxgLCBbXCIuY29uY2F0KHIuZGVjaW1hbFBsYWNlc1Nob3duT25Gb2N1cyxcIl0gZ2l2ZW4uXCIpKSwhTS5pc051bGwoci5kZWNpbWFsUGxhY2VzU2hvd25PbkZvY3VzKSYmTnVtYmVyKHIuZGVjaW1hbFBsYWNlcyk+TnVtYmVyKHIuZGVjaW1hbFBsYWNlc1Nob3duT25Gb2N1cykmJk0ud2FybmluZyhcIlRoZSBleHRlbmRlZCBkZWNpbWFsIHBsYWNlcyAnZGVjaW1hbFBsYWNlc1Nob3duT25Gb2N1cycgW1wiLmNvbmNhdChyLmRlY2ltYWxQbGFjZXNTaG93bk9uRm9jdXMsXCJdIHNob3VsZCBiZSBncmVhdGVyIHRoYW4gdGhlICdkZWNpbWFsUGxhY2VzJyBbXCIpLmNvbmNhdChyLmRlY2ltYWxQbGFjZXMsXCJdIHZhbHVlLiBDdXJyZW50bHksIHRoaXMgd2lsbCBsaW1pdCB0aGUgYWJpbGl0eSBvZiB5b3VyIHVzZXIgdG8gbWFudWFsbHkgY2hhbmdlIHNvbWUgb2YgdGhlIGRlY2ltYWwgcGxhY2VzLiBEbyB5b3UgcmVhbGx5IHdhbnQgdG8gZG8gdGhhdD9cIiksci5zaG93V2FybmluZ3MpLChNLmlzTnVsbChyLmRpdmlzb3JXaGVuVW5mb2N1c2VkKXx8aC50ZXN0KHIuZGl2aXNvcldoZW5VbmZvY3VzZWQpKSYmMCE9PXIuZGl2aXNvcldoZW5VbmZvY3VzZWQmJlwiMFwiIT09ci5kaXZpc29yV2hlblVuZm9jdXNlZCYmMSE9PXIuZGl2aXNvcldoZW5VbmZvY3VzZWQmJlwiMVwiIT09ci5kaXZpc29yV2hlblVuZm9jdXNlZHx8TS50aHJvd0Vycm9yKFwiVGhlIGRpdmlzb3Igb3B0aW9uICdkaXZpc29yV2hlblVuZm9jdXNlZCcgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBiZSBhIHBvc2l0aXZlIG51bWJlciBoaWdoZXIgdGhhbiBvbmUsIHByZWZlcmFibHkgYW4gaW50ZWdlciwgW1wiLmNvbmNhdChyLmRpdmlzb3JXaGVuVW5mb2N1c2VkLFwiXSBnaXZlbi5cIikpLE0uaXNOdWxsKHIuZGVjaW1hbFBsYWNlc1Nob3duT25CbHVyKXx8bC50ZXN0KHIuZGVjaW1hbFBsYWNlc1Nob3duT25CbHVyKXx8TS50aHJvd0Vycm9yKFwiVGhlIG51bWJlciBvZiBkZWNpbWFscyBzaG93biB3aGVuIHVuZm9jdXNlZCBvcHRpb24gJ2RlY2ltYWxQbGFjZXNTaG93bk9uQmx1cicgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBiZSBhIHBvc2l0aXZlIGludGVnZXIgb3IgYG51bGxgLCBbXCIuY29uY2F0KHIuZGVjaW1hbFBsYWNlc1Nob3duT25CbHVyLFwiXSBnaXZlbi5cIikpLE0uaXNOdWxsKHIuc3ltYm9sV2hlblVuZm9jdXNlZCl8fE0uaXNTdHJpbmcoci5zeW1ib2xXaGVuVW5mb2N1c2VkKXx8TS50aHJvd0Vycm9yKFwiVGhlIHN5bWJvbCB0byBzaG93IHdoZW4gdW5mb2N1c2VkIG9wdGlvbiAnc3ltYm9sV2hlblVuZm9jdXNlZCcgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBiZSBhIHN0cmluZywgW1wiLmNvbmNhdChyLnN5bWJvbFdoZW5VbmZvY3VzZWQsXCJdIGdpdmVuLlwiKSksTS5pc1RydWVPckZhbHNlU3RyaW5nKHIuc2F2ZVZhbHVlVG9TZXNzaW9uU3RvcmFnZSl8fE0uaXNCb29sZWFuKHIuc2F2ZVZhbHVlVG9TZXNzaW9uU3RvcmFnZSl8fE0udGhyb3dFcnJvcihcIlRoZSBzYXZlIHRvIHNlc3Npb24gc3RvcmFnZSBvcHRpb24gJ3NhdmVWYWx1ZVRvU2Vzc2lvblN0b3JhZ2UnIGlzIGludmFsaWQgOyBpdCBzaG91bGQgYmUgZWl0aGVyICd0cnVlJyBvciAnZmFsc2UnLCBbXCIuY29uY2F0KHIuc2F2ZVZhbHVlVG9TZXNzaW9uU3RvcmFnZSxcIl0gZ2l2ZW4uXCIpKSxNLmlzSW5BcnJheShyLm9uSW52YWxpZFBhc3RlLFtCLm9wdGlvbnMub25JbnZhbGlkUGFzdGUuZXJyb3IsQi5vcHRpb25zLm9uSW52YWxpZFBhc3RlLmlnbm9yZSxCLm9wdGlvbnMub25JbnZhbGlkUGFzdGUuY2xhbXAsQi5vcHRpb25zLm9uSW52YWxpZFBhc3RlLnRydW5jYXRlLEIub3B0aW9ucy5vbkludmFsaWRQYXN0ZS5yZXBsYWNlXSl8fE0udGhyb3dFcnJvcihcIlRoZSBwYXN0ZSBiZWhhdmlvciBvcHRpb24gJ29uSW52YWxpZFBhc3RlJyBpcyBpbnZhbGlkIDsgaXQgc2hvdWxkIGVpdGhlciBiZSAnZXJyb3InLCAnaWdub3JlJywgJ2NsYW1wJywgJ3RydW5jYXRlJyBvciAncmVwbGFjZScgKGNmLiBkb2N1bWVudGF0aW9uKSwgW1wiLmNvbmNhdChyLm9uSW52YWxpZFBhc3RlLFwiXSBnaXZlbi5cIikpLE0uaXNJbkFycmF5KHIucm91bmRpbmdNZXRob2QsW0Iub3B0aW9ucy5yb3VuZGluZ01ldGhvZC5oYWxmVXBTeW1tZXRyaWMsQi5vcHRpb25zLnJvdW5kaW5nTWV0aG9kLmhhbGZVcEFzeW1tZXRyaWMsQi5vcHRpb25zLnJvdW5kaW5nTWV0aG9kLmhhbGZEb3duU3ltbWV0cmljLEIub3B0aW9ucy5yb3VuZGluZ01ldGhvZC5oYWxmRG93bkFzeW1tZXRyaWMsQi5vcHRpb25zLnJvdW5kaW5nTWV0aG9kLmhhbGZFdmVuQmFua2Vyc1JvdW5kaW5nLEIub3B0aW9ucy5yb3VuZGluZ01ldGhvZC51cFJvdW5kQXdheUZyb21aZXJvLEIub3B0aW9ucy5yb3VuZGluZ01ldGhvZC5kb3duUm91bmRUb3dhcmRaZXJvLEIub3B0aW9ucy5yb3VuZGluZ01ldGhvZC50b0NlaWxpbmdUb3dhcmRQb3NpdGl2ZUluZmluaXR5LEIub3B0aW9ucy5yb3VuZGluZ01ldGhvZC50b0Zsb29yVG93YXJkTmVnYXRpdmVJbmZpbml0eSxCLm9wdGlvbnMucm91bmRpbmdNZXRob2QudG9OZWFyZXN0MDUsQi5vcHRpb25zLnJvdW5kaW5nTWV0aG9kLnRvTmVhcmVzdDA1QWx0LEIub3B0aW9ucy5yb3VuZGluZ01ldGhvZC51cFRvTmV4dDA1LEIub3B0aW9ucy5yb3VuZGluZ01ldGhvZC5kb3duVG9OZXh0MDVdKXx8TS50aHJvd0Vycm9yKFwiVGhlIHJvdW5kaW5nIG1ldGhvZCBvcHRpb24gJ3JvdW5kaW5nTWV0aG9kJyBpcyBpbnZhbGlkIDsgaXQgc2hvdWxkIGVpdGhlciBiZSAnUycsICdBJywgJ3MnLCAnYScsICdCJywgJ1UnLCAnRCcsICdDJywgJ0YnLCAnTjA1JywgJ0NIRicsICdVMDUnIG9yICdEMDUnIChjZi4gZG9jdW1lbnRhdGlvbiksIFtcIi5jb25jYXQoci5yb3VuZGluZ01ldGhvZCxcIl0gZ2l2ZW4uXCIpKSxNLmlzTnVsbChyLm5lZ2F0aXZlQnJhY2tldHNUeXBlT25CbHVyKXx8TS5pc0luQXJyYXkoci5uZWdhdGl2ZUJyYWNrZXRzVHlwZU9uQmx1cixbQi5vcHRpb25zLm5lZ2F0aXZlQnJhY2tldHNUeXBlT25CbHVyLnBhcmVudGhlc2VzLEIub3B0aW9ucy5uZWdhdGl2ZUJyYWNrZXRzVHlwZU9uQmx1ci5icmFja2V0cyxCLm9wdGlvbnMubmVnYXRpdmVCcmFja2V0c1R5cGVPbkJsdXIuY2hldnJvbnMsQi5vcHRpb25zLm5lZ2F0aXZlQnJhY2tldHNUeXBlT25CbHVyLmN1cmx5QnJhY2VzLEIub3B0aW9ucy5uZWdhdGl2ZUJyYWNrZXRzVHlwZU9uQmx1ci5hbmdsZUJyYWNrZXRzLEIub3B0aW9ucy5uZWdhdGl2ZUJyYWNrZXRzVHlwZU9uQmx1ci5qYXBhbmVzZVF1b3RhdGlvbk1hcmtzLEIub3B0aW9ucy5uZWdhdGl2ZUJyYWNrZXRzVHlwZU9uQmx1ci5oYWxmQnJhY2tldHMsQi5vcHRpb25zLm5lZ2F0aXZlQnJhY2tldHNUeXBlT25CbHVyLndoaXRlU3F1YXJlQnJhY2tldHMsQi5vcHRpb25zLm5lZ2F0aXZlQnJhY2tldHNUeXBlT25CbHVyLnF1b3RhdGlvbk1hcmtzLEIub3B0aW9ucy5uZWdhdGl2ZUJyYWNrZXRzVHlwZU9uQmx1ci5ndWlsbGVtZXRzXSl8fE0udGhyb3dFcnJvcihcIlRoZSBicmFja2V0cyBmb3IgbmVnYXRpdmUgdmFsdWVzIG9wdGlvbiAnbmVnYXRpdmVCcmFja2V0c1R5cGVPbkJsdXInIGlzIGludmFsaWQgOyBpdCBzaG91bGQgZWl0aGVyIGJlICcoLCknLCAnWyxdJywgJzwsPicsICd7LH0nLCAn44CILOOAiScsICfvvaIs772jJywgJ+K4pCziuKUnLCAn4p+mLOKfpycsICfigLks4oC6JyBvciAnwqsswrsnLCBbXCIuY29uY2F0KHIubmVnYXRpdmVCcmFja2V0c1R5cGVPbkJsdXIsXCJdIGdpdmVuLlwiKSksKE0uaXNTdHJpbmcoci5lbXB0eUlucHV0QmVoYXZpb3IpfHxNLmlzTnVtYmVyKHIuZW1wdHlJbnB1dEJlaGF2aW9yKSkmJihNLmlzSW5BcnJheShyLmVtcHR5SW5wdXRCZWhhdmlvcixbQi5vcHRpb25zLmVtcHR5SW5wdXRCZWhhdmlvci5mb2N1cyxCLm9wdGlvbnMuZW1wdHlJbnB1dEJlaGF2aW9yLnByZXNzLEIub3B0aW9ucy5lbXB0eUlucHV0QmVoYXZpb3IuYWx3YXlzLEIub3B0aW9ucy5lbXB0eUlucHV0QmVoYXZpb3IubWluLEIub3B0aW9ucy5lbXB0eUlucHV0QmVoYXZpb3IubWF4LEIub3B0aW9ucy5lbXB0eUlucHV0QmVoYXZpb3IuemVybyxCLm9wdGlvbnMuZW1wdHlJbnB1dEJlaGF2aW9yLm51bGxdKXx8Yy50ZXN0KHIuZW1wdHlJbnB1dEJlaGF2aW9yKSl8fE0udGhyb3dFcnJvcihcIlRoZSBkaXNwbGF5IG9uIGVtcHR5IHN0cmluZyBvcHRpb24gJ2VtcHR5SW5wdXRCZWhhdmlvcicgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBlaXRoZXIgYmUgJ2ZvY3VzJywgJ3ByZXNzJywgJ2Fsd2F5cycsICdtaW4nLCAnbWF4JywgJ3plcm8nLCAnbnVsbCcsIGEgbnVtYmVyLCBvciBhIHN0cmluZyB0aGF0IHJlcHJlc2VudHMgYSBudW1iZXIsIFtcIi5jb25jYXQoci5lbXB0eUlucHV0QmVoYXZpb3IsXCJdIGdpdmVuLlwiKSksci5lbXB0eUlucHV0QmVoYXZpb3I9PT1CLm9wdGlvbnMuZW1wdHlJbnB1dEJlaGF2aW9yLnplcm8mJigwPHIubWluaW11bVZhbHVlfHxyLm1heGltdW1WYWx1ZTwwKSYmTS50aHJvd0Vycm9yKFwiVGhlICdlbXB0eUlucHV0QmVoYXZpb3InIG9wdGlvbiBpcyBzZXQgdG8gJ3plcm8nLCBidXQgdGhpcyB2YWx1ZSBpcyBvdXRzaWRlIG9mIHRoZSByYW5nZSBkZWZpbmVkIGJ5ICdtaW5pbXVtVmFsdWUnIGFuZCAnbWF4aW11bVZhbHVlJyBbXCIuY29uY2F0KHIubWluaW11bVZhbHVlLFwiLCBcIikuY29uY2F0KHIubWF4aW11bVZhbHVlLFwiXS5cIikpLGMudGVzdChTdHJpbmcoci5lbXB0eUlucHV0QmVoYXZpb3IpKSYmKHRoaXMuX2lzV2l0aGluUmFuZ2VXaXRoT3ZlcnJpZGVPcHRpb24oci5lbXB0eUlucHV0QmVoYXZpb3Iscil8fE0udGhyb3dFcnJvcihcIlRoZSAnZW1wdHlJbnB1dEJlaGF2aW9yJyBvcHRpb24gaXMgc2V0IHRvIGEgbnVtYmVyIG9yIGEgc3RyaW5nIHRoYXQgcmVwcmVzZW50cyBhIG51bWJlciwgYnV0IGl0cyB2YWx1ZSBbXCIuY29uY2F0KHIuZW1wdHlJbnB1dEJlaGF2aW9yLFwiXSBpcyBvdXRzaWRlIG9mIHRoZSByYW5nZSBkZWZpbmVkIGJ5IHRoZSAnbWluaW11bVZhbHVlJyBhbmQgJ21heGltdW1WYWx1ZScgb3B0aW9ucyBbXCIpLmNvbmNhdChyLm1pbmltdW1WYWx1ZSxcIiwgXCIpLmNvbmNhdChyLm1heGltdW1WYWx1ZSxcIl0uXCIpKSksTS5pc1RydWVPckZhbHNlU3RyaW5nKHIuZXZlbnRCdWJibGVzKXx8TS5pc0Jvb2xlYW4oci5ldmVudEJ1YmJsZXMpfHxNLnRocm93RXJyb3IoXCJUaGUgZXZlbnQgYnViYmxlcyBvcHRpb24gJ2V2ZW50QnViYmxlcycgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBiZSBlaXRoZXIgJ3RydWUnIG9yICdmYWxzZScsIFtcIi5jb25jYXQoci5ldmVudEJ1YmJsZXMsXCJdIGdpdmVuLlwiKSksTS5pc1RydWVPckZhbHNlU3RyaW5nKHIuZXZlbnRJc0NhbmNlbGFibGUpfHxNLmlzQm9vbGVhbihyLmV2ZW50SXNDYW5jZWxhYmxlKXx8TS50aHJvd0Vycm9yKFwiVGhlIGV2ZW50IGlzIGNhbmNlbGFibGUgb3B0aW9uICdldmVudElzQ2FuY2VsYWJsZScgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBiZSBlaXRoZXIgJ3RydWUnIG9yICdmYWxzZScsIFtcIi5jb25jYXQoci5ldmVudElzQ2FuY2VsYWJsZSxcIl0gZ2l2ZW4uXCIpKSwhTS5pc0Jvb2xlYW4oci5pbnZhbGlkQ2xhc3MpJiYvXi0/W19hLXpBLVpdK1tfYS16QS1aMC05LV0qJC8udGVzdChyLmludmFsaWRDbGFzcyl8fE0udGhyb3dFcnJvcihcIlRoZSBuYW1lIG9mIHRoZSAnaW52YWxpZENsYXNzJyBvcHRpb24gaXMgbm90IGEgdmFsaWQgQ1NTIGNsYXNzIG5hbWUgOyBpdCBzaG91bGQgbm90IGJlIGVtcHR5LCBhbmQgc2hvdWxkIGZvbGxvdyB0aGUgJ14tP1tfYS16QS1aXStbX2EtekEtWjAtOS1dKiQnIHJlZ2V4LCBbXCIuY29uY2F0KHIuaW52YWxpZENsYXNzLFwiXSBnaXZlbi5cIikpLE0uaXNJbkFycmF5KHIubGVhZGluZ1plcm8sW0Iub3B0aW9ucy5sZWFkaW5nWmVyby5hbGxvdyxCLm9wdGlvbnMubGVhZGluZ1plcm8uZGVueSxCLm9wdGlvbnMubGVhZGluZ1plcm8ua2VlcF0pfHxNLnRocm93RXJyb3IoXCJUaGUgbGVhZGluZyB6ZXJvIGJlaGF2aW9yIG9wdGlvbiAnbGVhZGluZ1plcm8nIGlzIGludmFsaWQgOyBpdCBzaG91bGQgZWl0aGVyIGJlICdhbGxvdycsICdkZW55JyBvciAna2VlcCcsIFtcIi5jb25jYXQoci5sZWFkaW5nWmVybyxcIl0gZ2l2ZW4uXCIpKSxNLmlzVHJ1ZU9yRmFsc2VTdHJpbmcoci5mb3JtYXRPblBhZ2VMb2FkKXx8TS5pc0Jvb2xlYW4oci5mb3JtYXRPblBhZ2VMb2FkKXx8TS50aHJvd0Vycm9yKFwiVGhlIGZvcm1hdCBvbiBpbml0aWFsaXphdGlvbiBvcHRpb24gJ2Zvcm1hdE9uUGFnZUxvYWQnIGlzIGludmFsaWQgOyBpdCBzaG91bGQgYmUgZWl0aGVyICd0cnVlJyBvciAnZmFsc2UnLCBbXCIuY29uY2F0KHIuZm9ybWF0T25QYWdlTG9hZCxcIl0gZ2l2ZW4uXCIpKSxNLmlzVHJ1ZU9yRmFsc2VTdHJpbmcoci5mb3JtdWxhTW9kZSl8fE0uaXNCb29sZWFuKHIuZm9ybXVsYU1vZGUpfHxNLnRocm93RXJyb3IoXCJUaGUgZm9ybXVsYSBtb2RlIG9wdGlvbiAnZm9ybXVsYU1vZGUnIGlzIGludmFsaWQgOyBpdCBzaG91bGQgYmUgZWl0aGVyICd0cnVlJyBvciAnZmFsc2UnLCBbXCIuY29uY2F0KHIuZm9ybXVsYU1vZGUsXCJdIGdpdmVuLlwiKSksbC50ZXN0KHIuaGlzdG9yeVNpemUpJiYwIT09ci5oaXN0b3J5U2l6ZXx8TS50aHJvd0Vycm9yKFwiVGhlIGhpc3Rvcnkgc2l6ZSBvcHRpb24gJ2hpc3RvcnlTaXplJyBpcyBpbnZhbGlkIDsgaXQgc2hvdWxkIGJlIGEgcG9zaXRpdmUgaW50ZWdlciwgW1wiLmNvbmNhdChyLmhpc3RvcnlTaXplLFwiXSBnaXZlbi5cIikpLE0uaXNUcnVlT3JGYWxzZVN0cmluZyhyLnNlbGVjdE51bWJlck9ubHkpfHxNLmlzQm9vbGVhbihyLnNlbGVjdE51bWJlck9ubHkpfHxNLnRocm93RXJyb3IoXCJUaGUgc2VsZWN0IG51bWJlciBvbmx5IG9wdGlvbiAnc2VsZWN0TnVtYmVyT25seScgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBiZSBlaXRoZXIgJ3RydWUnIG9yICdmYWxzZScsIFtcIi5jb25jYXQoci5zZWxlY3ROdW1iZXJPbmx5LFwiXSBnaXZlbi5cIikpLE0uaXNUcnVlT3JGYWxzZVN0cmluZyhyLnNlbGVjdE9uRm9jdXMpfHxNLmlzQm9vbGVhbihyLnNlbGVjdE9uRm9jdXMpfHxNLnRocm93RXJyb3IoXCJUaGUgc2VsZWN0IG9uIGZvY3VzIG9wdGlvbiAnc2VsZWN0T25Gb2N1cycgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBiZSBlaXRoZXIgJ3RydWUnIG9yICdmYWxzZScsIFtcIi5jb25jYXQoci5zZWxlY3RPbkZvY3VzLFwiXSBnaXZlbi5cIikpLE0uaXNOdWxsKHIuZGVmYXVsdFZhbHVlT3ZlcnJpZGUpfHxcIlwiPT09ci5kZWZhdWx0VmFsdWVPdmVycmlkZXx8Yy50ZXN0KHIuZGVmYXVsdFZhbHVlT3ZlcnJpZGUpfHxNLnRocm93RXJyb3IoXCJUaGUgdW5mb3JtYXR0ZWQgZGVmYXVsdCB2YWx1ZSBvcHRpb24gJ2RlZmF1bHRWYWx1ZU92ZXJyaWRlJyBpcyBpbnZhbGlkIDsgaXQgc2hvdWxkIGJlIGEgc3RyaW5nIHRoYXQgcmVwcmVzZW50cyBhIHBvc2l0aXZlIG9yIG5lZ2F0aXZlIG51bWJlciwgW1wiLmNvbmNhdChyLmRlZmF1bHRWYWx1ZU92ZXJyaWRlLFwiXSBnaXZlbi5cIikpLE0uaXNUcnVlT3JGYWxzZVN0cmluZyhyLnVuZm9ybWF0T25TdWJtaXQpfHxNLmlzQm9vbGVhbihyLnVuZm9ybWF0T25TdWJtaXQpfHxNLnRocm93RXJyb3IoXCJUaGUgcmVtb3ZlIGZvcm1hdHRpbmcgb24gc3VibWl0IG9wdGlvbiAndW5mb3JtYXRPblN1Ym1pdCcgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBiZSBlaXRoZXIgJ3RydWUnIG9yICdmYWxzZScsIFtcIi5jb25jYXQoci51bmZvcm1hdE9uU3VibWl0LFwiXSBnaXZlbi5cIikpLE0uaXNOdWxsKHIudmFsdWVzVG9TdHJpbmdzKXx8TS5pc09iamVjdChyLnZhbHVlc1RvU3RyaW5ncyl8fE0udGhyb3dFcnJvcihcIlRoZSBvcHRpb24gJ3ZhbHVlc1RvU3RyaW5ncycgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBiZSBhbiBvYmplY3QsIGlkZWFsbHkgd2l0aCAna2V5IC0+IHZhbHVlJyBlbnRyaWVzLCBbXCIuY29uY2F0KHIudmFsdWVzVG9TdHJpbmdzLFwiXSBnaXZlbi5cIikpLE0uaXNOdWxsKHIub3V0cHV0Rm9ybWF0KXx8TS5pc0luQXJyYXkoci5vdXRwdXRGb3JtYXQsW0Iub3B0aW9ucy5vdXRwdXRGb3JtYXQuc3RyaW5nLEIub3B0aW9ucy5vdXRwdXRGb3JtYXQubnVtYmVyLEIub3B0aW9ucy5vdXRwdXRGb3JtYXQuZG90LEIub3B0aW9ucy5vdXRwdXRGb3JtYXQubmVnYXRpdmVEb3QsQi5vcHRpb25zLm91dHB1dEZvcm1hdC5jb21tYSxCLm9wdGlvbnMub3V0cHV0Rm9ybWF0Lm5lZ2F0aXZlQ29tbWEsQi5vcHRpb25zLm91dHB1dEZvcm1hdC5kb3ROZWdhdGl2ZSxCLm9wdGlvbnMub3V0cHV0Rm9ybWF0LmNvbW1hTmVnYXRpdmVdKXx8TS50aHJvd0Vycm9yKFwiVGhlIGN1c3RvbSBsb2NhbGUgZm9ybWF0IG9wdGlvbiAnb3V0cHV0Rm9ybWF0JyBpcyBpbnZhbGlkIDsgaXQgc2hvdWxkIGVpdGhlciBiZSBudWxsLCAnc3RyaW5nJywgJ251bWJlcicsICcuJywgJy0uJywgJywnLCAnLSwnLCAnLi0nIG9yICcsLScsIFtcIi5jb25jYXQoci5vdXRwdXRGb3JtYXQsXCJdIGdpdmVuLlwiKSksTS5pc1RydWVPckZhbHNlU3RyaW5nKHIuaXNDYW5jZWxsYWJsZSl8fE0uaXNCb29sZWFuKHIuaXNDYW5jZWxsYWJsZSl8fE0udGhyb3dFcnJvcihcIlRoZSBjYW5jZWxsYWJsZSBiZWhhdmlvciBvcHRpb24gJ2lzQ2FuY2VsbGFibGUnIGlzIGludmFsaWQgOyBpdCBzaG91bGQgYmUgZWl0aGVyICd0cnVlJyBvciAnZmFsc2UnLCBbXCIuY29uY2F0KHIuaXNDYW5jZWxsYWJsZSxcIl0gZ2l2ZW4uXCIpKSxNLmlzVHJ1ZU9yRmFsc2VTdHJpbmcoci5tb2RpZnlWYWx1ZU9uV2hlZWwpfHxNLmlzQm9vbGVhbihyLm1vZGlmeVZhbHVlT25XaGVlbCl8fE0udGhyb3dFcnJvcihcIlRoZSBpbmNyZW1lbnQvZGVjcmVtZW50IG9uIG1vdXNlIHdoZWVsIG9wdGlvbiAnbW9kaWZ5VmFsdWVPbldoZWVsJyBpcyBpbnZhbGlkIDsgaXQgc2hvdWxkIGJlIGVpdGhlciAndHJ1ZScgb3IgJ2ZhbHNlJywgW1wiLmNvbmNhdChyLm1vZGlmeVZhbHVlT25XaGVlbCxcIl0gZ2l2ZW4uXCIpKSxNLmlzVHJ1ZU9yRmFsc2VTdHJpbmcoci53YXRjaEV4dGVybmFsQ2hhbmdlcyl8fE0uaXNCb29sZWFuKHIud2F0Y2hFeHRlcm5hbENoYW5nZXMpfHxNLnRocm93RXJyb3IoXCJUaGUgb3B0aW9uICd3YXRjaEV4dGVybmFsQ2hhbmdlcycgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBiZSBlaXRoZXIgJ3RydWUnIG9yICdmYWxzZScsIFtcIi5jb25jYXQoci53YXRjaEV4dGVybmFsQ2hhbmdlcyxcIl0gZ2l2ZW4uXCIpKSxNLmlzSW5BcnJheShyLndoZWVsT24sW0Iub3B0aW9ucy53aGVlbE9uLmZvY3VzLEIub3B0aW9ucy53aGVlbE9uLmhvdmVyXSl8fE0udGhyb3dFcnJvcihcIlRoZSB3aGVlbCBiZWhhdmlvciBvcHRpb24gJ3doZWVsT24nIGlzIGludmFsaWQgOyBpdCBzaG91bGQgZWl0aGVyIGJlICdmb2N1cycgb3IgJ2hvdmVyJywgW1wiLmNvbmNhdChyLndoZWVsT24sXCJdIGdpdmVuLlwiKSksKE0uaXNTdHJpbmcoci53aGVlbFN0ZXApfHxNLmlzTnVtYmVyKHIud2hlZWxTdGVwKSkmJihcInByb2dyZXNzaXZlXCI9PT1yLndoZWVsU3RlcHx8aC50ZXN0KHIud2hlZWxTdGVwKSkmJjAhPT1OdW1iZXIoci53aGVlbFN0ZXApfHxNLnRocm93RXJyb3IoXCJUaGUgd2hlZWwgc3RlcCB2YWx1ZSBvcHRpb24gJ3doZWVsU3RlcCcgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBlaXRoZXIgYmUgdGhlIHN0cmluZyAncHJvZ3Jlc3NpdmUnLCBvciBhIG51bWJlciBvciBhIHN0cmluZyB0aGF0IHJlcHJlc2VudHMgYSBwb3NpdGl2ZSBudW1iZXIgKGV4Y2x1ZGluZyB6ZXJvKSwgW1wiLmNvbmNhdChyLndoZWVsU3RlcCxcIl0gZ2l2ZW4uXCIpKSxNLmlzSW5BcnJheShyLnNlcmlhbGl6ZVNwYWNlcyxbQi5vcHRpb25zLnNlcmlhbGl6ZVNwYWNlcy5wbHVzLEIub3B0aW9ucy5zZXJpYWxpemVTcGFjZXMucGVyY2VudF0pfHxNLnRocm93RXJyb3IoXCJUaGUgc3BhY2UgcmVwbGFjZW1lbnQgY2hhcmFjdGVyIG9wdGlvbiAnc2VyaWFsaXplU3BhY2VzJyBpcyBpbnZhbGlkIDsgaXQgc2hvdWxkIGVpdGhlciBiZSAnKycgb3IgJyUyMCcsIFtcIi5jb25jYXQoci5zZXJpYWxpemVTcGFjZXMsXCJdIGdpdmVuLlwiKSksTS5pc1RydWVPckZhbHNlU3RyaW5nKHIubm9FdmVudExpc3RlbmVycyl8fE0uaXNCb29sZWFuKHIubm9FdmVudExpc3RlbmVycyl8fE0udGhyb3dFcnJvcihcIlRoZSBvcHRpb24gJ25vRXZlbnRMaXN0ZW5lcnMnIHRoYXQgcHJldmVudCB0aGUgY3JlYXRpb24gb2YgZXZlbnQgbGlzdGVuZXJzIGlzIGludmFsaWQgOyBpdCBzaG91bGQgYmUgZWl0aGVyICd0cnVlJyBvciAnZmFsc2UnLCBbXCIuY29uY2F0KHIubm9FdmVudExpc3RlbmVycyxcIl0gZ2l2ZW4uXCIpKSxNLmlzTnVsbChyLnN0eWxlUnVsZXMpfHxNLmlzT2JqZWN0KHIuc3R5bGVSdWxlcykmJihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoci5zdHlsZVJ1bGVzLFwicG9zaXRpdmVcIil8fE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLnN0eWxlUnVsZXMsXCJuZWdhdGl2ZVwiKXx8T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIuc3R5bGVSdWxlcyxcInJhbmdlc1wiKXx8T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIuc3R5bGVSdWxlcyxcInVzZXJEZWZpbmVkXCIpKXx8TS50aHJvd0Vycm9yKFwiVGhlIG9wdGlvbiAnc3R5bGVSdWxlcycgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBiZSBhIGNvcnJlY3RseSBzdHJ1Y3R1cmVkIG9iamVjdCwgd2l0aCBvbmUgb3IgbW9yZSAncG9zaXRpdmUnLCAnbmVnYXRpdmUnLCAncmFuZ2VzJyBvciAndXNlckRlZmluZWQnIGF0dHJpYnV0ZXMsIFtcIi5jb25jYXQoci5zdHlsZVJ1bGVzLFwiXSBnaXZlbi5cIikpLE0uaXNOdWxsKHIuc3R5bGVSdWxlcyl8fCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoci5zdHlsZVJ1bGVzLFwidXNlckRlZmluZWRcIil8fE0uaXNOdWxsKHIuc3R5bGVSdWxlcy51c2VyRGVmaW5lZCl8fHIuc3R5bGVSdWxlcy51c2VyRGVmaW5lZC5mb3JFYWNoKGZ1bmN0aW9uKGUpe09iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY2FsbGJhY2tcIikmJiFNLmlzRnVuY3Rpb24oZS5jYWxsYmFjaykmJk0udGhyb3dFcnJvcihcIlRoZSBjYWxsYmFjayBkZWZpbmVkIGluIHRoZSBgdXNlckRlZmluZWRgIGF0dHJpYnV0ZSBpcyBub3QgYSBmdW5jdGlvbiwgXCIuY29uY2F0KHcoZS5jYWxsYmFjayksXCIgZ2l2ZW4uXCIpKX0pLChNLmlzTnVsbChyLnJhd1ZhbHVlRGl2aXNvcil8fGgudGVzdChyLnJhd1ZhbHVlRGl2aXNvcikpJiYwIT09ci5yYXdWYWx1ZURpdmlzb3ImJlwiMFwiIT09ci5yYXdWYWx1ZURpdmlzb3ImJjEhPT1yLnJhd1ZhbHVlRGl2aXNvciYmXCIxXCIhPT1yLnJhd1ZhbHVlRGl2aXNvcnx8TS50aHJvd0Vycm9yKFwiVGhlIHJhdyB2YWx1ZSBkaXZpc29yIG9wdGlvbiAncmF3VmFsdWVEaXZpc29yJyBpcyBpbnZhbGlkIDsgaXQgc2hvdWxkIGJlIGEgcG9zaXRpdmUgbnVtYmVyIGhpZ2hlciB0aGFuIG9uZSwgcHJlZmVyYWJseSBhbiBpbnRlZ2VyLCBbXCIuY29uY2F0KHIucmF3VmFsdWVEaXZpc29yLFwiXSBnaXZlbi5cIikpLE0uaXNUcnVlT3JGYWxzZVN0cmluZyhyLnJlYWRPbmx5KXx8TS5pc0Jvb2xlYW4oci5yZWFkT25seSl8fE0udGhyb3dFcnJvcihcIlRoZSBvcHRpb24gJ3JlYWRPbmx5JyBpcyBpbnZhbGlkIDsgaXQgc2hvdWxkIGJlIGVpdGhlciAndHJ1ZScgb3IgJ2ZhbHNlJywgW1wiLmNvbmNhdChyLnJlYWRPbmx5LFwiXSBnaXZlbi5cIikpLE0uaXNUcnVlT3JGYWxzZVN0cmluZyhyLnVuZm9ybWF0T25Ib3Zlcil8fE0uaXNCb29sZWFuKHIudW5mb3JtYXRPbkhvdmVyKXx8TS50aHJvd0Vycm9yKFwiVGhlIG9wdGlvbiAndW5mb3JtYXRPbkhvdmVyJyBpcyBpbnZhbGlkIDsgaXQgc2hvdWxkIGJlIGVpdGhlciAndHJ1ZScgb3IgJ2ZhbHNlJywgW1wiLmNvbmNhdChyLnVuZm9ybWF0T25Ib3ZlcixcIl0gZ2l2ZW4uXCIpKSxNLmlzVHJ1ZU9yRmFsc2VTdHJpbmcoci5mYWlsT25Vbmtub3duT3B0aW9uKXx8TS5pc0Jvb2xlYW4oci5mYWlsT25Vbmtub3duT3B0aW9uKXx8TS50aHJvd0Vycm9yKFwiVGhlIGRlYnVnIG9wdGlvbiAnZmFpbE9uVW5rbm93bk9wdGlvbicgaXMgaW52YWxpZCA7IGl0IHNob3VsZCBiZSBlaXRoZXIgJ3RydWUnIG9yICdmYWxzZScsIFtcIi5jb25jYXQoci5mYWlsT25Vbmtub3duT3B0aW9uLFwiXSBnaXZlbi5cIikpLE0uaXNUcnVlT3JGYWxzZVN0cmluZyhyLmNyZWF0ZUxvY2FsTGlzdCl8fE0uaXNCb29sZWFuKHIuY3JlYXRlTG9jYWxMaXN0KXx8TS50aHJvd0Vycm9yKFwiVGhlIGRlYnVnIG9wdGlvbiAnY3JlYXRlTG9jYWxMaXN0JyBpcyBpbnZhbGlkIDsgaXQgc2hvdWxkIGJlIGVpdGhlciAndHJ1ZScgb3IgJ2ZhbHNlJywgW1wiLmNvbmNhdChyLmNyZWF0ZUxvY2FsTGlzdCxcIl0gZ2l2ZW4uXCIpKX19LHtrZXk6XCJfdmFsaWRhdGVEZWNpbWFsUGxhY2VzUmF3VmFsdWVcIix2YWx1ZTpmdW5jdGlvbihlKXtNLmlzTnVsbChlLmRlY2ltYWxQbGFjZXNSYXdWYWx1ZSl8fChlLmRlY2ltYWxQbGFjZXNSYXdWYWx1ZTxlLmRlY2ltYWxQbGFjZXMmJk0ud2FybmluZyhcIlRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgdG8gc3RvcmUgaW4gdGhlIHJhdyB2YWx1ZSBbXCIuY29uY2F0KGUuZGVjaW1hbFBsYWNlc1Jhd1ZhbHVlLFwiXSBpcyBsb3dlciB0aGFuIHRoZSBvbmVzIHRvIGRpc3BsYXkgW1wiKS5jb25jYXQoZS5kZWNpbWFsUGxhY2VzLFwiXS4gVGhpcyB3aWxsIGxpa2VseSBjb25mdXNlIHlvdXIgdXNlcnMuXFxuVG8gc29sdmUgdGhhdCwgeW91J2QgbmVlZCB0byBlaXRoZXIgc2V0IGBkZWNpbWFsUGxhY2VzUmF3VmFsdWVgIHRvIGBudWxsYCwgb3Igc2V0IGEgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIGZvciB0aGUgcmF3IHZhbHVlIGVxdWFsIG9mIGJpZ2dlciB0aGFuIGBkZWNpbWFsUGxhY2VzYC5cIiksZS5zaG93V2FybmluZ3MpLGUuZGVjaW1hbFBsYWNlc1Jhd1ZhbHVlPGUuZGVjaW1hbFBsYWNlc1Nob3duT25Gb2N1cyYmTS53YXJuaW5nKFwiVGhlIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyB0byBzdG9yZSBpbiB0aGUgcmF3IHZhbHVlIFtcIi5jb25jYXQoZS5kZWNpbWFsUGxhY2VzUmF3VmFsdWUsXCJdIGlzIGxvd2VyIHRoYW4gdGhlIG9uZXMgc2hvd24gb24gZm9jdXMgW1wiKS5jb25jYXQoZS5kZWNpbWFsUGxhY2VzU2hvd25PbkZvY3VzLFwiXS4gVGhpcyB3aWxsIGxpa2VseSBjb25mdXNlIHlvdXIgdXNlcnMuXFxuVG8gc29sdmUgdGhhdCwgeW91J2QgbmVlZCB0byBlaXRoZXIgc2V0IGBkZWNpbWFsUGxhY2VzUmF3VmFsdWVgIHRvIGBudWxsYCwgb3Igc2V0IGEgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIGZvciB0aGUgcmF3IHZhbHVlIGVxdWFsIG9mIGJpZ2dlciB0aGFuIGBkZWNpbWFsUGxhY2VzU2hvd25PbkZvY3VzYC5cIiksZS5zaG93V2FybmluZ3MpLGUuZGVjaW1hbFBsYWNlc1Jhd1ZhbHVlPGUuZGVjaW1hbFBsYWNlc1Nob3duT25CbHVyJiZNLndhcm5pbmcoXCJUaGUgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIHRvIHN0b3JlIGluIHRoZSByYXcgdmFsdWUgW1wiLmNvbmNhdChlLmRlY2ltYWxQbGFjZXNSYXdWYWx1ZSxcIl0gaXMgbG93ZXIgdGhhbiB0aGUgb25lcyBzaG93biB3aGVuIHVuZm9jdXNlZCBbXCIpLmNvbmNhdChlLmRlY2ltYWxQbGFjZXNTaG93bk9uQmx1cixcIl0uIFRoaXMgd2lsbCBsaWtlbHkgY29uZnVzZSB5b3VyIHVzZXJzLlxcblRvIHNvbHZlIHRoYXQsIHlvdSdkIG5lZWQgdG8gZWl0aGVyIHNldCBgZGVjaW1hbFBsYWNlc1Jhd1ZhbHVlYCB0byBgbnVsbGAsIG9yIHNldCBhIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyBmb3IgdGhlIHJhdyB2YWx1ZSBlcXVhbCBvZiBiaWdnZXIgdGhhbiBgZGVjaW1hbFBsYWNlc1Nob3duT25CbHVyYC5cIiksZS5zaG93V2FybmluZ3MpKX19LHtrZXk6XCJhcmVTZXR0aW5nc1ZhbGlkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ITA7dHJ5e3RoaXMudmFsaWRhdGUoZSwhMCl9Y2F0Y2goZSl7dD0hMX1yZXR1cm4gdH19LHtrZXk6XCJnZXREZWZhdWx0Q29uZmlnXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gQi5kZWZhdWx0U2V0dGluZ3N9fSx7a2V5OlwiZ2V0UHJlZGVmaW5lZE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBCLnByZWRlZmluZWRPcHRpb25zfX0se2tleTpcIl9nZW5lcmF0ZU9wdGlvbnNPYmplY3RGcm9tT3B0aW9uc0FycmF5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQsaT10aGlzO3JldHVybiBNLmlzVW5kZWZpbmVkT3JOdWxsT3JFbXB0eShlKXx8MD09PWUubGVuZ3RoP3Q9bnVsbDoodD17fSwxPT09ZS5sZW5ndGgmJkFycmF5LmlzQXJyYXkoZVswXSk/ZVswXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2IodCxpLl9nZXRPcHRpb25PYmplY3QoZSkpfSk6MTw9ZS5sZW5ndGgmJmUuZm9yRWFjaChmdW5jdGlvbihlKXtiKHQsaS5fZ2V0T3B0aW9uT2JqZWN0KGUpKX0pKSx0fX0se2tleTpcImZvcm1hdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKE0uaXNVbmRlZmluZWQoZSl8fG51bGw9PT1lKXJldHVybiBudWxsO3ZhciB0O3Q9TS5pc0VsZW1lbnQoZSk/TS5nZXRFbGVtZW50VmFsdWUoZSk6ZSxNLmlzU3RyaW5nKHQpfHxNLmlzTnVtYmVyKHQpfHxNLnRocm93RXJyb3IoJ1RoZSB2YWx1ZSBcIicuY29uY2F0KHQsJ1wiIGJlaW5nIFwic2V0XCIgaXMgbm90IG51bWVyaWMgYW5kIHRoZXJlZm9yZSBjYW5ub3QgYmUgdXNlZCBhcHByb3ByaWF0ZWx5LicpKTtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSgxPGk/aS0xOjApLGE9MTthPGk7YSsrKW5bYS0xXT1hcmd1bWVudHNbYV07dmFyIHI9dGhpcy5fZ2VuZXJhdGVPcHRpb25zT2JqZWN0RnJvbU9wdGlvbnNBcnJheShuKSxzPWIoe30sdGhpcy5nZXREZWZhdWx0Q29uZmlnKCkscik7cy5pc05lZ2F0aXZlU2lnbkFsbG93ZWQ9dDwwLHMuaXNQb3NpdGl2ZVNpZ25BbGxvd2VkPTA8PXQsdGhpcy5fc2V0QnJhY2tldHMocyksdGhpcy5fY2FjaGVzVXN1YWxSZWd1bGFyRXhwcmVzc2lvbnMocyx7fSk7dmFyIG89dGhpcy5fdG9OdW1lcmljVmFsdWUodCxzKTtyZXR1cm4gaXNOYU4oTnVtYmVyKG8pKSYmTS50aHJvd0Vycm9yKFwiVGhlIHZhbHVlIFtcIi5jb25jYXQobyxcIl0gdGhhdCB5b3UgYXJlIHRyeWluZyB0byBmb3JtYXQgaXMgbm90IGEgcmVjb2duaXplZCBudW1iZXIuXCIpKSx0aGlzLl9pc1dpdGhpblJhbmdlV2l0aE92ZXJyaWRlT3B0aW9uKG8scyl8fChNLnRyaWdnZXJFdmVudChCLmV2ZW50cy5mb3JtYXR0ZWQsZG9jdW1lbnQse29sZFZhbHVlOm51bGwsbmV3VmFsdWU6bnVsbCxvbGRSYXdWYWx1ZTpudWxsLG5ld1Jhd1ZhbHVlOm51bGwsaXNQcmlzdGluZTpudWxsLGVycm9yOlwiUmFuZ2UgdGVzdCBmYWlsZWRcIixhTkVsZW1lbnQ6bnVsbH0sITAsITApLE0udGhyb3dFcnJvcihcIlRoZSB2YWx1ZSBbXCIuY29uY2F0KG8sXCJdIGJlaW5nIHNldCBmYWxscyBvdXRzaWRlIG9mIHRoZSBtaW5pbXVtVmFsdWUgW1wiKS5jb25jYXQocy5taW5pbXVtVmFsdWUsXCJdIGFuZCBtYXhpbXVtVmFsdWUgW1wiKS5jb25jYXQocy5tYXhpbXVtVmFsdWUsXCJdIHJhbmdlIHNldCBmb3IgdGhpcyBlbGVtZW50XCIpKSkscy52YWx1ZXNUb1N0cmluZ3MmJnRoaXMuX2NoZWNrVmFsdWVzVG9TdHJpbmdzU2V0dGluZ3ModCxzKT9zLnZhbHVlc1RvU3RyaW5nc1t0XToodGhpcy5fY29ycmVjdE5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50T3B0aW9uKHMpLHRoaXMuX2NhbGN1bGF0ZURlY2ltYWxQbGFjZXNPbkluaXQocyksTS5pc1VuZGVmaW5lZE9yTnVsbE9yRW1wdHkocy5yYXdWYWx1ZURpdmlzb3IpfHwwPT09cy5yYXdWYWx1ZURpdmlzb3J8fFwiXCI9PT1vfHxudWxsPT09b3x8KG8qPXMucmF3VmFsdWVEaXZpc29yKSxvPXRoaXMuX3JvdW5kRm9ybWF0dGVkVmFsdWVTaG93bk9uRm9jdXMobyxzKSxvPXRoaXMuX21vZGlmeU5lZ2F0aXZlU2lnbkFuZERlY2ltYWxDaGFyYWN0ZXJGb3JGb3JtYXR0ZWRWYWx1ZShvLHMpLG89dGhpcy5fYWRkR3JvdXBTZXBhcmF0b3JzKG8scywhMSxvKSl9fSx7a2V5OlwiZm9ybWF0QW5kU2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQ/dDpudWxsLG49dGhpcy5mb3JtYXQoZSxpKTtyZXR1cm4gTS5zZXRFbGVtZW50VmFsdWUoZSxuKSxufX0se2tleTpcInVuZm9ybWF0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoTS5pc051bWJlclN0cmljdChlKSlyZXR1cm4gZTt2YXIgdDtpZihcIlwiPT09KHQ9TS5pc0VsZW1lbnQoZSk/TS5nZXRFbGVtZW50VmFsdWUoZSk6ZSkpcmV0dXJuXCJcIjtpZihNLmlzVW5kZWZpbmVkKHQpfHxudWxsPT09dClyZXR1cm4gbnVsbDsoTS5pc0FycmF5KHQpfHxNLmlzT2JqZWN0KHQpKSYmTS50aHJvd0Vycm9yKFwiQSBudW1iZXIgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgbnVtYmVyIGlzIG5lZWRlZCB0byBiZSBhYmxlIHRvIHVuZm9ybWF0IGl0LCBbXCIuY29uY2F0KHQsXCJdIGdpdmVuLlwiKSk7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoMTxpP2ktMTowKSxhPTE7YTxpO2ErKyluW2EtMV09YXJndW1lbnRzW2FdO3ZhciByPXRoaXMuX2dlbmVyYXRlT3B0aW9uc09iamVjdEZyb21PcHRpb25zQXJyYXkobikscz1iKHt9LHRoaXMuZ2V0RGVmYXVsdENvbmZpZygpLHIpO2lmKHMuaXNOZWdhdGl2ZVNpZ25BbGxvd2VkPSExLHMuaXNQb3NpdGl2ZVNpZ25BbGxvd2VkPSEwLHQ9dC50b1N0cmluZygpLHMudmFsdWVzVG9TdHJpbmdzJiZ0aGlzLl9jaGVja1N0cmluZ3NUb1ZhbHVlc1NldHRpbmdzKHQscykpcmV0dXJuIE0ub2JqZWN0S2V5TG9va3VwKHMudmFsdWVzVG9TdHJpbmdzLHQpO2lmKE0uaXNOZWdhdGl2ZSh0LHMubmVnYXRpdmVTaWduQ2hhcmFjdGVyKSlzLmlzTmVnYXRpdmVTaWduQWxsb3dlZD0hMCxzLmlzUG9zaXRpdmVTaWduQWxsb3dlZD0hMTtlbHNlIGlmKCFNLmlzTnVsbChzLm5lZ2F0aXZlQnJhY2tldHNUeXBlT25CbHVyKSl7dmFyIG89UyhzLm5lZ2F0aXZlQnJhY2tldHNUeXBlT25CbHVyLnNwbGl0KFwiLFwiKSwyKTtzLmZpcnN0QnJhY2tldD1vWzBdLHMubGFzdEJyYWNrZXQ9b1sxXSx0LmNoYXJBdCgwKT09PXMuZmlyc3RCcmFja2V0JiZ0LmNoYXJBdCh0Lmxlbmd0aC0xKT09PXMubGFzdEJyYWNrZXQmJihzLmlzTmVnYXRpdmVTaWduQWxsb3dlZD0hMCxzLmlzUG9zaXRpdmVTaWduQWxsb3dlZD0hMSx0PXRoaXMuX3JlbW92ZUJyYWNrZXRzKHQscywhMSkpfXJldHVybiB0PXRoaXMuX2NvbnZlcnRUb051bWVyaWNTdHJpbmcodCxzKSxuZXcgUmVnRXhwKFwiW14rLTAxMjM0NTY3ODkuXVwiLFwiZ2lcIikudGVzdCh0KT9OYU46KHRoaXMuX2NvcnJlY3ROZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudE9wdGlvbihzKSxzLmRlY2ltYWxQbGFjZXNSYXdWYWx1ZT9zLm9yaWdpbmFsRGVjaW1hbFBsYWNlc1Jhd1ZhbHVlPXMuZGVjaW1hbFBsYWNlc1Jhd1ZhbHVlOnMub3JpZ2luYWxEZWNpbWFsUGxhY2VzUmF3VmFsdWU9cy5kZWNpbWFsUGxhY2VzLHRoaXMuX2NhbGN1bGF0ZURlY2ltYWxQbGFjZXNPbkluaXQocyksTS5pc1VuZGVmaW5lZE9yTnVsbE9yRW1wdHkocy5yYXdWYWx1ZURpdmlzb3IpfHwwPT09cy5yYXdWYWx1ZURpdmlzb3J8fFwiXCI9PT10fHxudWxsPT09dHx8KHQvPXMucmF3VmFsdWVEaXZpc29yKSx0PSh0PXRoaXMuX3JvdW5kUmF3VmFsdWUodCxzKSkucmVwbGFjZShzLmRlY2ltYWxDaGFyYWN0ZXIsXCIuXCIpLHQ9dGhpcy5fdG9Mb2NhbGUodCxzLm91dHB1dEZvcm1hdCxzKSl9fSx7a2V5OlwidW5mb3JtYXRBbmRTZXRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90Om51bGwsbj10aGlzLnVuZm9ybWF0KGUsaSk7cmV0dXJuIE0uc2V0RWxlbWVudFZhbHVlKGUsbiksbn19LHtrZXk6XCJsb2NhbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGksbixhPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90Om51bGw7cmV0dXJuXCJcIj09PShpPU0uaXNFbGVtZW50KGUpP00uZ2V0RWxlbWVudFZhbHVlKGUpOmUpP1wiXCI6KE0uaXNOdWxsKGEpJiYoYT1CLmRlZmF1bHRTZXR0aW5ncyksaT10aGlzLnVuZm9ybWF0KGksYSksMD09PU51bWJlcihpKSYmYS5sZWFkaW5nWmVybyE9PUIub3B0aW9ucy5sZWFkaW5nWmVyby5rZWVwJiYoaT1cIjBcIiksbj1NLmlzTnVsbChhKT9hLm91dHB1dEZvcm1hdDpCLmRlZmF1bHRTZXR0aW5ncy5vdXRwdXRGb3JtYXQsdGhpcy5fdG9Mb2NhbGUoaSxuLGEpKX19LHtrZXk6XCJsb2NhbGl6ZUFuZFNldFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10P3Q6bnVsbCxuPXRoaXMubG9jYWxpemUoZSxpKTtyZXR1cm4gTS5zZXRFbGVtZW50VmFsdWUoZSxuKSxufX0se2tleTpcImlzTWFuYWdlZEJ5QXV0b051bWVyaWNcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faXNJbkdsb2JhbExpc3QoTS5kb21FbGVtZW50KGUpKX19LHtrZXk6XCJnZXRBdXRvTnVtZXJpY0VsZW1lbnRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1NLmRvbUVsZW1lbnQoZSk7cmV0dXJuIHRoaXMuaXNNYW5hZ2VkQnlBdXRvTnVtZXJpYyh0KT90aGlzLl9nZXRGcm9tR2xvYmFsTGlzdCh0KTpudWxsfX0se2tleTpcInNldFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxpLG4pe3ZhciBhLHI9Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1pP2k6bnVsbCxzPSEoMzxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1uKXx8bixvPU0uZG9tRWxlbWVudChlKTtyZXR1cm4gdGhpcy5pc01hbmFnZWRCeUF1dG9OdW1lcmljKG8pP3RoaXMuZ2V0QXV0b051bWVyaWNFbGVtZW50KG8pLnNldCh0LHIscyk6KGE9ISghTS5pc051bGwocikmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLFwic2hvd1dhcm5pbmdzXCIpKXx8ci5zaG93V2FybmluZ3MsTS53YXJuaW5nKFwiSW1wb3NzaWJsZSB0byBmaW5kIGFuIEF1dG9OdW1lcmljIG9iamVjdCBmb3IgdGhlIGdpdmVuIERPTSBlbGVtZW50IG9yIHNlbGVjdG9yLlwiLGEpLG51bGwpfX0se2tleTpcImdldE51bWVyaWNTdHJpbmdcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90Om51bGw7cmV0dXJuIHRoaXMuX2dldChlLFwiZ2V0TnVtZXJpY1N0cmluZ1wiLGkpfX0se2tleTpcImdldEZvcm1hdHRlZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10P3Q6bnVsbDtyZXR1cm4gdGhpcy5fZ2V0KGUsXCJnZXRGb3JtYXR0ZWRcIixpKX19LHtrZXk6XCJnZXROdW1iZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90Om51bGw7cmV0dXJuIHRoaXMuX2dldChlLFwiZ2V0TnVtYmVyXCIsaSl9fSx7a2V5OlwiX2dldFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxpKXt2YXIgbj0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWk/aTpudWxsLGE9TS5kb21FbGVtZW50KGUpO3JldHVybiB0aGlzLmlzTWFuYWdlZEJ5QXV0b051bWVyaWMoYSl8fE0udGhyb3dFcnJvcihcIkltcG9zc2libGUgdG8gZmluZCBhbiBBdXRvTnVtZXJpYyBvYmplY3QgZm9yIHRoZSBnaXZlbiBET00gZWxlbWVudCBvciBzZWxlY3Rvci5cIiksdGhpcy5nZXRBdXRvTnVtZXJpY0VsZW1lbnQoYSlbdF0obil9fSx7a2V5OlwiZ2V0TG9jYWxpemVkXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90Om51bGwsYT0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWk/aTpudWxsLHI9TS5kb21FbGVtZW50KGUpO3JldHVybiB0aGlzLmlzTWFuYWdlZEJ5QXV0b051bWVyaWMocil8fE0udGhyb3dFcnJvcihcIkltcG9zc2libGUgdG8gZmluZCBhbiBBdXRvTnVtZXJpYyBvYmplY3QgZm9yIHRoZSBnaXZlbiBET00gZWxlbWVudCBvciBzZWxlY3Rvci5cIiksdGhpcy5nZXRBdXRvTnVtZXJpY0VsZW1lbnQocikuZ2V0TG9jYWxpemVkKG4sYSl9fSx7a2V5OlwiX3N0cmlwQWxsTm9uTnVtYmVyQ2hhcmFjdGVyc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxpLG4pe3JldHVybiB0aGlzLl9zdHJpcEFsbE5vbk51bWJlckNoYXJhY3RlcnNFeGNlcHRDdXN0b21EZWNpbWFsQ2hhcihlLHQsaSxuKS5yZXBsYWNlKHQuZGVjaW1hbENoYXJhY3RlcixcIi5cIil9fSx7a2V5OlwiX3N0cmlwQWxsTm9uTnVtYmVyQ2hhcmFjdGVyc0V4Y2VwdEN1c3RvbURlY2ltYWxDaGFyXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LGksbil7dmFyIGE9KGU9KGU9dGhpcy5fbm9ybWFsaXplQ3VycmVuY3lTdWZmaXhBbmROZWdhdGl2ZVNpZ25DaGFyYWN0ZXJzKGUsdCkpLnJlcGxhY2UodC5hbGxvd2VkQXV0b1N0cmlwLFwiXCIpKS5tYXRjaCh0Lm51bVJlZ0F1dG9TdHJpcCk7aWYoZT1hP1thWzFdLGFbMl0sYVszXV0uam9pbihcIlwiKTpcIlwiLHQubGVhZGluZ1plcm89PT1CLm9wdGlvbnMubGVhZGluZ1plcm8uYWxsb3d8fHQubGVhZGluZ1plcm89PT1CLm9wdGlvbnMubGVhZGluZ1plcm8ua2VlcCl7dmFyIHI9XCJcIixzPVMoZS5zcGxpdCh0LmRlY2ltYWxDaGFyYWN0ZXIpLDIpLG89c1swXSxsPXNbMV0sdT1vO00uY29udGFpbnModSx0Lm5lZ2F0aXZlU2lnbkNoYXJhY3RlcikmJihyPXQubmVnYXRpdmVTaWduQ2hhcmFjdGVyLHU9dS5yZXBsYWNlKHQubmVnYXRpdmVTaWduQ2hhcmFjdGVyLFwiXCIpKSxcIlwiPT09ciYmdS5sZW5ndGg+dC5tSW50UG9zJiZcIjBcIj09PXUuY2hhckF0KDApJiYodT11LnNsaWNlKDEpKSxcIlwiIT09ciYmdS5sZW5ndGg+dC5tSW50TmVnJiZcIjBcIj09PXUuY2hhckF0KDApJiYodT11LnNsaWNlKDEpKSxlPVwiXCIuY29uY2F0KHIpLmNvbmNhdCh1KS5jb25jYXQoTS5pc1VuZGVmaW5lZChsKT9cIlwiOnQuZGVjaW1hbENoYXJhY3RlcitsKX1yZXR1cm4oaSYmdC5sZWFkaW5nWmVybz09PUIub3B0aW9ucy5sZWFkaW5nWmVyby5kZW55fHwhbiYmdC5sZWFkaW5nWmVybz09PUIub3B0aW9ucy5sZWFkaW5nWmVyby5hbGxvdykmJihlPWUucmVwbGFjZSh0LnN0cmlwUmVnLFwiJDEkMlwiKSksZX19LHtrZXk6XCJfdG9nZ2xlTmVnYXRpdmVCcmFja2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBpP3RoaXMuX3JlbW92ZUJyYWNrZXRzKGUsdCk6dGhpcy5fYWRkQnJhY2tldHMoZSx0KX19LHtrZXk6XCJfYWRkQnJhY2tldHNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBNLmlzTnVsbCh0Lm5lZ2F0aXZlQnJhY2tldHNUeXBlT25CbHVyKT9lOlwiXCIuY29uY2F0KHQuZmlyc3RCcmFja2V0KS5jb25jYXQoZS5yZXBsYWNlKHQubmVnYXRpdmVTaWduQ2hhcmFjdGVyLFwiXCIpKS5jb25jYXQodC5sYXN0QnJhY2tldCl9fSx7a2V5OlwiX3JlbW92ZUJyYWNrZXRzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LGkpe3ZhciBuLGE9ISgyPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWkpfHxpO3JldHVybiBNLmlzTnVsbCh0Lm5lZ2F0aXZlQnJhY2tldHNUeXBlT25CbHVyKXx8ZS5jaGFyQXQoMCkhPT10LmZpcnN0QnJhY2tldD9lOihuPShuPWUucmVwbGFjZSh0LmZpcnN0QnJhY2tldCxcIlwiKSkucmVwbGFjZSh0Lmxhc3RCcmFja2V0LFwiXCIpLGE/KG49bi5yZXBsYWNlKHQuY3VycmVuY3lTeW1ib2wsXCJcIiksdGhpcy5fbWVyZ2VDdXJyZW5jeVNpZ25OZWdhdGl2ZVBvc2l0aXZlU2lnbkFuZFZhbHVlKG4sdCwhMCwhMSkpOlwiXCIuY29uY2F0KHQubmVnYXRpdmVTaWduQ2hhcmFjdGVyKS5jb25jYXQobikpfX0se2tleTpcIl9zZXRCcmFja2V0c1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKE0uaXNOdWxsKGUubmVnYXRpdmVCcmFja2V0c1R5cGVPbkJsdXIpKWUuZmlyc3RCcmFja2V0PVwiXCIsZS5sYXN0QnJhY2tldD1cIlwiO2Vsc2V7dmFyIHQ9UyhlLm5lZ2F0aXZlQnJhY2tldHNUeXBlT25CbHVyLnNwbGl0KFwiLFwiKSwyKSxpPXRbMF0sbj10WzFdO2UuZmlyc3RCcmFja2V0PWksZS5sYXN0QnJhY2tldD1ufX19LHtrZXk6XCJfY29udmVydFRvTnVtZXJpY1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7ZT10aGlzLl9yZW1vdmVCcmFja2V0cyhlLHQsITEpLGU9KGU9dGhpcy5fbm9ybWFsaXplQ3VycmVuY3lTdWZmaXhBbmROZWdhdGl2ZVNpZ25DaGFyYWN0ZXJzKGUsdCkpLnJlcGxhY2UobmV3IFJlZ0V4cChcIltcIi5jb25jYXQodC5kaWdpdEdyb3VwU2VwYXJhdG9yLFwiXVwiKSxcImdcIiksXCJcIiksXCIuXCIhPT10LmRlY2ltYWxDaGFyYWN0ZXImJihlPWUucmVwbGFjZSh0LmRlY2ltYWxDaGFyYWN0ZXIsXCIuXCIpKSxNLmlzTmVnYXRpdmUoZSkmJmUubGFzdEluZGV4T2YoXCItXCIpPT09ZS5sZW5ndGgtMSYmKGU9ZS5yZXBsYWNlKFwiLVwiLFwiXCIpLGU9XCItXCIuY29uY2F0KGUpKSx0LnNob3dQb3NpdGl2ZVNpZ24mJihlPWUucmVwbGFjZSh0LnBvc2l0aXZlU2lnbkNoYXJhY3RlcixcIlwiKSk7dmFyIGk9dC5sZWFkaW5nWmVybyE9PUIub3B0aW9ucy5sZWFkaW5nWmVyby5rZWVwLG49TS5hcmFiaWNUb0xhdGluTnVtYmVycyhlLGksITEsITEpO3JldHVybiBpc05hTihuKXx8KGU9bi50b1N0cmluZygpKSxlfX0se2tleTpcIl9ub3JtYWxpemVDdXJyZW5jeVN1ZmZpeEFuZE5lZ2F0aXZlU2lnbkNoYXJhY3RlcnNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPVN0cmluZyhlKSx0LmN1cnJlbmN5U3ltYm9sIT09Qi5vcHRpb25zLmN1cnJlbmN5U3ltYm9sLm5vbmUmJihlPWUucmVwbGFjZSh0LmN1cnJlbmN5U3ltYm9sLFwiXCIpKSx0LnN1ZmZpeFRleHQhPT1CLm9wdGlvbnMuc3VmZml4VGV4dC5ub25lJiYoZT1lLnJlcGxhY2UodC5zdWZmaXhUZXh0LFwiXCIpKSx0Lm5lZ2F0aXZlU2lnbkNoYXJhY3RlciE9PUIub3B0aW9ucy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIuaHlwaGVuJiYoZT1lLnJlcGxhY2UodC5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIsXCItXCIpKSxlfX0se2tleTpcIl90b0xvY2FsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxpKXtpZihNLmlzTnVsbCh0KXx8dD09PUIub3B0aW9ucy5vdXRwdXRGb3JtYXQuc3RyaW5nKXJldHVybiBlO3ZhciBuO3N3aXRjaCh0KXtjYXNlIEIub3B0aW9ucy5vdXRwdXRGb3JtYXQubnVtYmVyOm49TnVtYmVyKGUpO2JyZWFrO2Nhc2UgQi5vcHRpb25zLm91dHB1dEZvcm1hdC5kb3ROZWdhdGl2ZTpuPU0uaXNOZWdhdGl2ZShlKT9lLnJlcGxhY2UoXCItXCIsXCJcIikrXCItXCI6ZTticmVhaztjYXNlIEIub3B0aW9ucy5vdXRwdXRGb3JtYXQuY29tbWE6Y2FzZSBCLm9wdGlvbnMub3V0cHV0Rm9ybWF0Lm5lZ2F0aXZlQ29tbWE6bj1lLnJlcGxhY2UoXCIuXCIsXCIsXCIpO2JyZWFrO2Nhc2UgQi5vcHRpb25zLm91dHB1dEZvcm1hdC5jb21tYU5lZ2F0aXZlOm49ZS5yZXBsYWNlKFwiLlwiLFwiLFwiKSxuPU0uaXNOZWdhdGl2ZShuKT9uLnJlcGxhY2UoXCItXCIsXCJcIikrXCItXCI6bjticmVhaztjYXNlIEIub3B0aW9ucy5vdXRwdXRGb3JtYXQuZG90OmNhc2UgQi5vcHRpb25zLm91dHB1dEZvcm1hdC5uZWdhdGl2ZURvdDpuPWU7YnJlYWs7ZGVmYXVsdDpNLnRocm93RXJyb3IoXCJUaGUgZ2l2ZW4gb3V0cHV0Rm9ybWF0IFtcIi5jb25jYXQodCxcIl0gb3B0aW9uIGlzIG5vdCByZWNvZ25pemVkLlwiKSl9cmV0dXJuIHQhPT1CLm9wdGlvbnMub3V0cHV0Rm9ybWF0Lm51bWJlciYmXCItXCIhPT1pLm5lZ2F0aXZlU2lnbkNoYXJhY3RlciYmKG49bi5yZXBsYWNlKFwiLVwiLGkubmVnYXRpdmVTaWduQ2hhcmFjdGVyKSksbn19LHtrZXk6XCJfbW9kaWZ5TmVnYXRpdmVTaWduQW5kRGVjaW1hbENoYXJhY3RlckZvckZvcm1hdHRlZFZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIi1cIiE9PXQubmVnYXRpdmVTaWduQ2hhcmFjdGVyJiYoZT1lLnJlcGxhY2UoXCItXCIsdC5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIpKSxcIi5cIiE9PXQuZGVjaW1hbENoYXJhY3RlciYmKGU9ZS5yZXBsYWNlKFwiLlwiLHQuZGVjaW1hbENoYXJhY3RlcikpLGV9fSx7a2V5OlwiX2lzRWxlbWVudFZhbHVlRW1wdHlPck9ubHlUaGVOZWdhdGl2ZVNpZ25cIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVyblwiXCI9PT1lfHxlPT09dC5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXJ9fSx7a2V5OlwiX29yZGVyVmFsdWVDdXJyZW5jeVN5bWJvbEFuZFN1ZmZpeFRleHRcIix2YWx1ZTpmdW5jdGlvbihlLHQsaSl7dmFyIG47aWYodC5lbXB0eUlucHV0QmVoYXZpb3I9PT1CLm9wdGlvbnMuZW1wdHlJbnB1dEJlaGF2aW9yLmFsd2F5c3x8aSlzd2l0Y2godC5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudCl7Y2FzZSBCLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQubGVmdDpjYXNlIEIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5wcmVmaXg6Y2FzZSBCLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQubm9uZTpuPWUrdC5jdXJyZW5jeVN5bWJvbCt0LnN1ZmZpeFRleHQ7YnJlYWs7ZGVmYXVsdDpuPXQuY3VycmVuY3lTeW1ib2wrZSt0LnN1ZmZpeFRleHR9ZWxzZSBuPWU7cmV0dXJuIG59fSx7a2V5OlwiX2FkZEdyb3VwU2VwYXJhdG9yc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxpLG4sYSl7dmFyIHIscz00PGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWE/YTpudWxsO2lmKHI9TS5pc051bGwocyk/TS5pc05lZ2F0aXZlKGUsdC5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIpfHxNLmlzTmVnYXRpdmVXaXRoQnJhY2tldHMoZSx0LmZpcnN0QnJhY2tldCx0Lmxhc3RCcmFja2V0KTpzPDAsZT10aGlzLl9zdHJpcEFsbE5vbk51bWJlckNoYXJhY3RlcnNFeGNlcHRDdXN0b21EZWNpbWFsQ2hhcihlLHQsITEsaSksdGhpcy5faXNFbGVtZW50VmFsdWVFbXB0eU9yT25seVRoZU5lZ2F0aXZlU2lnbihlLHQpKXJldHVybiB0aGlzLl9vcmRlclZhbHVlQ3VycmVuY3lTeW1ib2xBbmRTdWZmaXhUZXh0KGUsdCwhMCk7dmFyIG8sbD1NLmlzWmVyb09ySGFzTm9WYWx1ZShlKTtzd2l0Y2gociYmKGU9ZS5yZXBsYWNlKFwiLVwiLFwiXCIpKSx0LmRpZ2l0YWxHcm91cFNwYWNpbmc9dC5kaWdpdGFsR3JvdXBTcGFjaW5nLnRvU3RyaW5nKCksdC5kaWdpdGFsR3JvdXBTcGFjaW5nKXtjYXNlIEIub3B0aW9ucy5kaWdpdGFsR3JvdXBTcGFjaW5nLnR3bzpvPS8oXFxkKSgoXFxkKShcXGR7Mn0/KSspJC87YnJlYWs7Y2FzZSBCLm9wdGlvbnMuZGlnaXRhbEdyb3VwU3BhY2luZy50d29TY2FsZWQ6bz0vKFxcZCkoKD86XFxkezJ9KXswLDJ9XFxkezN9KD86KD86XFxkezJ9KXsyfVxcZHszfSkqPykkLzticmVhaztjYXNlIEIub3B0aW9ucy5kaWdpdGFsR3JvdXBTcGFjaW5nLmZvdXI6bz0vKFxcZCkoKFxcZHs0fT8pKykkLzticmVhaztjYXNlIEIub3B0aW9ucy5kaWdpdGFsR3JvdXBTcGFjaW5nLnRocmVlOmRlZmF1bHQ6bz0vKFxcZCkoKFxcZHszfT8pKykkL312YXIgdSxjPVMoZS5zcGxpdCh0LmRlY2ltYWxDaGFyYWN0ZXIpLDIpLGg9Y1swXSxtPWNbMV07aWYodC5kZWNpbWFsQ2hhcmFjdGVyQWx0ZXJuYXRpdmUmJk0uaXNVbmRlZmluZWQobSkpe3ZhciBnPVMoZS5zcGxpdCh0LmRlY2ltYWxDaGFyYWN0ZXJBbHRlcm5hdGl2ZSksMik7aD1nWzBdLG09Z1sxXX1pZihcIlwiIT09dC5kaWdpdEdyb3VwU2VwYXJhdG9yKWZvcig7by50ZXN0KGgpOyloPWgucmVwbGFjZShvLFwiJDFcIi5jb25jYXQodC5kaWdpdEdyb3VwU2VwYXJhdG9yLFwiJDJcIikpO3JldHVybiBlPTA9PT0odT1pP3QuZGVjaW1hbFBsYWNlc1Nob3duT25Gb2N1czp0LmRlY2ltYWxQbGFjZXNTaG93bk9uQmx1cil8fE0uaXNVbmRlZmluZWQobSk/aDoobS5sZW5ndGg+dSYmKG09bS5zdWJzdHJpbmcoMCx1KSksXCJcIi5jb25jYXQoaCkuY29uY2F0KHQuZGVjaW1hbENoYXJhY3RlcikuY29uY2F0KG0pKSxlPUIuX21lcmdlQ3VycmVuY3lTaWduTmVnYXRpdmVQb3NpdGl2ZVNpZ25BbmRWYWx1ZShlLHQscixsKSxNLmlzTnVsbChzKSYmKHM9biksbnVsbCE9PXQubmVnYXRpdmVCcmFja2V0c1R5cGVPbkJsdXImJihzPDB8fE0uaXNOZWdhdGl2ZVN0cmljdChlLHQubmVnYXRpdmVTaWduQ2hhcmFjdGVyKSkmJihlPXRoaXMuX3RvZ2dsZU5lZ2F0aXZlQnJhY2tldChlLHQsaSkpLHQuc3VmZml4VGV4dD9cIlwiLmNvbmNhdChlKS5jb25jYXQodC5zdWZmaXhUZXh0KTplfX0se2tleTpcIl9tZXJnZUN1cnJlbmN5U2lnbk5lZ2F0aXZlUG9zaXRpdmVTaWduQW5kVmFsdWVcIix2YWx1ZTpmdW5jdGlvbihlLHQsaSxuKXt2YXIgYSxyPVwiXCI7aWYoaT9yPXQubmVnYXRpdmVTaWduQ2hhcmFjdGVyOnQuc2hvd1Bvc2l0aXZlU2lnbiYmIW4mJihyPXQucG9zaXRpdmVTaWduQ2hhcmFjdGVyKSx0LmN1cnJlbmN5U3ltYm9sUGxhY2VtZW50PT09Qi5vcHRpb25zLmN1cnJlbmN5U3ltYm9sUGxhY2VtZW50LnByZWZpeClpZih0Lm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50IT09Qi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50Lm5vbmUmJihpfHwhaSYmdC5zaG93UG9zaXRpdmVTaWduJiYhbikpc3dpdGNoKHQubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQpe2Nhc2UgQi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LnByZWZpeDpjYXNlIEIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5sZWZ0OmE9XCJcIi5jb25jYXQocikuY29uY2F0KHQuY3VycmVuY3lTeW1ib2wpLmNvbmNhdChlKTticmVhaztjYXNlIEIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5yaWdodDphPVwiXCIuY29uY2F0KHQuY3VycmVuY3lTeW1ib2wpLmNvbmNhdChyKS5jb25jYXQoZSk7YnJlYWs7Y2FzZSBCLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQuc3VmZml4OmE9XCJcIi5jb25jYXQodC5jdXJyZW5jeVN5bWJvbCkuY29uY2F0KGUpLmNvbmNhdChyKX1lbHNlIGE9dC5jdXJyZW5jeVN5bWJvbCtlO2Vsc2UgaWYodC5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudD09PUIub3B0aW9ucy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudC5zdWZmaXgpaWYodC5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudCE9PUIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5ub25lJiYoaXx8IWkmJnQuc2hvd1Bvc2l0aXZlU2lnbiYmIW4pKXN3aXRjaCh0Lm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50KXtjYXNlIEIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5zdWZmaXg6Y2FzZSBCLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQucmlnaHQ6YT1cIlwiLmNvbmNhdChlKS5jb25jYXQodC5jdXJyZW5jeVN5bWJvbCkuY29uY2F0KHIpO2JyZWFrO2Nhc2UgQi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LmxlZnQ6YT1cIlwiLmNvbmNhdChlKS5jb25jYXQocikuY29uY2F0KHQuY3VycmVuY3lTeW1ib2wpO2JyZWFrO2Nhc2UgQi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LnByZWZpeDphPVwiXCIuY29uY2F0KHIpLmNvbmNhdChlKS5jb25jYXQodC5jdXJyZW5jeVN5bWJvbCl9ZWxzZSBhPWUrdC5jdXJyZW5jeVN5bWJvbDtyZXR1cm4gYX19LHtrZXk6XCJfdHJ1bmNhdGVaZXJvc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGk7c3dpdGNoKHQpe2Nhc2UgMDppPS8oXFwuKD86XFxkKlsxLTldKT8pMCokLzticmVhaztjYXNlIDE6aT0vKFxcLlxcZCg/OlxcZCpbMS05XSk/KTAqJC87YnJlYWs7ZGVmYXVsdDppPW5ldyBSZWdFeHAoXCIoXFxcXC5cXFxcZHtcIi5jb25jYXQodCxcIn0oPzpcXFxcZCpbMS05XSk/KTAqXCIpKX1yZXR1cm4gZT1lLnJlcGxhY2UoaSxcIiQxXCIpLDA9PT10JiYoZT1lLnJlcGxhY2UoL1xcLiQvLFwiXCIpKSxlfX0se2tleTpcIl9yb3VuZFJhd1ZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcm91bmRWYWx1ZShlLHQsdC5kZWNpbWFsUGxhY2VzUmF3VmFsdWUpfX0se2tleTpcIl9yb3VuZEZvcm1hdHRlZFZhbHVlU2hvd25PbkZvY3VzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcm91bmRWYWx1ZShlLHQsTnVtYmVyKHQuZGVjaW1hbFBsYWNlc1Nob3duT25Gb2N1cykpfX0se2tleTpcIl9yb3VuZEZvcm1hdHRlZFZhbHVlU2hvd25PbkJsdXJcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9yb3VuZFZhbHVlKGUsdCxOdW1iZXIodC5kZWNpbWFsUGxhY2VzU2hvd25PbkJsdXIpKX19LHtrZXk6XCJfcm91bmRGb3JtYXR0ZWRWYWx1ZVNob3duT25Gb2N1c09yQmx1clwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gaT90aGlzLl9yb3VuZEZvcm1hdHRlZFZhbHVlU2hvd25PbkZvY3VzKGUsdCk6dGhpcy5fcm91bmRGb3JtYXR0ZWRWYWx1ZVNob3duT25CbHVyKGUsdCl9fSx7a2V5OlwiX3JvdW5kVmFsdWVcIix2YWx1ZTpmdW5jdGlvbihlLHQsaSl7aWYoTS5pc051bGwoZSkpcmV0dXJuIGU7aWYoZT1cIlwiPT09ZT9cIjBcIjplLnRvU3RyaW5nKCksdC5yb3VuZGluZ01ldGhvZD09PUIub3B0aW9ucy5yb3VuZGluZ01ldGhvZC50b05lYXJlc3QwNXx8dC5yb3VuZGluZ01ldGhvZD09PUIub3B0aW9ucy5yb3VuZGluZ01ldGhvZC50b05lYXJlc3QwNUFsdHx8dC5yb3VuZGluZ01ldGhvZD09PUIub3B0aW9ucy5yb3VuZGluZ01ldGhvZC51cFRvTmV4dDA1fHx0LnJvdW5kaW5nTWV0aG9kPT09Qi5vcHRpb25zLnJvdW5kaW5nTWV0aG9kLmRvd25Ub05leHQwNSlyZXR1cm4gdGhpcy5fcm91bmRDbG9zZVRvMDUoZSx0KTt2YXIgbixhPVMoQi5fcHJlcGFyZVZhbHVlRm9yUm91bmRpbmcoZSx0KSwyKSxyPWFbMF0scz0oZT1hWzFdKS5sYXN0SW5kZXhPZihcIi5cIiksbz0tMT09PXMsbD1TKGUuc3BsaXQoXCIuXCIpLDIpLHU9bFswXTtpZighKDA8bFsxXXx8dC5hbGxvd0RlY2ltYWxQYWRkaW5nIT09Qi5vcHRpb25zLmFsbG93RGVjaW1hbFBhZGRpbmcubmV2ZXImJnQuYWxsb3dEZWNpbWFsUGFkZGluZyE9PUIub3B0aW9ucy5hbGxvd0RlY2ltYWxQYWRkaW5nLmZsb2F0cykpcmV0dXJuIDA9PT1OdW1iZXIoZSk/dTpcIlwiLmNvbmNhdChyKS5jb25jYXQodSk7bj10LmFsbG93RGVjaW1hbFBhZGRpbmc9PT1CLm9wdGlvbnMuYWxsb3dEZWNpbWFsUGFkZGluZy5hbHdheXN8fHQuYWxsb3dEZWNpbWFsUGFkZGluZz09PUIub3B0aW9ucy5hbGxvd0RlY2ltYWxQYWRkaW5nLmZsb2F0cz9pOjA7dmFyIGMsaD1vP2UubGVuZ3RoLTE6cyxtPWUubGVuZ3RoLTEtaCxnPVwiXCI7aWYobTw9aSl7aWYoZz1lLG08bil7byYmKGc9XCJcIi5jb25jYXQoZykuY29uY2F0KHQuZGVjaW1hbENoYXJhY3RlcikpO2Zvcih2YXIgZD1cIjAwMDAwMFwiO208bjspZys9ZD1kLnN1YnN0cmluZygwLG4tbSksbSs9ZC5sZW5ndGh9ZWxzZSBuPG0/Zz10aGlzLl90cnVuY2F0ZVplcm9zKGcsbik6MD09PW0mJjA9PT1uJiYoZz1nLnJlcGxhY2UoL1xcLiQvLFwiXCIpKTtyZXR1cm4gMD09PU51bWJlcihnKT9nOlwiXCIuY29uY2F0KHIpLmNvbmNhdChnKX1jPW8/aS0xOk51bWJlcihpKStOdW1iZXIocyk7dmFyIHYscD1OdW1iZXIoZS5jaGFyQXQoYysxKSksZj1lLnN1YnN0cmluZygwLGMrMSkuc3BsaXQoXCJcIik7aWYodj1cIi5cIj09PWUuY2hhckF0KGMpP2UuY2hhckF0KGMtMSklMjplLmNoYXJBdChjKSUyLHRoaXMuX3Nob3VsZFJvdW5kVXAocCx0LHIsdikpZm9yKHZhciB5PWYubGVuZ3RoLTE7MDw9eTstLXkpaWYoXCIuXCIhPT1mW3ldKXtpZihmW3ldPStmW3ldKzEsZlt5XTwxMClicmVhazswPHkmJihmW3ldPVwiMFwiKX1yZXR1cm4gZj1mLnNsaWNlKDAsYysxKSxnPXRoaXMuX3RydW5jYXRlWmVyb3MoZi5qb2luKFwiXCIpLG4pLDA9PT1OdW1iZXIoZyk/ZzpcIlwiLmNvbmNhdChyKS5jb25jYXQoZyl9fSx7a2V5OlwiX3JvdW5kQ2xvc2VUbzA1XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtzd2l0Y2godC5yb3VuZGluZ01ldGhvZCl7Y2FzZSBCLm9wdGlvbnMucm91bmRpbmdNZXRob2QudG9OZWFyZXN0MDU6Y2FzZSBCLm9wdGlvbnMucm91bmRpbmdNZXRob2QudG9OZWFyZXN0MDVBbHQ6ZT0oTWF0aC5yb3VuZCgyMCplKS8yMCkudG9TdHJpbmcoKTticmVhaztjYXNlIEIub3B0aW9ucy5yb3VuZGluZ01ldGhvZC51cFRvTmV4dDA1OmU9KE1hdGguY2VpbCgyMCplKS8yMCkudG9TdHJpbmcoKTticmVhaztkZWZhdWx0OmU9KE1hdGguZmxvb3IoMjAqZSkvMjApLnRvU3RyaW5nKCl9cmV0dXJuIE0uY29udGFpbnMoZSxcIi5cIik/ZS5sZW5ndGgtZS5pbmRleE9mKFwiLlwiKTwzP2UrXCIwXCI6ZTplK1wiLjAwXCJ9fSx7a2V5OlwiX3ByZXBhcmVWYWx1ZUZvclJvdW5kaW5nXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT1cIlwiO3JldHVybiBNLmlzTmVnYXRpdmVTdHJpY3QoZSxcIi1cIikmJihpPVwiLVwiLGU9ZS5yZXBsYWNlKFwiLVwiLFwiXCIpKSxlLm1hdGNoKC9eXFxkLyl8fChlPVwiMFwiLmNvbmNhdChlKSksMD09PU51bWJlcihlKSYmKGk9XCJcIiksKDA8TnVtYmVyKGUpJiZ0LmxlYWRpbmdaZXJvIT09Qi5vcHRpb25zLmxlYWRpbmdaZXJvLmtlZXB8fDA8ZS5sZW5ndGgmJnQubGVhZGluZ1plcm89PT1CLm9wdGlvbnMubGVhZGluZ1plcm8uYWxsb3cpJiYoZT1lLnJlcGxhY2UoL14wKihcXGQpLyxcIiQxXCIpKSxbaSxlXX19LHtrZXk6XCJfc2hvdWxkUm91bmRVcFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxpLG4pe3JldHVybiA0PGUmJnQucm91bmRpbmdNZXRob2Q9PT1CLm9wdGlvbnMucm91bmRpbmdNZXRob2QuaGFsZlVwU3ltbWV0cmljfHw0PGUmJnQucm91bmRpbmdNZXRob2Q9PT1CLm9wdGlvbnMucm91bmRpbmdNZXRob2QuaGFsZlVwQXN5bW1ldHJpYyYmXCJcIj09PWl8fDU8ZSYmdC5yb3VuZGluZ01ldGhvZD09PUIub3B0aW9ucy5yb3VuZGluZ01ldGhvZC5oYWxmVXBBc3ltbWV0cmljJiZcIi1cIj09PWl8fDU8ZSYmdC5yb3VuZGluZ01ldGhvZD09PUIub3B0aW9ucy5yb3VuZGluZ01ldGhvZC5oYWxmRG93blN5bW1ldHJpY3x8NTxlJiZ0LnJvdW5kaW5nTWV0aG9kPT09Qi5vcHRpb25zLnJvdW5kaW5nTWV0aG9kLmhhbGZEb3duQXN5bW1ldHJpYyYmXCJcIj09PWl8fDQ8ZSYmdC5yb3VuZGluZ01ldGhvZD09PUIub3B0aW9ucy5yb3VuZGluZ01ldGhvZC5oYWxmRG93bkFzeW1tZXRyaWMmJlwiLVwiPT09aXx8NTxlJiZ0LnJvdW5kaW5nTWV0aG9kPT09Qi5vcHRpb25zLnJvdW5kaW5nTWV0aG9kLmhhbGZFdmVuQmFua2Vyc1JvdW5kaW5nfHw1PT09ZSYmdC5yb3VuZGluZ01ldGhvZD09PUIub3B0aW9ucy5yb3VuZGluZ01ldGhvZC5oYWxmRXZlbkJhbmtlcnNSb3VuZGluZyYmMT09PW58fDA8ZSYmdC5yb3VuZGluZ01ldGhvZD09PUIub3B0aW9ucy5yb3VuZGluZ01ldGhvZC50b0NlaWxpbmdUb3dhcmRQb3NpdGl2ZUluZmluaXR5JiZcIlwiPT09aXx8MDxlJiZ0LnJvdW5kaW5nTWV0aG9kPT09Qi5vcHRpb25zLnJvdW5kaW5nTWV0aG9kLnRvRmxvb3JUb3dhcmROZWdhdGl2ZUluZmluaXR5JiZcIi1cIj09PWl8fDA8ZSYmdC5yb3VuZGluZ01ldGhvZD09PUIub3B0aW9ucy5yb3VuZGluZ01ldGhvZC51cFJvdW5kQXdheUZyb21aZXJvfX0se2tleTpcIl90cnVuY2F0ZURlY2ltYWxQbGFjZXNcIix2YWx1ZTpmdW5jdGlvbihlLHQsaSxuKXtpJiYoZT10aGlzLl9yb3VuZEZvcm1hdHRlZFZhbHVlU2hvd25PbkZvY3VzKGUsdCkpO3ZhciBhPVMoZS5zcGxpdCh0LmRlY2ltYWxDaGFyYWN0ZXIpLDIpLHI9YVswXSxzPWFbMV07aWYocyYmcy5sZW5ndGg+bilpZigwPG4pe3ZhciBvPXMuc3Vic3RyaW5nKDAsbik7ZT1cIlwiLmNvbmNhdChyKS5jb25jYXQodC5kZWNpbWFsQ2hhcmFjdGVyKS5jb25jYXQobyl9ZWxzZSBlPXI7cmV0dXJuIGV9fSx7a2V5OlwiX2NoZWNrSWZJblJhbmdlV2l0aE92ZXJyaWRlT3B0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZihNLmlzTnVsbChlKSYmdC5lbXB0eUlucHV0QmVoYXZpb3I9PT1CLm9wdGlvbnMuZW1wdHlJbnB1dEJlaGF2aW9yLm51bGx8fHQub3ZlcnJpZGVNaW5NYXhMaW1pdHM9PT1CLm9wdGlvbnMub3ZlcnJpZGVNaW5NYXhMaW1pdHMuaWdub3JlfHx0Lm92ZXJyaWRlTWluTWF4TGltaXRzPT09Qi5vcHRpb25zLm92ZXJyaWRlTWluTWF4TGltaXRzLmludmFsaWQpcmV0dXJuWyEwLCEwXTtlPShlPWUudG9TdHJpbmcoKSkucmVwbGFjZShcIixcIixcIi5cIik7dmFyIGksbj1NLnBhcnNlU3RyKHQubWluaW11bVZhbHVlKSxhPU0ucGFyc2VTdHIodC5tYXhpbXVtVmFsdWUpLHI9TS5wYXJzZVN0cihlKTtzd2l0Y2godC5vdmVycmlkZU1pbk1heExpbWl0cyl7Y2FzZSBCLm9wdGlvbnMub3ZlcnJpZGVNaW5NYXhMaW1pdHMuZmxvb3I6aT1bLTE8TS50ZXN0TWluTWF4KG4sciksITBdO2JyZWFrO2Nhc2UgQi5vcHRpb25zLm92ZXJyaWRlTWluTWF4TGltaXRzLmNlaWxpbmc6aT1bITAsTS50ZXN0TWluTWF4KGEscik8MV07YnJlYWs7ZGVmYXVsdDppPVstMTxNLnRlc3RNaW5NYXgobixyKSxNLnRlc3RNaW5NYXgoYSxyKTwxXX1yZXR1cm4gaX19LHtrZXk6XCJfaXNXaXRoaW5SYW5nZVdpdGhPdmVycmlkZU9wdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9Uyh0aGlzLl9jaGVja0lmSW5SYW5nZVdpdGhPdmVycmlkZU9wdGlvbihlLHQpLDIpLG49aVswXSxhPWlbMV07cmV0dXJuIG4mJmF9fSx7a2V5OlwiX2NsZWFuVmFsdWVGb3JSYW5nZVBhcnNlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZS50b1N0cmluZygpLnJlcGxhY2UoXCIsXCIsXCIuXCIpLE0ucGFyc2VTdHIoZSl9fSx7a2V5OlwiX2lzTWluaW11bVJhbmdlUmVzcGVjdGVkXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4tMTxNLnRlc3RNaW5NYXgoTS5wYXJzZVN0cih0Lm1pbmltdW1WYWx1ZSksdGhpcy5fY2xlYW5WYWx1ZUZvclJhbmdlUGFyc2UoZSkpfX0se2tleTpcIl9pc01heGltdW1SYW5nZVJlc3BlY3RlZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE0udGVzdE1pbk1heChNLnBhcnNlU3RyKHQubWF4aW11bVZhbHVlKSx0aGlzLl9jbGVhblZhbHVlRm9yUmFuZ2VQYXJzZShlKSk8MX19LHtrZXk6XCJfcmVhZENvb2tpZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lK1wiPVwiLGk9ZG9jdW1lbnQuY29va2llLnNwbGl0KFwiO1wiKSxuPVwiXCIsYT0wO2E8aS5sZW5ndGg7YSs9MSl7Zm9yKG49aVthXTtcIiBcIj09PW4uY2hhckF0KDApOyluPW4uc3Vic3RyaW5nKDEsbi5sZW5ndGgpO2lmKDA9PT1uLmluZGV4T2YodCkpcmV0dXJuIG4uc3Vic3RyaW5nKHQubGVuZ3RoLG4ubGVuZ3RoKX1yZXR1cm4gbnVsbH19LHtrZXk6XCJfc3RvcmFnZVRlc3RcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPVwibW9kZXJuaXpyXCI7dHJ5e3JldHVybiBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGUsZSksc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShlKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19fSx7a2V5OlwiX2NvcnJlY3ROZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudE9wdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKE0uaXNOdWxsKGUubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQpKWlmKE0uaXNVbmRlZmluZWQoZSl8fCFNLmlzVW5kZWZpbmVkT3JOdWxsT3JFbXB0eShlLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50KXx8TS5pc1VuZGVmaW5lZE9yTnVsbE9yRW1wdHkoZS5jdXJyZW5jeVN5bWJvbCkpZS5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudD1CLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQubGVmdDtlbHNlIHN3aXRjaChlLmN1cnJlbmN5U3ltYm9sUGxhY2VtZW50KXtjYXNlIEIub3B0aW9ucy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudC5zdWZmaXg6ZS5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudD1CLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQucHJlZml4O2JyZWFrO2Nhc2UgQi5vcHRpb25zLmN1cnJlbmN5U3ltYm9sUGxhY2VtZW50LnByZWZpeDplLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50PUIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5sZWZ0fX19LHtrZXk6XCJfY29ycmVjdENhcmV0UG9zaXRpb25PbkZvY3VzQW5kU2VsZWN0T25Gb2N1c09wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gTS5pc051bGwoZSk/bnVsbDooIU0uaXNVbmRlZmluZWRPck51bGxPckVtcHR5KGUuY2FyZXRQb3NpdGlvbk9uRm9jdXMpJiZNLmlzVW5kZWZpbmVkT3JOdWxsT3JFbXB0eShlLnNlbGVjdE9uRm9jdXMpJiYoZS5zZWxlY3RPbkZvY3VzPUIub3B0aW9ucy5zZWxlY3RPbkZvY3VzLmRvTm90U2VsZWN0KSxNLmlzVW5kZWZpbmVkT3JOdWxsT3JFbXB0eShlLmNhcmV0UG9zaXRpb25PbkZvY3VzKSYmIU0uaXNVbmRlZmluZWRPck51bGxPckVtcHR5KGUuc2VsZWN0T25Gb2N1cykmJmUuc2VsZWN0T25Gb2N1cz09PUIub3B0aW9ucy5zZWxlY3RPbkZvY3VzLnNlbGVjdCYmKGUuY2FyZXRQb3NpdGlvbk9uRm9jdXM9Qi5vcHRpb25zLmNhcmV0UG9zaXRpb25PbkZvY3VzLmRvTm9Gb3JjZUNhcmV0UG9zaXRpb24pLGUpfX0se2tleTpcIl9jYWxjdWxhdGVEZWNpbWFsUGxhY2VzT25Jbml0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fdmFsaWRhdGVEZWNpbWFsUGxhY2VzUmF3VmFsdWUoZSksZS5kZWNpbWFsUGxhY2VzU2hvd25PbkZvY3VzPT09Qi5vcHRpb25zLmRlY2ltYWxQbGFjZXNTaG93bk9uRm9jdXMudXNlRGVmYXVsdCYmKGUuZGVjaW1hbFBsYWNlc1Nob3duT25Gb2N1cz1lLmRlY2ltYWxQbGFjZXMpLGUuZGVjaW1hbFBsYWNlc1Nob3duT25CbHVyPT09Qi5vcHRpb25zLmRlY2ltYWxQbGFjZXNTaG93bk9uQmx1ci51c2VEZWZhdWx0JiYoZS5kZWNpbWFsUGxhY2VzU2hvd25PbkJsdXI9ZS5kZWNpbWFsUGxhY2VzKSxlLmRlY2ltYWxQbGFjZXNSYXdWYWx1ZT09PUIub3B0aW9ucy5kZWNpbWFsUGxhY2VzUmF3VmFsdWUudXNlRGVmYXVsdCYmKGUuZGVjaW1hbFBsYWNlc1Jhd1ZhbHVlPWUuZGVjaW1hbFBsYWNlcyk7dmFyIHQ9MDtlLnJhd1ZhbHVlRGl2aXNvciYmZS5yYXdWYWx1ZURpdmlzb3IhPT1CLm9wdGlvbnMucmF3VmFsdWVEaXZpc29yLm5vbmUmJih0PVN0cmluZyhlLnJhd1ZhbHVlRGl2aXNvcikubGVuZ3RoLTEpPDAmJih0PTApLGUuZGVjaW1hbFBsYWNlc1Jhd1ZhbHVlPU1hdGgubWF4KE1hdGgubWF4KGUuZGVjaW1hbFBsYWNlc1Nob3duT25CbHVyLGUuZGVjaW1hbFBsYWNlc1Nob3duT25Gb2N1cykrdCxOdW1iZXIoZS5vcmlnaW5hbERlY2ltYWxQbGFjZXNSYXdWYWx1ZSkrdCl9fSx7a2V5OlwiX2NhbGN1bGF0ZURlY2ltYWxQbGFjZXNPblVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10P3Q6bnVsbDt0aGlzLl92YWxpZGF0ZURlY2ltYWxQbGFjZXNSYXdWYWx1ZShlKSxNLmlzTnVsbChpKSYmTS50aHJvd0Vycm9yKFwiV2hlbiB1cGRhdGluZyB0aGUgc2V0dGluZ3MsIHRoZSBwcmV2aW91cyBvbmVzIHNob3VsZCBiZSBwYXNzZWQgYXMgYW4gYXJndW1lbnQuXCIpO3ZhciBuPVwiZGVjaW1hbFBsYWNlc1wiaW4gZTtpZihufHxcImRlY2ltYWxQbGFjZXNSYXdWYWx1ZVwiaW4gZXx8XCJkZWNpbWFsUGxhY2VzU2hvd25PbkZvY3VzXCJpbiBlfHxcImRlY2ltYWxQbGFjZXNTaG93bk9uQmx1clwiaW4gZXx8XCJyYXdWYWx1ZURpdmlzb3JcImluIGUpe24/KFwiZGVjaW1hbFBsYWNlc1Nob3duT25Gb2N1c1wiaW4gZSYmZS5kZWNpbWFsUGxhY2VzU2hvd25PbkZvY3VzIT09Qi5vcHRpb25zLmRlY2ltYWxQbGFjZXNTaG93bk9uRm9jdXMudXNlRGVmYXVsdHx8KGUuZGVjaW1hbFBsYWNlc1Nob3duT25Gb2N1cz1lLmRlY2ltYWxQbGFjZXMpLFwiZGVjaW1hbFBsYWNlc1Nob3duT25CbHVyXCJpbiBlJiZlLmRlY2ltYWxQbGFjZXNTaG93bk9uQmx1ciE9PUIub3B0aW9ucy5kZWNpbWFsUGxhY2VzU2hvd25PbkJsdXIudXNlRGVmYXVsdHx8KGUuZGVjaW1hbFBsYWNlc1Nob3duT25CbHVyPWUuZGVjaW1hbFBsYWNlcyksXCJkZWNpbWFsUGxhY2VzUmF3VmFsdWVcImluIGUmJmUuZGVjaW1hbFBsYWNlc1Jhd1ZhbHVlIT09Qi5vcHRpb25zLmRlY2ltYWxQbGFjZXNSYXdWYWx1ZS51c2VEZWZhdWx0fHwoZS5kZWNpbWFsUGxhY2VzUmF3VmFsdWU9ZS5kZWNpbWFsUGxhY2VzKSk6KE0uaXNVbmRlZmluZWQoZS5kZWNpbWFsUGxhY2VzU2hvd25PbkZvY3VzKSYmKGUuZGVjaW1hbFBsYWNlc1Nob3duT25Gb2N1cz1pLmRlY2ltYWxQbGFjZXNTaG93bk9uRm9jdXMpLE0uaXNVbmRlZmluZWQoZS5kZWNpbWFsUGxhY2VzU2hvd25PbkJsdXIpJiYoZS5kZWNpbWFsUGxhY2VzU2hvd25PbkJsdXI9aS5kZWNpbWFsUGxhY2VzU2hvd25PbkJsdXIpKTt2YXIgYT0wO2UucmF3VmFsdWVEaXZpc29yJiZlLnJhd1ZhbHVlRGl2aXNvciE9PUIub3B0aW9ucy5yYXdWYWx1ZURpdmlzb3Iubm9uZSYmKGE9U3RyaW5nKGUucmF3VmFsdWVEaXZpc29yKS5sZW5ndGgtMSk8MCYmKGE9MCksZS5kZWNpbWFsUGxhY2VzfHxlLmRlY2ltYWxQbGFjZXNSYXdWYWx1ZT9lLmRlY2ltYWxQbGFjZXNSYXdWYWx1ZT1NYXRoLm1heChNYXRoLm1heChlLmRlY2ltYWxQbGFjZXNTaG93bk9uQmx1cixlLmRlY2ltYWxQbGFjZXNTaG93bk9uRm9jdXMpK2EsTnVtYmVyKGUuZGVjaW1hbFBsYWNlc1Jhd1ZhbHVlKSthKTplLmRlY2ltYWxQbGFjZXNSYXdWYWx1ZT1NYXRoLm1heChNYXRoLm1heChlLmRlY2ltYWxQbGFjZXNTaG93bk9uQmx1cixlLmRlY2ltYWxQbGFjZXNTaG93bk9uRm9jdXMpK2EsTnVtYmVyKGkub3JpZ2luYWxEZWNpbWFsUGxhY2VzUmF3VmFsdWUpK2EpfX19LHtrZXk6XCJfY2FjaGVzVXN1YWxSZWd1bGFyRXhwcmVzc2lvbnNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpO2k9ZS5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIhPT1CLm9wdGlvbnMubmVnYXRpdmVTaWduQ2hhcmFjdGVyLmh5cGhlbj9cIihbLVxcXFxcIi5jb25jYXQoZS5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIsXCJdPylcIik6XCIoLT8pXCIsdC5hTmVnUmVnQXV0b1N0cmlwPWksZS5hbGxvd2VkQXV0b1N0cmlwPW5ldyBSZWdFeHAoXCJbXi0wMTIzNDU2Nzg5XFxcXFwiLmNvbmNhdChlLmRlY2ltYWxDaGFyYWN0ZXIsXCJdXCIpLFwiZ1wiKSxlLm51bVJlZ0F1dG9TdHJpcD1uZXcgUmVnRXhwKFwiXCIuY29uY2F0KGksXCIoPzpcXFxcXCIpLmNvbmNhdChlLmRlY2ltYWxDaGFyYWN0ZXIsXCI/KFswLTldK1xcXFxcIikuY29uY2F0KGUuZGVjaW1hbENoYXJhY3RlcixcIlswLTldKyl8KFswLTldKig/OlxcXFxcIikuY29uY2F0KGUuZGVjaW1hbENoYXJhY3RlcixcIlswLTldKik/KSlcIikpLGUuc3RyaXBSZWc9bmV3IFJlZ0V4cChcIl5cIi5jb25jYXQodC5hTmVnUmVnQXV0b1N0cmlwLFwiMCooWzAtOV0pXCIpKSxlLmZvcm11bGFDaGFycz1uZXcgUmVnRXhwKFwiWzAtOVwiLmNvbmNhdChlLmRlY2ltYWxDaGFyYWN0ZXIsXCIrXFxcXC0qLygpIF1cIikpfX0se2tleTpcIl9jb252ZXJ0T2xkT3B0aW9uc1RvTmV3T25lc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXthU2VwOlwiZGlnaXRHcm91cFNlcGFyYXRvclwiLG5TZXA6XCJzaG93T25seU51bWJlcnNPbkZvY3VzXCIsZEdyb3VwOlwiZGlnaXRhbEdyb3VwU3BhY2luZ1wiLGFEZWM6XCJkZWNpbWFsQ2hhcmFjdGVyXCIsYWx0RGVjOlwiZGVjaW1hbENoYXJhY3RlckFsdGVybmF0aXZlXCIsYVNpZ246XCJjdXJyZW5jeVN5bWJvbFwiLHBTaWduOlwiY3VycmVuY3lTeW1ib2xQbGFjZW1lbnRcIixwTmVnOlwibmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnRcIixhU3VmZml4Olwic3VmZml4VGV4dFwiLG9MaW1pdHM6XCJvdmVycmlkZU1pbk1heExpbWl0c1wiLHZNYXg6XCJtYXhpbXVtVmFsdWVcIix2TWluOlwibWluaW11bVZhbHVlXCIsbURlYzpcImRlY2ltYWxQbGFjZXNPdmVycmlkZVwiLGVEZWM6XCJkZWNpbWFsUGxhY2VzU2hvd25PbkZvY3VzXCIsc2NhbGVEZWNpbWFsOlwiZGVjaW1hbFBsYWNlc1Nob3duT25CbHVyXCIsYVN0b3I6XCJzYXZlVmFsdWVUb1Nlc3Npb25TdG9yYWdlXCIsbVJvdW5kOlwicm91bmRpbmdNZXRob2RcIixhUGFkOlwiYWxsb3dEZWNpbWFsUGFkZGluZ1wiLG5CcmFja2V0OlwibmVnYXRpdmVCcmFja2V0c1R5cGVPbkJsdXJcIix3RW1wdHk6XCJlbXB0eUlucHV0QmVoYXZpb3JcIixsWmVybzpcImxlYWRpbmdaZXJvXCIsYUZvcm06XCJmb3JtYXRPblBhZ2VMb2FkXCIsc051bWJlcjpcInNlbGVjdE51bWJlck9ubHlcIixhbkRlZmF1bHQ6XCJkZWZhdWx0VmFsdWVPdmVycmlkZVwiLHVuU2V0T25TdWJtaXQ6XCJ1bmZvcm1hdE9uU3VibWl0XCIsb3V0cHV0VHlwZTpcIm91dHB1dEZvcm1hdFwiLGRlYnVnOlwic2hvd1dhcm5pbmdzXCIsYWxsb3dEZWNpbWFsUGFkZGluZzohMCxhbHdheXNBbGxvd0RlY2ltYWxDaGFyYWN0ZXI6ITAsY2FyZXRQb3NpdGlvbk9uRm9jdXM6ITAsY3JlYXRlTG9jYWxMaXN0OiEwLGN1cnJlbmN5U3ltYm9sOiEwLGN1cnJlbmN5U3ltYm9sUGxhY2VtZW50OiEwLGRlY2ltYWxDaGFyYWN0ZXI6ITAsZGVjaW1hbENoYXJhY3RlckFsdGVybmF0aXZlOiEwLGRlY2ltYWxQbGFjZXM6ITAsZGVjaW1hbFBsYWNlc1Jhd1ZhbHVlOiEwLGRlY2ltYWxQbGFjZXNTaG93bk9uQmx1cjohMCxkZWNpbWFsUGxhY2VzU2hvd25PbkZvY3VzOiEwLGRlZmF1bHRWYWx1ZU92ZXJyaWRlOiEwLGRpZ2l0YWxHcm91cFNwYWNpbmc6ITAsZGlnaXRHcm91cFNlcGFyYXRvcjohMCxkaXZpc29yV2hlblVuZm9jdXNlZDohMCxlbXB0eUlucHV0QmVoYXZpb3I6ITAsZXZlbnRCdWJibGVzOiEwLGV2ZW50SXNDYW5jZWxhYmxlOiEwLGZhaWxPblVua25vd25PcHRpb246ITAsZm9ybWF0T25QYWdlTG9hZDohMCxmb3JtdWxhTW9kZTohMCxoaXN0b3J5U2l6ZTohMCxpc0NhbmNlbGxhYmxlOiEwLGxlYWRpbmdaZXJvOiEwLG1heGltdW1WYWx1ZTohMCxtaW5pbXVtVmFsdWU6ITAsbW9kaWZ5VmFsdWVPbldoZWVsOiEwLG5lZ2F0aXZlQnJhY2tldHNUeXBlT25CbHVyOiEwLG5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50OiEwLG5lZ2F0aXZlU2lnbkNoYXJhY3RlcjohMCxub0V2ZW50TGlzdGVuZXJzOiEwLG9uSW52YWxpZFBhc3RlOiEwLG91dHB1dEZvcm1hdDohMCxvdmVycmlkZU1pbk1heExpbWl0czohMCxwb3NpdGl2ZVNpZ25DaGFyYWN0ZXI6ITAscmF3VmFsdWVEaXZpc29yOiEwLHJlYWRPbmx5OiEwLHJvdW5kaW5nTWV0aG9kOiEwLHNhdmVWYWx1ZVRvU2Vzc2lvblN0b3JhZ2U6ITAsc2VsZWN0TnVtYmVyT25seTohMCxzZWxlY3RPbkZvY3VzOiEwLHNlcmlhbGl6ZVNwYWNlczohMCxzaG93T25seU51bWJlcnNPbkZvY3VzOiEwLHNob3dQb3NpdGl2ZVNpZ246ITAsc2hvd1dhcm5pbmdzOiEwLHN0eWxlUnVsZXM6ITAsc3VmZml4VGV4dDohMCxzeW1ib2xXaGVuVW5mb2N1c2VkOiEwLHVuZm9ybWF0T25Ib3ZlcjohMCx1bmZvcm1hdE9uU3VibWl0OiEwLHZhbHVlc1RvU3RyaW5nczohMCx3YXRjaEV4dGVybmFsQ2hhbmdlczohMCx3aGVlbE9uOiEwLHdoZWVsU3RlcDohMCxhbGxvd2VkQXV0b1N0cmlwOiEwLGZvcm11bGFDaGFyczohMCxpc05lZ2F0aXZlU2lnbkFsbG93ZWQ6ITAsaXNQb3NpdGl2ZVNpZ25BbGxvd2VkOiEwLG1JbnROZWc6ITAsbUludFBvczohMCxudW1SZWdBdXRvU3RyaXA6ITAsb3JpZ2luYWxEZWNpbWFsUGxhY2VzOiEwLG9yaWdpbmFsRGVjaW1hbFBsYWNlc1Jhd1ZhbHVlOiEwLHN0cmlwUmVnOiEwfTtmb3IodmFyIGkgaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxpKSl7aWYoITA9PT10W2ldKWNvbnRpbnVlO09iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpPyhNLndhcm5pbmcoXCJZb3UgYXJlIHVzaW5nIHRoZSBkZXByZWNhdGVkIG9wdGlvbiBuYW1lICdcIi5jb25jYXQoaSxcIicuIFBsZWFzZSB1c2UgJ1wiKS5jb25jYXQodFtpXSxcIicgaW5zdGVhZCBmcm9tIG5vdyBvbi4gVGhlIG9sZCBvcHRpb24gbmFtZSB3aWxsIGJlIGRyb3BwZWQgdmVyeSBzb29u4oSiLlwiKSwhMCksZVt0W2ldXT1lW2ldLGRlbGV0ZSBlW2ldKTplLmZhaWxPblVua25vd25PcHRpb24mJk0udGhyb3dFcnJvcihcIk9wdGlvbiBuYW1lICdcIi5jb25jYXQoaSxcIicgaXMgdW5rbm93bi4gUGxlYXNlIGZpeCB0aGUgb3B0aW9ucyBwYXNzZWQgdG8gYXV0b051bWVyaWNcIikpfVwibURlY1wiaW4gZSYmTS53YXJuaW5nKFwiVGhlIG9sZCBgbURlY2Agb3B0aW9uIGhhcyBiZWVuIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgbW9yZSBhY2N1cmF0ZSBvcHRpb25zIDsgYGRlY2ltYWxQbGFjZXNgLCBgZGVjaW1hbFBsYWNlc1Jhd1ZhbHVlYCwgYGRlY2ltYWxQbGFjZXNTaG93bk9uRm9jdXNgIGFuZCBgZGVjaW1hbFBsYWNlc1Nob3duT25CbHVyYC5cIiwhMCl9fSx7a2V5OlwiX3NldE5lZ2F0aXZlUG9zaXRpdmVTaWduUGVybWlzc2lvbnNcIix2YWx1ZTpmdW5jdGlvbihlKXtlLmlzTmVnYXRpdmVTaWduQWxsb3dlZD1lLm1pbmltdW1WYWx1ZTwwLGUuaXNQb3NpdGl2ZVNpZ25BbGxvd2VkPTA8PWUubWF4aW11bVZhbHVlfX0se2tleTpcIl90b051bWVyaWNWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGk7cmV0dXJuIE0uaXNOdW1iZXIoTnVtYmVyKGUpKT9pPU0uc2NpZW50aWZpY1RvRGVjaW1hbChlKTooaT10aGlzLl9jb252ZXJ0VG9OdW1lcmljU3RyaW5nKGUudG9TdHJpbmcoKSx0KSxNLmlzTnVtYmVyKE51bWJlcihpKSl8fChNLndhcm5pbmcoJ1RoZSBnaXZlbiB2YWx1ZSBcIicuY29uY2F0KGUsJ1wiIGNhbm5vdCBiZSBjb252ZXJ0ZWQgdG8gYSBudW1lcmljIG9uZSBhbmQgdGhlcmVmb3JlIGNhbm5vdCBiZSB1c2VkIGFwcHJvcHJpYXRlbHkuJyksdC5zaG93V2FybmluZ3MpLGk9TmFOKSksaX19LHtrZXk6XCJfY2hlY2tJZkluUmFuZ2VcIix2YWx1ZTpmdW5jdGlvbihlLHQsaSl7dmFyIG49TS5wYXJzZVN0cihlKTtyZXR1cm4tMTxNLnRlc3RNaW5NYXgodCxuKSYmTS50ZXN0TWluTWF4KGksbik8MX19LHtrZXk6XCJfc2hvdWxkU2tpcEV2ZW50S2V5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9TS5pc0luQXJyYXkoZSxkLmtleU5hbWUuX2FsbEZuS2V5cyksaT1lPT09ZC5rZXlOYW1lLk9TTGVmdHx8ZT09PWQua2V5TmFtZS5PU1JpZ2h0LG49ZT09PWQua2V5TmFtZS5Db250ZXh0TWVudSxhPU0uaXNJbkFycmF5KGUsZC5rZXlOYW1lLl9zb21lTm9uUHJpbnRhYmxlS2V5cykscj1lPT09ZC5rZXlOYW1lLk51bUxvY2t8fGU9PT1kLmtleU5hbWUuU2Nyb2xsTG9ja3x8ZT09PWQua2V5TmFtZS5JbnNlcnR8fGU9PT1kLmtleU5hbWUuQ29tbWFuZCxzPWU9PT1kLmtleU5hbWUuVW5pZGVudGlmaWVkO3JldHVybiB0fHxpfHxufHxhfHxzfHxyfX0se2tleTpcIl9zZXJpYWxpemVcIix2YWx1ZTpmdW5jdGlvbihlLHQsaSxuLGEpe3ZhciByLHM9dGhpcyxvPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dCYmdCxsPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09aT9pOlwidW5mb3JtYXR0ZWRcIix1PTM8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09bj9uOlwiK1wiLGM9NDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hP2E6bnVsbCxoPVtdO3JldHVyblwib2JqZWN0XCI9PT13KGUpJiZcImZvcm1cIj09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZS5lbGVtZW50cykuZm9yRWFjaChmdW5jdGlvbih0KXtpZih0Lm5hbWUmJiF0LmRpc2FibGVkJiYtMT09PVtcImZpbGVcIixcInJlc2V0XCIsXCJzdWJtaXRcIixcImJ1dHRvblwiXS5pbmRleE9mKHQudHlwZSkpaWYoXCJzZWxlY3QtbXVsdGlwbGVcIj09PXQudHlwZSlBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0Lm9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5zZWxlY3RlZCYmKG8/aC5wdXNoKHtuYW1lOnQubmFtZSx2YWx1ZTplLnZhbHVlfSk6aC5wdXNoKFwiXCIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudCh0Lm5hbWUpLFwiPVwiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUudmFsdWUpKSkpfSk7ZWxzZSBpZigtMT09PVtcImNoZWNrYm94XCIsXCJyYWRpb1wiXS5pbmRleE9mKHQudHlwZSl8fHQuY2hlY2tlZCl7dmFyIGUsaTtpZihzLmlzTWFuYWdlZEJ5QXV0b051bWVyaWModCkpc3dpdGNoKGwpe2Nhc2VcInVuZm9ybWF0dGVkXCI6aT1zLmdldEF1dG9OdW1lcmljRWxlbWVudCh0KSxNLmlzTnVsbChpKXx8KGU9cy51bmZvcm1hdCh0LGkuZ2V0U2V0dGluZ3MoKSkpO2JyZWFrO2Nhc2VcImxvY2FsaXplZFwiOmlmKGk9cy5nZXRBdXRvTnVtZXJpY0VsZW1lbnQodCksIU0uaXNOdWxsKGkpKXt2YXIgbj1NLmNsb25lT2JqZWN0KGkuZ2V0U2V0dGluZ3MoKSk7TS5pc051bGwoYyl8fChuLm91dHB1dEZvcm1hdD1jKSxlPXMubG9jYWxpemUodCxuKX1icmVhaztjYXNlXCJmb3JtYXR0ZWRcIjpkZWZhdWx0OmU9dC52YWx1ZX1lbHNlIGU9dC52YWx1ZTtNLmlzVW5kZWZpbmVkKGUpJiZNLnRocm93RXJyb3IoXCJUaGlzIGVycm9yIHNob3VsZCBuZXZlciBiZSBoaXQuIElmIGl0IGhhcywgc29tZXRoaW5nIHJlYWxseSB3cm9uZyBoYXBwZW5lZCFcIiksbz9oLnB1c2goe25hbWU6dC5uYW1lLHZhbHVlOmV9KTpoLnB1c2goXCJcIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHQubmFtZSksXCI9XCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZSkpKX19KSxvP3I9aDoocj1oLmpvaW4oXCImXCIpLFwiK1wiPT09dSYmKHI9ci5yZXBsYWNlKC8lMjAvZyxcIitcIikpKSxyfX0se2tleTpcIl9zZXJpYWxpemVOdW1lcmljU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQ/dDpcIitcIjtyZXR1cm4gdGhpcy5fc2VyaWFsaXplKGUsITEsXCJ1bmZvcm1hdHRlZFwiLGkpfX0se2tleTpcIl9zZXJpYWxpemVGb3JtYXR0ZWRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90OlwiK1wiO3JldHVybiB0aGlzLl9zZXJpYWxpemUoZSwhMSxcImZvcm1hdHRlZFwiLGkpfX0se2tleTpcIl9zZXJpYWxpemVMb2NhbGl6ZWRcIix2YWx1ZTpmdW5jdGlvbihlLHQsaSl7dmFyIG49MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10P3Q6XCIrXCIsYT0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWk/aTpudWxsO3JldHVybiB0aGlzLl9zZXJpYWxpemUoZSwhMSxcImxvY2FsaXplZFwiLG4sYSl9fSx7a2V5OlwiX3NlcmlhbGl6ZU51bWVyaWNTdHJpbmdBcnJheVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10P3Q6XCIrXCI7cmV0dXJuIHRoaXMuX3NlcmlhbGl6ZShlLCEwLFwidW5mb3JtYXR0ZWRcIixpKX19LHtrZXk6XCJfc2VyaWFsaXplRm9ybWF0dGVkQXJyYXlcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90OlwiK1wiO3JldHVybiB0aGlzLl9zZXJpYWxpemUoZSwhMCxcImZvcm1hdHRlZFwiLGkpfX0se2tleTpcIl9zZXJpYWxpemVMb2NhbGl6ZWRBcnJheVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxpKXt2YXIgbj0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQ/dDpcIitcIixhPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09aT9pOm51bGw7cmV0dXJuIHRoaXMuX3NlcmlhbGl6ZShlLCEwLFwibG9jYWxpemVkXCIsbixhKX19XSxQKChlPUIpLnByb3RvdHlwZSxbe2tleTpcIl9zYXZlSW5pdGlhbFZhbHVlc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuaW5pdGlhbFZhbHVlSHRtbEF0dHJpYnV0ZT1NLnNjaWVudGlmaWNUb0RlY2ltYWwodGhpcy5kb21FbGVtZW50LmdldEF0dHJpYnV0ZShcInZhbHVlXCIpKSxNLmlzTnVsbCh0aGlzLmluaXRpYWxWYWx1ZUh0bWxBdHRyaWJ1dGUpJiYodGhpcy5pbml0aWFsVmFsdWVIdG1sQXR0cmlidXRlPVwiXCIpLHRoaXMuaW5pdGlhbFZhbHVlPWUsTS5pc051bGwodGhpcy5pbml0aWFsVmFsdWUpJiYodGhpcy5pbml0aWFsVmFsdWU9XCJcIil9fSx7a2V5OlwiX2NyZWF0ZUV2ZW50TGlzdGVuZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZm9ybXVsYU1vZGU9ITEsdGhpcy5fb25Gb2N1c0luRnVuYz1mdW5jdGlvbihlKXt0Ll9vbkZvY3VzSW4oZSl9LHRoaXMuX29uRm9jdXNJbkFuZE1vdXNlRW50ZXJGdW5jPWZ1bmN0aW9uKGUpe3QuX29uRm9jdXNJbkFuZE1vdXNlRW50ZXIoZSl9LHRoaXMuX29uRm9jdXNGdW5jPWZ1bmN0aW9uKCl7dC5fb25Gb2N1cygpfSx0aGlzLl9vbktleWRvd25GdW5jPWZ1bmN0aW9uKGUpe3QuX29uS2V5ZG93bihlKX0sdGhpcy5fb25LZXlwcmVzc0Z1bmM9ZnVuY3Rpb24oZSl7dC5fb25LZXlwcmVzcyhlKX0sdGhpcy5fb25LZXl1cEZ1bmM9ZnVuY3Rpb24oZSl7dC5fb25LZXl1cChlKX0sdGhpcy5fb25Gb2N1c091dEFuZE1vdXNlTGVhdmVGdW5jPWZ1bmN0aW9uKGUpe3QuX29uRm9jdXNPdXRBbmRNb3VzZUxlYXZlKGUpfSx0aGlzLl9vblBhc3RlRnVuYz1mdW5jdGlvbihlKXt0Ll9vblBhc3RlKGUpfSx0aGlzLl9vbldoZWVsRnVuYz1mdW5jdGlvbihlKXt0Ll9vbldoZWVsKGUpfSx0aGlzLl9vbkRyb3BGdW5jPWZ1bmN0aW9uKGUpe3QuX29uRHJvcChlKX0sdGhpcy5fb25LZXlkb3duR2xvYmFsRnVuYz1mdW5jdGlvbihlKXt0Ll9vbktleWRvd25HbG9iYWwoZSl9LHRoaXMuX29uS2V5dXBHbG9iYWxGdW5jPWZ1bmN0aW9uKGUpe3QuX29uS2V5dXBHbG9iYWwoZSl9LHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNpblwiLHRoaXMuX29uRm9jdXNJbkZ1bmMsITEpLHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIix0aGlzLl9vbkZvY3VzSW5BbmRNb3VzZUVudGVyRnVuYywhMSksdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHRoaXMuX29uRm9jdXNGdW5jLCExKSx0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIix0aGlzLl9vbkZvY3VzSW5BbmRNb3VzZUVudGVyRnVuYywhMSksdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5fb25LZXlkb3duRnVuYywhMSksdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLHRoaXMuX29uS2V5cHJlc3NGdW5jLCExKSx0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsdGhpcy5fb25LZXl1cEZ1bmMsITEpLHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLHRoaXMuX29uRm9jdXNPdXRBbmRNb3VzZUxlYXZlRnVuYywhMSksdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsdGhpcy5fb25Gb2N1c091dEFuZE1vdXNlTGVhdmVGdW5jLCExKSx0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBhc3RlXCIsdGhpcy5fb25QYXN0ZUZ1bmMsITEpLHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIix0aGlzLl9vbldoZWVsRnVuYywhMSksdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsdGhpcy5fb25Ecm9wRnVuYywhMSksdGhpcy5fc2V0dXBGb3JtTGlzdGVuZXIoKSx0aGlzLmhhc0V2ZW50TGlzdGVuZXJzPSEwLEIuX2RvZXNHbG9iYWxMaXN0RXhpc3RzKCl8fChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMuX29uS2V5ZG93bkdsb2JhbEZ1bmMsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLHRoaXMuX29uS2V5dXBHbG9iYWxGdW5jLCExKSl9fSx7a2V5OlwiX3JlbW92ZUV2ZW50TGlzdGVuZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3VzaW5cIix0aGlzLl9vbkZvY3VzSW5GdW5jLCExKSx0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsdGhpcy5fb25Gb2N1c0luQW5kTW91c2VFbnRlckZ1bmMsITEpLHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9jdXNcIix0aGlzLl9vbkZvY3VzRnVuYywhMSksdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsdGhpcy5fb25Gb2N1c0luQW5kTW91c2VFbnRlckZ1bmMsITEpLHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmx1clwiLHRoaXMuX29uRm9jdXNPdXRBbmRNb3VzZUxlYXZlRnVuYywhMSksdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsdGhpcy5fb25Gb2N1c091dEFuZE1vdXNlTGVhdmVGdW5jLCExKSx0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLl9vbktleWRvd25GdW5jLCExKSx0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsdGhpcy5fb25LZXlwcmVzc0Z1bmMsITEpLHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIix0aGlzLl9vbktleXVwRnVuYywhMSksdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwYXN0ZVwiLHRoaXMuX29uUGFzdGVGdW5jLCExKSx0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsdGhpcy5fb25XaGVlbEZ1bmMsITEpLHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHJvcFwiLHRoaXMuX29uRHJvcEZ1bmMsITEpLHRoaXMuX3JlbW92ZUZvcm1MaXN0ZW5lcigpLHRoaXMuaGFzRXZlbnRMaXN0ZW5lcnM9ITEsZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLl9vbktleWRvd25HbG9iYWxGdW5jLCExKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIix0aGlzLl9vbktleXVwR2xvYmFsRnVuYywhMSl9fSx7a2V5OlwiX3VwZGF0ZUV2ZW50TGlzdGVuZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNldHRpbmdzLm5vRXZlbnRMaXN0ZW5lcnN8fHRoaXMuaGFzRXZlbnRMaXN0ZW5lcnN8fHRoaXMuX2NyZWF0ZUV2ZW50TGlzdGVuZXJzKCksdGhpcy5zZXR0aW5ncy5ub0V2ZW50TGlzdGVuZXJzJiZ0aGlzLmhhc0V2ZW50TGlzdGVuZXJzJiZ0aGlzLl9yZW1vdmVFdmVudExpc3RlbmVycygpfX0se2tleTpcIl9zZXR1cEZvcm1MaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztNLmlzTnVsbCh0aGlzLnBhcmVudEZvcm0pfHwodGhpcy5fb25Gb3JtU3VibWl0RnVuYz1mdW5jdGlvbigpe2UuX29uRm9ybVN1Ym1pdCgpfSx0aGlzLl9vbkZvcm1SZXNldEZ1bmM9ZnVuY3Rpb24oKXtlLl9vbkZvcm1SZXNldCgpfSx0aGlzLl9oYXNQYXJlbnRGb3JtQ291bnRlcigpP3RoaXMuX2luY3JlbWVudFBhcmVudEZvcm1Db3VudGVyKCk6KHRoaXMuX2luaXRpYWxpemVGb3JtQ291bnRlclRvT25lKCksdGhpcy5wYXJlbnRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIix0aGlzLl9vbkZvcm1TdWJtaXRGdW5jLCExKSx0aGlzLnBhcmVudEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInJlc2V0XCIsdGhpcy5fb25Gb3JtUmVzZXRGdW5jLCExKSx0aGlzLl9zdG9yZUZvcm1IYW5kbGVyRnVuY3Rpb24oKSkpfX0se2tleTpcIl9yZW1vdmVGb3JtTGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbigpe2lmKCFNLmlzTnVsbCh0aGlzLnBhcmVudEZvcm0pKXt2YXIgZT10aGlzLl9nZXRQYXJlbnRGb3JtQ291bnRlcigpOzE9PT1lPyh0aGlzLnBhcmVudEZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLHRoaXMuX2dldEZvcm1IYW5kbGVyRnVuY3Rpb24oKS5zdWJtaXRGbiwhMSksdGhpcy5wYXJlbnRGb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNldFwiLHRoaXMuX2dldEZvcm1IYW5kbGVyRnVuY3Rpb24oKS5yZXNldEZuLCExKSx0aGlzLl9yZW1vdmVGb3JtRGF0YVNldEluZm8oKSk6MTxlP3RoaXMuX2RlY3JlbWVudFBhcmVudEZvcm1Db3VudGVyKCk6TS50aHJvd0Vycm9yKFwiVGhlIEF1dG9OdW1lcmljIG9iamVjdCBjb3VudCBvbiB0aGUgZm9ybSBpcyBpbmNvaGVyZW50LlwiKX19fSx7a2V5OlwiX2hhc1BhcmVudEZvcm1Db3VudGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cImFuQ291bnRcImluIHRoaXMucGFyZW50Rm9ybS5kYXRhc2V0fX0se2tleTpcIl9nZXRQYXJlbnRGb3JtQ291bnRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE51bWJlcih0aGlzLnBhcmVudEZvcm0uZGF0YXNldC5hbkNvdW50KX19LHtrZXk6XCJfaW5pdGlhbGl6ZUZvcm1Db3VudGVyVG9PbmVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTpudWxsO3RoaXMuX2dldEZvcm1FbGVtZW50KHQpLmRhdGFzZXQuYW5Db3VudD0xfX0se2tleTpcIl9pbmNyZW1lbnRQYXJlbnRGb3JtQ291bnRlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZT9lOm51bGw7dGhpcy5fZ2V0Rm9ybUVsZW1lbnQodCkuZGF0YXNldC5hbkNvdW50Kyt9fSx7a2V5OlwiX2RlY3JlbWVudFBhcmVudEZvcm1Db3VudGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBhcmVudEZvcm0uZGF0YXNldC5hbkNvdW50LS19fSx7a2V5OlwiX2hhc0Zvcm1IYW5kbGVyRnVuY3Rpb25cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTpudWxsO3JldHVyblwiYW5Gb3JtSGFuZGxlclwiaW4gdGhpcy5fZ2V0Rm9ybUVsZW1lbnQodCkuZGF0YXNldH19LHtrZXk6XCJfZ2V0Rm9ybUVsZW1lbnRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTpudWxsO3JldHVybiBNLmlzTnVsbCh0KT90aGlzLnBhcmVudEZvcm06dH19LHtrZXk6XCJfc3RvcmVGb3JtSGFuZGxlckZ1bmN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6bnVsbDt0aGlzLmNvbnN0cnVjdG9yLl9kb2VzRm9ybUhhbmRsZXJMaXN0RXhpc3RzKCl8fHRoaXMuY29uc3RydWN0b3IuX2NyZWF0ZUZvcm1IYW5kbGVyTGlzdCgpO3ZhciBpPU0ucmFuZG9tU3RyaW5nKCk7dGhpcy5fZ2V0Rm9ybUVsZW1lbnQodCkuZGF0YXNldC5hbkZvcm1IYW5kbGVyPWksd2luZG93LmFORm9ybUhhbmRsZXJNYXAuc2V0KGkse3N1Ym1pdEZuOnRoaXMuX29uRm9ybVN1Ym1pdEZ1bmMscmVzZXRGbjp0aGlzLl9vbkZvcm1SZXNldEZ1bmN9KX19LHtrZXk6XCJfZ2V0Rm9ybUhhbmRsZXJLZXlcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2hhc0Zvcm1IYW5kbGVyRnVuY3Rpb24oKXx8TS50aHJvd0Vycm9yKFwiVW5hYmxlIHRvIHJldHJpZXZlIHRoZSBmb3JtIGhhbmRsZXIgbmFtZVwiKTt2YXIgZT10aGlzLnBhcmVudEZvcm0uZGF0YXNldC5hbkZvcm1IYW5kbGVyO3JldHVyblwiXCI9PT1lJiZNLnRocm93RXJyb3IoXCJUaGUgZm9ybSBoYW5kbGVyIG5hbWUgaXMgaW52YWxpZFwiKSxlfX0se2tleTpcIl9nZXRGb3JtSGFuZGxlckZ1bmN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9nZXRGb3JtSGFuZGxlcktleSgpO3JldHVybiB3aW5kb3cuYU5Gb3JtSGFuZGxlck1hcC5nZXQoZSl9fSx7a2V5OlwiX3JlbW92ZUZvcm1EYXRhU2V0SW5mb1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fZGVjcmVtZW50UGFyZW50Rm9ybUNvdW50ZXIoKSx3aW5kb3cuYU5Gb3JtSGFuZGxlck1hcC5kZWxldGUodGhpcy5fZ2V0Rm9ybUhhbmRsZXJLZXkoKSksdGhpcy5wYXJlbnRGb3JtLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtYW4tY291bnRcIiksdGhpcy5wYXJlbnRGb3JtLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtYW4tZm9ybS1oYW5kbGVyXCIpfX0se2tleTpcIl9zZXRXcml0ZVBlcm1pc3Npb25zXCIsdmFsdWU6ZnVuY3Rpb24oZSl7MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lJiZlJiZ0aGlzLmRvbUVsZW1lbnQucmVhZE9ubHl8fHRoaXMuc2V0dGluZ3MucmVhZE9ubHk/dGhpcy5fc2V0UmVhZE9ubHkoKTp0aGlzLl9zZXRSZWFkV3JpdGUoKX19LHtrZXk6XCJfc2V0UmVhZE9ubHlcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaXNJbnB1dEVsZW1lbnQ/dGhpcy5kb21FbGVtZW50LnJlYWRPbmx5PSEwOnRoaXMuZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIiwhMSl9fSx7a2V5OlwiX3NldFJlYWRXcml0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pc0lucHV0RWxlbWVudD90aGlzLmRvbUVsZW1lbnQucmVhZE9ubHk9ITE6dGhpcy5kb21FbGVtZW50LnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLCEwKX19LHtrZXk6XCJfYWRkV2F0Y2hlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZighTS5pc1VuZGVmaW5lZCh0aGlzLmdldHRlclNldHRlcikpe3ZhciBlPXRoaXMuZ2V0dGVyU2V0dGVyLGk9ZS5zZXQsbj1lLmdldDtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5kb21FbGVtZW50LHRoaXMuYXR0cmlidXRlVG9XYXRjaCx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuLmNhbGwodC5kb21FbGVtZW50KX0sc2V0OmZ1bmN0aW9uKGUpe2kuY2FsbCh0LmRvbUVsZW1lbnQsZSksdC5zZXR0aW5ncy53YXRjaEV4dGVybmFsQ2hhbmdlcyYmIXQuaW50ZXJuYWxNb2RpZmljYXRpb24mJnQuc2V0KGUpfX0pfX19LHtrZXk6XCJfcmVtb3ZlV2F0Y2hlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZighTS5pc1VuZGVmaW5lZCh0aGlzLmdldHRlclNldHRlcikpe3ZhciBlPXRoaXMuZ2V0dGVyU2V0dGVyLGk9ZS5zZXQsbj1lLmdldDtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5kb21FbGVtZW50LHRoaXMuYXR0cmlidXRlVG9XYXRjaCx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuLmNhbGwodC5kb21FbGVtZW50KX0sc2V0OmZ1bmN0aW9uKGUpe2kuY2FsbCh0LmRvbUVsZW1lbnQsZSl9fSl9fX0se2tleTpcIl9nZXRBdHRyaWJ1dGVUb1dhdGNoXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZTtpZih0aGlzLmlzSW5wdXRFbGVtZW50KWU9XCJ2YWx1ZVwiO2Vsc2V7dmFyIHQ9dGhpcy5kb21FbGVtZW50Lm5vZGVUeXBlO3Q9PT1Ob2RlLkVMRU1FTlRfTk9ERXx8dD09PU5vZGUuRE9DVU1FTlRfTk9ERXx8dD09PU5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERT9lPVwidGV4dENvbnRlbnRcIjp0PT09Tm9kZS5URVhUX05PREUmJihlPVwibm9kZVZhbHVlXCIpfXJldHVybiBlfX0se2tleTpcIl9oaXN0b3J5VGFibGVBZGRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPTA9PT10aGlzLmhpc3RvcnlUYWJsZS5sZW5ndGg7aWYoZXx8dGhpcy5yYXdWYWx1ZSE9PXRoaXMuX2hpc3RvcnlUYWJsZUN1cnJlbnRWYWx1ZVVzZWQoKSl7dmFyIHQ9ITA7aWYoIWUpe3ZhciBpPXRoaXMuaGlzdG9yeVRhYmxlSW5kZXgrMTtpPHRoaXMuaGlzdG9yeVRhYmxlLmxlbmd0aCYmdGhpcy5yYXdWYWx1ZT09PXRoaXMuaGlzdG9yeVRhYmxlW2ldLnZhbHVlP3Q9ITE6TS5hcnJheVRyaW0odGhpcy5oaXN0b3J5VGFibGUsdGhpcy5oaXN0b3J5VGFibGVJbmRleCsxKX1pZih0aGlzLmhpc3RvcnlUYWJsZUluZGV4KyssdCl7dmFyIG49TS5nZXRFbGVtZW50U2VsZWN0aW9uKHRoaXMuZG9tRWxlbWVudCk7dGhpcy5zZWxlY3Rpb25TdGFydD1uLnN0YXJ0LHRoaXMuc2VsZWN0aW9uRW5kPW4uZW5kLHRoaXMuaGlzdG9yeVRhYmxlLnB1c2goe3ZhbHVlOnRoaXMucmF3VmFsdWUsc3RhcnQ6dGhpcy5zZWxlY3Rpb25TdGFydCsxLGVuZDp0aGlzLnNlbGVjdGlvbkVuZCsxfSksMTx0aGlzLmhpc3RvcnlUYWJsZS5sZW5ndGgmJih0aGlzLmhpc3RvcnlUYWJsZVt0aGlzLmhpc3RvcnlUYWJsZUluZGV4LTFdLnN0YXJ0PXRoaXMuc2VsZWN0aW9uU3RhcnQsdGhpcy5oaXN0b3J5VGFibGVbdGhpcy5oaXN0b3J5VGFibGVJbmRleC0xXS5lbmQ9dGhpcy5zZWxlY3Rpb25FbmQpfXRoaXMuaGlzdG9yeVRhYmxlLmxlbmd0aD50aGlzLnNldHRpbmdzLmhpc3RvcnlTaXplJiZ0aGlzLl9oaXN0b3J5VGFibGVGb3JnZXQoKX19fSx7a2V5OlwiX2hpc3RvcnlUYWJsZVVuZG9PclJlZG9cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdDtpZigwPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWUmJiFlPyh0PXRoaXMuaGlzdG9yeVRhYmxlSW5kZXgrMTx0aGlzLmhpc3RvcnlUYWJsZS5sZW5ndGgpJiZ0aGlzLmhpc3RvcnlUYWJsZUluZGV4Kys6KHQ9MDx0aGlzLmhpc3RvcnlUYWJsZUluZGV4KSYmdGhpcy5oaXN0b3J5VGFibGVJbmRleC0tLHQpe3ZhciBpPXRoaXMuaGlzdG9yeVRhYmxlW3RoaXMuaGlzdG9yeVRhYmxlSW5kZXhdO3RoaXMuc2V0KGkudmFsdWUsbnVsbCwhMSksTS5zZXRFbGVtZW50U2VsZWN0aW9uKHRoaXMuZG9tRWxlbWVudCxpLnN0YXJ0LGkuZW5kKX19fSx7a2V5OlwiX2hpc3RvcnlUYWJsZVVuZG9cIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2hpc3RvcnlUYWJsZVVuZG9PclJlZG8oITApfX0se2tleTpcIl9oaXN0b3J5VGFibGVSZWRvXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9oaXN0b3J5VGFibGVVbmRvT3JSZWRvKCExKX19LHtrZXk6XCJfaGlzdG9yeVRhYmxlRm9yZ2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZT9lOjEsaT1bXSxuPTA7bjx0O24rKylpLnB1c2godGhpcy5oaXN0b3J5VGFibGUuc2hpZnQoKSksdGhpcy5oaXN0b3J5VGFibGVJbmRleC0tLHRoaXMuaGlzdG9yeVRhYmxlSW5kZXg8MCYmKHRoaXMuaGlzdG9yeVRhYmxlSW5kZXg9MCk7cmV0dXJuIDE9PT1pLmxlbmd0aD9pWzBdOml9fSx7a2V5OlwiX2hpc3RvcnlUYWJsZUN1cnJlbnRWYWx1ZVVzZWRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaGlzdG9yeVRhYmxlSW5kZXg7cmV0dXJuIGU8MCYmKGU9MCksTS5pc1VuZGVmaW5lZE9yTnVsbE9yRW1wdHkodGhpcy5oaXN0b3J5VGFibGVbZV0pP1wiXCI6dGhpcy5oaXN0b3J5VGFibGVbZV0udmFsdWV9fSx7a2V5OlwiX3BhcnNlU3R5bGVSdWxlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcztNLmlzVW5kZWZpbmVkT3JOdWxsT3JFbXB0eSh0aGlzLnNldHRpbmdzLnN0eWxlUnVsZXMpfHxcIlwiPT09dGhpcy5yYXdWYWx1ZXx8KE0uaXNVbmRlZmluZWRPck51bGxPckVtcHR5KHRoaXMuc2V0dGluZ3Muc3R5bGVSdWxlcy5wb3NpdGl2ZSl8fCgwPD10aGlzLnJhd1ZhbHVlP3RoaXMuX2FkZENTU0NsYXNzKHRoaXMuc2V0dGluZ3Muc3R5bGVSdWxlcy5wb3NpdGl2ZSk6dGhpcy5fcmVtb3ZlQ1NTQ2xhc3ModGhpcy5zZXR0aW5ncy5zdHlsZVJ1bGVzLnBvc2l0aXZlKSksTS5pc1VuZGVmaW5lZE9yTnVsbE9yRW1wdHkodGhpcy5zZXR0aW5ncy5zdHlsZVJ1bGVzLm5lZ2F0aXZlKXx8KHRoaXMucmF3VmFsdWU8MD90aGlzLl9hZGRDU1NDbGFzcyh0aGlzLnNldHRpbmdzLnN0eWxlUnVsZXMubmVnYXRpdmUpOnRoaXMuX3JlbW92ZUNTU0NsYXNzKHRoaXMuc2V0dGluZ3Muc3R5bGVSdWxlcy5uZWdhdGl2ZSkpLE0uaXNVbmRlZmluZWRPck51bGxPckVtcHR5KHRoaXMuc2V0dGluZ3Muc3R5bGVSdWxlcy5yYW5nZXMpfHwwPT09dGhpcy5zZXR0aW5ncy5zdHlsZVJ1bGVzLnJhbmdlcy5sZW5ndGh8fHRoaXMuc2V0dGluZ3Muc3R5bGVSdWxlcy5yYW5nZXMuZm9yRWFjaChmdW5jdGlvbihlKXtuLnJhd1ZhbHVlPj1lLm1pbiYmbi5yYXdWYWx1ZTxlLm1heD9uLl9hZGRDU1NDbGFzcyhlLmNsYXNzKTpuLl9yZW1vdmVDU1NDbGFzcyhlLmNsYXNzKX0pLE0uaXNVbmRlZmluZWRPck51bGxPckVtcHR5KHRoaXMuc2V0dGluZ3Muc3R5bGVSdWxlcy51c2VyRGVmaW5lZCl8fDA9PT10aGlzLnNldHRpbmdzLnN0eWxlUnVsZXMudXNlckRlZmluZWQubGVuZ3RofHx0aGlzLnNldHRpbmdzLnN0eWxlUnVsZXMudXNlckRlZmluZWQuZm9yRWFjaChmdW5jdGlvbihlKXtpZihNLmlzRnVuY3Rpb24oZS5jYWxsYmFjaykpaWYoTS5pc1N0cmluZyhlLmNsYXNzZXMpKWUuY2FsbGJhY2sobi5yYXdWYWx1ZSk/bi5fYWRkQ1NTQ2xhc3MoZS5jbGFzc2VzKTpuLl9yZW1vdmVDU1NDbGFzcyhlLmNsYXNzZXMpO2Vsc2UgaWYoTS5pc0FycmF5KGUuY2xhc3NlcykpaWYoMj09PWUuY2xhc3Nlcy5sZW5ndGgpZS5jYWxsYmFjayhuLnJhd1ZhbHVlKT8obi5fYWRkQ1NTQ2xhc3MoZS5jbGFzc2VzWzBdKSxuLl9yZW1vdmVDU1NDbGFzcyhlLmNsYXNzZXNbMV0pKToobi5fcmVtb3ZlQ1NTQ2xhc3MoZS5jbGFzc2VzWzBdKSxuLl9hZGRDU1NDbGFzcyhlLmNsYXNzZXNbMV0pKTtlbHNlIGlmKDI8ZS5jbGFzc2VzLmxlbmd0aCl7dmFyIGk9ZS5jYWxsYmFjayhuLnJhd1ZhbHVlKTtNLmlzQXJyYXkoaSk/ZS5jbGFzc2VzLmZvckVhY2goZnVuY3Rpb24oZSx0KXtNLmlzSW5BcnJheSh0LGkpP24uX2FkZENTU0NsYXNzKGUpOm4uX3JlbW92ZUNTU0NsYXNzKGUpfSk6TS5pc0ludChpKT9lLmNsYXNzZXMuZm9yRWFjaChmdW5jdGlvbihlLHQpe3Q9PT1pP24uX2FkZENTU0NsYXNzKGUpOm4uX3JlbW92ZUNTU0NsYXNzKGUpfSk6TS5pc051bGwoaSk/ZS5jbGFzc2VzLmZvckVhY2goZnVuY3Rpb24oZSl7bi5fcmVtb3ZlQ1NTQ2xhc3MoZSl9KTpNLnRocm93RXJyb3IoXCJUaGUgY2FsbGJhY2sgcmVzdWx0IGlzIG5vdCBhbiBhcnJheSBub3IgYSB2YWxpZCBhcnJheSBpbmRleCwgXCIuY29uY2F0KHcoaSksXCIgZ2l2ZW4uXCIpKX1lbHNlIE0udGhyb3dFcnJvcihcIlRoZSBjbGFzc2VzIGF0dHJpYnV0ZSBpcyBub3QgdmFsaWQgZm9yIHRoZSBgc3R5bGVSdWxlc2Agb3B0aW9uLlwiKTtlbHNlIE0uaXNVbmRlZmluZWRPck51bGxPckVtcHR5KGUuY2xhc3Nlcyk/ZS5jYWxsYmFjayhuKTpNLnRocm93RXJyb3IoXCJUaGUgY2FsbGJhY2svY2xhc3NlcyBzdHJ1Y3R1cmUgaXMgbm90IHZhbGlkIGZvciB0aGUgYHN0eWxlUnVsZXNgIG9wdGlvbi5cIik7ZWxzZSBNLndhcm5pbmcoXCJUaGUgZ2l2ZW4gYHN0eWxlUnVsZXNgIGNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uLCBcIi5jb25jYXQoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGNhbGxiYWNrP1widW5kZWZpbmVkXCI6dyhjYWxsYmFjayksXCIgZ2l2ZW4uXCIpLG4uc2V0dGluZ3Muc2hvd1dhcm5pbmdzKX0pKX19LHtrZXk6XCJfYWRkQ1NTQ2xhc3NcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmRvbUVsZW1lbnQuY2xhc3NMaXN0LmFkZChlKX19LHtrZXk6XCJfcmVtb3ZlQ1NTQ2xhc3NcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmRvbUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShlKX19LHtrZXk6XCJ1cGRhdGVcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShlKSxuPTA7bjxlO24rKylpW25dPWFyZ3VtZW50c1tuXTtBcnJheS5pc0FycmF5KGkpJiZBcnJheS5pc0FycmF5KGlbMF0pJiYoaT1pWzBdKTt2YXIgYT1NLmNsb25lT2JqZWN0KHRoaXMuc2V0dGluZ3MpLHI9dGhpcy5yYXdWYWx1ZSxzPXt9O00uaXNVbmRlZmluZWRPck51bGxPckVtcHR5KGkpfHwwPT09aS5sZW5ndGg/cz1udWxsOjE8PWkubGVuZ3RoJiZpLmZvckVhY2goZnVuY3Rpb24oZSl7dC5jb25zdHJ1Y3Rvci5faXNQcmVEZWZpbmVkT3B0aW9uVmFsaWQoZSkmJihlPXQuY29uc3RydWN0b3IuX2dldE9wdGlvbk9iamVjdChlKSksYihzLGUpfSk7dHJ5e3RoaXMuX3NldFNldHRpbmdzKHMsITApLHRoaXMuX3NldFdyaXRlUGVybWlzc2lvbnMoKSx0aGlzLl91cGRhdGVFdmVudExpc3RlbmVycygpLHRoaXMuc2V0KHIpfWNhdGNoKGUpe3JldHVybiB0aGlzLl9zZXRTZXR0aW5ncyhhLCEwKSxNLnRocm93RXJyb3IoXCJVbmFibGUgdG8gdXBkYXRlIHRoZSBzZXR0aW5ncywgdGhvc2UgYXJlIGludmFsaWQ6IFtcIi5jb25jYXQoZSxcIl1cIikpLHRoaXN9cmV0dXJuIHRoaXN9fSx7a2V5OlwiZ2V0U2V0dGluZ3NcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldHRpbmdzfX0se2tleTpcInNldFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxpKXt2YXIgbixhPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90Om51bGwscj0hKDI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09aSl8fGk7aWYoTS5pc1VuZGVmaW5lZChlKSlyZXR1cm4gTS53YXJuaW5nKFwiWW91IGFyZSB0cnlpbmcgdG8gc2V0IGFuICd1bmRlZmluZWQnIHZhbHVlIDsgYW4gZXJyb3IgY291bGQgaGF2ZSBvY2N1cnJlZC5cIix0aGlzLnNldHRpbmdzLnNob3dXYXJuaW5ncyksdGhpcztpZihNLmlzTnVsbChhKXx8dGhpcy5fc2V0U2V0dGluZ3MoYSwhMCksbnVsbD09PWUmJnRoaXMuc2V0dGluZ3MuZW1wdHlJbnB1dEJlaGF2aW9yIT09Qi5vcHRpb25zLmVtcHR5SW5wdXRCZWhhdmlvci5udWxsKXJldHVybiBNLndhcm5pbmcoXCJZb3UgYXJlIHRyeWluZyB0byBzZXQgdGhlIGBudWxsYCB2YWx1ZSB3aGlsZSB0aGUgYGVtcHR5SW5wdXRCZWhhdmlvcmAgb3B0aW9uIGlzIHNldCB0byBcIi5jb25jYXQodGhpcy5zZXR0aW5ncy5lbXB0eUlucHV0QmVoYXZpb3IsXCIuIElmIHlvdSB3YW50IHRvIGJlIGFibGUgdG8gc2V0IHRoZSBgbnVsbGAgdmFsdWUsIHlvdSBuZWVkIHRvIGNoYW5nZSB0aGUgJ2VtcHR5SW5wdXRCZWhhdmlvcicgb3B0aW9uIHRvIGAnbnVsbCdgLlwiKSx0aGlzLnNldHRpbmdzLnNob3dXYXJuaW5ncyksdGhpcztpZihudWxsPT09ZSlyZXR1cm4gdGhpcy5fc2V0RWxlbWVudEFuZFJhd1ZhbHVlKG51bGwsbnVsbCxyKSx0aGlzLl9zYXZlVmFsdWVUb1BlcnNpc3RlbnRTdG9yYWdlKCksdGhpcztpZihuPXRoaXMuY29uc3RydWN0b3IuX3RvTnVtZXJpY1ZhbHVlKGUsdGhpcy5zZXR0aW5ncyksaXNOYU4oTnVtYmVyKG4pKSlyZXR1cm4gTS53YXJuaW5nKFwiVGhlIHZhbHVlIHlvdSBhcmUgdHJ5aW5nIHRvIHNldCByZXN1bHRzIGluIGBOYU5gLiBUaGUgZWxlbWVudCB2YWx1ZSBpcyBzZXQgdG8gdGhlIGVtcHR5IHN0cmluZyBpbnN0ZWFkLlwiLHRoaXMuc2V0dGluZ3Muc2hvd1dhcm5pbmdzKSx0aGlzLnNldFZhbHVlKFwiXCIsciksdGhpcztpZihcIlwiPT09bilzd2l0Y2godGhpcy5zZXR0aW5ncy5lbXB0eUlucHV0QmVoYXZpb3Ipe2Nhc2UgQi5vcHRpb25zLmVtcHR5SW5wdXRCZWhhdmlvci56ZXJvOm49MDticmVhaztjYXNlIEIub3B0aW9ucy5lbXB0eUlucHV0QmVoYXZpb3IubWluOm49dGhpcy5zZXR0aW5ncy5taW5pbXVtVmFsdWU7YnJlYWs7Y2FzZSBCLm9wdGlvbnMuZW1wdHlJbnB1dEJlaGF2aW9yLm1heDpuPXRoaXMuc2V0dGluZ3MubWF4aW11bVZhbHVlO2JyZWFrO2RlZmF1bHQ6TS5pc051bWJlcih0aGlzLnNldHRpbmdzLmVtcHR5SW5wdXRCZWhhdmlvcikmJihuPU51bWJlcih0aGlzLnNldHRpbmdzLmVtcHR5SW5wdXRCZWhhdmlvcikpfWlmKFwiXCI9PT1uKXJldHVybiBzPXRoaXMuc2V0dGluZ3MuZW1wdHlJbnB1dEJlaGF2aW9yPT09Qi5vcHRpb25zLmVtcHR5SW5wdXRCZWhhdmlvci5hbHdheXM/dGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbDpcIlwiLHRoaXMuX3NldEVsZW1lbnRBbmRSYXdWYWx1ZShzLFwiXCIsciksdGhpczt2YXIgcyxvPVModGhpcy5jb25zdHJ1Y3Rvci5fY2hlY2tJZkluUmFuZ2VXaXRoT3ZlcnJpZGVPcHRpb24obix0aGlzLnNldHRpbmdzKSwyKSxsPW9bMF0sdT1vWzFdO2lmKGwmJnUmJnRoaXMuc2V0dGluZ3MudmFsdWVzVG9TdHJpbmdzJiZ0aGlzLl9jaGVja1ZhbHVlc1RvU3RyaW5ncyhuKSlyZXR1cm4gdGhpcy5fc2V0RWxlbWVudEFuZFJhd1ZhbHVlKHRoaXMuc2V0dGluZ3MudmFsdWVzVG9TdHJpbmdzW25dLG4sciksdGhpcy5fc2F2ZVZhbHVlVG9QZXJzaXN0ZW50U3RvcmFnZSgpLHRoaXM7aWYoTS5pc1plcm9Pckhhc05vVmFsdWUobikmJihuPVwiMFwiKSxsJiZ1KXt2YXIgYz10aGlzLmNvbnN0cnVjdG9yLl9yb3VuZFJhd1ZhbHVlKG4sdGhpcy5zZXR0aW5ncyk7cmV0dXJuIGM9dGhpcy5fdHJpbUxlYWRpbmdBbmRUcmFpbGluZ1plcm9zKGMucmVwbGFjZSh0aGlzLnNldHRpbmdzLmRlY2ltYWxDaGFyYWN0ZXIsXCIuXCIpKSxuPXRoaXMuX2dldFJhd1ZhbHVlVG9Gb3JtYXQobiksbj10aGlzLmlzRm9jdXNlZD90aGlzLmNvbnN0cnVjdG9yLl9yb3VuZEZvcm1hdHRlZFZhbHVlU2hvd25PbkZvY3VzKG4sdGhpcy5zZXR0aW5ncyk6KHRoaXMuc2V0dGluZ3MuZGl2aXNvcldoZW5VbmZvY3VzZWQmJihuPShuLz10aGlzLnNldHRpbmdzLmRpdmlzb3JXaGVuVW5mb2N1c2VkKS50b1N0cmluZygpKSx0aGlzLmNvbnN0cnVjdG9yLl9yb3VuZEZvcm1hdHRlZFZhbHVlU2hvd25PbkJsdXIobix0aGlzLnNldHRpbmdzKSksbj10aGlzLmNvbnN0cnVjdG9yLl9tb2RpZnlOZWdhdGl2ZVNpZ25BbmREZWNpbWFsQ2hhcmFjdGVyRm9yRm9ybWF0dGVkVmFsdWUobix0aGlzLnNldHRpbmdzKSxuPXRoaXMuY29uc3RydWN0b3IuX2FkZEdyb3VwU2VwYXJhdG9ycyhuLHRoaXMuc2V0dGluZ3MsdGhpcy5pc0ZvY3VzZWQsdGhpcy5yYXdWYWx1ZSxjKSwhdGhpcy5pc0ZvY3VzZWQmJnRoaXMuc2V0dGluZ3Muc3ltYm9sV2hlblVuZm9jdXNlZCYmKG49XCJcIi5jb25jYXQobikuY29uY2F0KHRoaXMuc2V0dGluZ3Muc3ltYm9sV2hlblVuZm9jdXNlZCkpLCh0aGlzLnNldHRpbmdzLmRlY2ltYWxQbGFjZXNTaG93bk9uRm9jdXN8fHRoaXMuc2V0dGluZ3MuZGl2aXNvcldoZW5VbmZvY3VzZWQpJiZ0aGlzLl9zYXZlVmFsdWVUb1BlcnNpc3RlbnRTdG9yYWdlKCksdGhpcy5fc2V0RWxlbWVudEFuZFJhd1ZhbHVlKG4sYyxyKSx0aGlzLl9zZXRWYWxpZE9ySW52YWxpZFN0YXRlKGMpLHRoaXN9cmV0dXJuIHRoaXMuX3RyaWdnZXJSYW5nZUV2ZW50cyhsLHUpLE0udGhyb3dFcnJvcihcIlRoZSB2YWx1ZSBbXCIuY29uY2F0KG4sXCJdIGJlaW5nIHNldCBmYWxscyBvdXRzaWRlIG9mIHRoZSBtaW5pbXVtVmFsdWUgW1wiKS5jb25jYXQodGhpcy5zZXR0aW5ncy5taW5pbXVtVmFsdWUsXCJdIGFuZCBtYXhpbXVtVmFsdWUgW1wiKS5jb25jYXQodGhpcy5zZXR0aW5ncy5tYXhpbXVtVmFsdWUsXCJdIHJhbmdlIHNldCBmb3IgdGhpcyBlbGVtZW50XCIpKSx0aGlzLl9yZW1vdmVWYWx1ZUZyb21QZXJzaXN0ZW50U3RvcmFnZSgpLHRoaXMuc2V0VmFsdWUoXCJcIixyKSx0aGlzfX0se2tleTpcInNldFVuZm9ybWF0dGVkXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQ/dDpudWxsO2lmKG51bGw9PT1lfHxNLmlzVW5kZWZpbmVkKGUpKXJldHVybiB0aGlzO00uaXNOdWxsKGkpfHx0aGlzLl9zZXRTZXR0aW5ncyhpLCEwKTt2YXIgbj10aGlzLmNvbnN0cnVjdG9yLl9yZW1vdmVCcmFja2V0cyhlLHRoaXMuc2V0dGluZ3MpLGE9dGhpcy5jb25zdHJ1Y3Rvci5fc3RyaXBBbGxOb25OdW1iZXJDaGFyYWN0ZXJzKG4sdGhpcy5zZXR0aW5ncywhMCx0aGlzLmlzRm9jdXNlZCk7cmV0dXJuIE0uaXNOdW1iZXIoYSl8fE0udGhyb3dFcnJvcihcIlRoZSB2YWx1ZSBpcyBub3QgYSB2YWxpZCBvbmUsIGl0J3Mgbm90IGEgbnVtZXJpYyBzdHJpbmcgbm9yIGEgcmVjb2duaXplZCBjdXJyZW5jeS5cIiksdGhpcy5jb25zdHJ1Y3Rvci5faXNXaXRoaW5SYW5nZVdpdGhPdmVycmlkZU9wdGlvbihhLHRoaXMuc2V0dGluZ3MpP3RoaXMuc2V0VmFsdWUoZSk6TS50aHJvd0Vycm9yKFwiVGhlIHZhbHVlIGlzIG91dCBvZiB0aGUgcmFuZ2UgbGltaXRzIFtcIi5jb25jYXQodGhpcy5zZXR0aW5ncy5taW5pbXVtVmFsdWUsXCIsIFwiKS5jb25jYXQodGhpcy5zZXR0aW5ncy5tYXhpbXVtVmFsdWUsXCJdLlwiKSksdGhpc319LHtrZXk6XCJzZXRWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9ISgxPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQpfHx0O3JldHVybiB0aGlzLl9zZXRFbGVtZW50QW5kUmF3VmFsdWUoZSxpKSx0aGlzfX0se2tleTpcIl9zZXRSYXdWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9ISgxPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQpfHx0O2lmKHRoaXMucmF3VmFsdWUhPT1lKXt2YXIgbj10aGlzLnJhd1ZhbHVlO3RoaXMucmF3VmFsdWU9ZSwhTS5pc051bGwodGhpcy5zZXR0aW5ncy5yYXdWYWx1ZURpdmlzb3IpJiYwIT09dGhpcy5zZXR0aW5ncy5yYXdWYWx1ZURpdmlzb3ImJlwiXCIhPT1lJiZudWxsIT09ZSYmdGhpcy5faXNVc2VyTWFudWFsbHlFZGl0aW5nVGhlVmFsdWUoKSYmKHRoaXMucmF3VmFsdWUvPXRoaXMuc2V0dGluZ3MucmF3VmFsdWVEaXZpc29yKSx0aGlzLl90cmlnZ2VyRXZlbnQoQi5ldmVudHMucmF3VmFsdWVNb2RpZmllZCx0aGlzLmRvbUVsZW1lbnQse29sZFJhd1ZhbHVlOm4sbmV3UmF3VmFsdWU6dGhpcy5yYXdWYWx1ZSxpc1ByaXN0aW5lOnRoaXMuaXNQcmlzdGluZSghMCksZXJyb3I6bnVsbCxhTkVsZW1lbnQ6dGhpc30pLHRoaXMuX3BhcnNlU3R5bGVSdWxlcygpLGkmJnRoaXMuX2hpc3RvcnlUYWJsZUFkZCgpfX19LHtrZXk6XCJfc2V0RWxlbWVudFZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT0hKDE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dCl8fHQsbj1NLmdldEVsZW1lbnRWYWx1ZSh0aGlzLmRvbUVsZW1lbnQpO3JldHVybiBlIT09biYmKHRoaXMuaW50ZXJuYWxNb2RpZmljYXRpb249ITAsTS5zZXRFbGVtZW50VmFsdWUodGhpcy5kb21FbGVtZW50LGUpLHRoaXMuaW50ZXJuYWxNb2RpZmljYXRpb249ITEsaSYmdGhpcy5fdHJpZ2dlckV2ZW50KEIuZXZlbnRzLmZvcm1hdHRlZCx0aGlzLmRvbUVsZW1lbnQse29sZFZhbHVlOm4sbmV3VmFsdWU6ZSxvbGRSYXdWYWx1ZTp0aGlzLnJhd1ZhbHVlLG5ld1Jhd1ZhbHVlOnRoaXMucmF3VmFsdWUsaXNQcmlzdGluZTp0aGlzLmlzUHJpc3RpbmUoITEpLGVycm9yOm51bGwsYU5FbGVtZW50OnRoaXN9KSksdGhpc319LHtrZXk6XCJfc2V0RWxlbWVudEFuZFJhd1ZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90Om51bGwsYT0hKDI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09aSl8fGk7cmV0dXJuIE0uaXNOdWxsKG4pP249ZTpNLmlzQm9vbGVhbihuKSYmKGE9bixuPWUpLHRoaXMuX3NldEVsZW1lbnRWYWx1ZShlKSx0aGlzLl9zZXRSYXdWYWx1ZShuLGEpLHRoaXN9fSx7a2V5OlwiX2dldFJhd1ZhbHVlVG9Gb3JtYXRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gTS5pc051bGwodGhpcy5zZXR0aW5ncy5yYXdWYWx1ZURpdmlzb3IpfHwwPT09dGhpcy5zZXR0aW5ncy5yYXdWYWx1ZURpdmlzb3J8fFwiXCI9PT1lfHxudWxsPT09ZT9lOmUqdGhpcy5zZXR0aW5ncy5yYXdWYWx1ZURpdmlzb3J9fSx7a2V5OlwiX2NoZWNrVmFsdWVzVG9TdHJpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IuX2NoZWNrVmFsdWVzVG9TdHJpbmdzQXJyYXkoZSx0aGlzLnZhbHVlc1RvU3RyaW5nc0tleXMpfX0se2tleTpcIl9pc1VzZXJNYW51YWxseUVkaXRpbmdUaGVWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNGb2N1c2VkJiZ0aGlzLmlzRWRpdGluZ3x8dGhpcy5pc0Ryb3BFdmVudH19LHtrZXk6XCJfZXhlY3V0ZUNhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXshTS5pc051bGwodCkmJk0uaXNGdW5jdGlvbih0KSYmdChlLHRoaXMpfX0se2tleTpcIl90cmlnZ2VyRXZlbnRcIix2YWx1ZTpmdW5jdGlvbihlLHQsaSl7dmFyIG49MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10P3Q6ZG9jdW1lbnQsYT0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWk/aTpudWxsO00udHJpZ2dlckV2ZW50KGUsbixhLHRoaXMuc2V0dGluZ3MuZXZlbnRCdWJibGVzLHRoaXMuc2V0dGluZ3MuZXZlbnRJc0NhbmNlbGFibGUpfX0se2tleTpcImdldFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZT9lOm51bGw7cmV0dXJuIHRoaXMuZ2V0TnVtZXJpY1N0cmluZyh0KX19LHtrZXk6XCJnZXROdW1lcmljU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQsaT0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTpudWxsO3JldHVybiB0PU0uaXNOdWxsKHRoaXMucmF3VmFsdWUpP251bGw6TS50cmltUGFkZGVkWmVyb3NGcm9tRGVjaW1hbFBsYWNlcyh0aGlzLnJhd1ZhbHVlKSx0aGlzLl9leGVjdXRlQ2FsbGJhY2sodCxpKSx0fX0se2tleTpcImdldEZvcm1hdHRlZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZT9lOm51bGw7XCJ2YWx1ZVwiaW4gdGhpcy5kb21FbGVtZW50fHxcInRleHRDb250ZW50XCJpbiB0aGlzLmRvbUVsZW1lbnR8fE0udGhyb3dFcnJvcihcIlVuYWJsZSB0byBnZXQgdGhlIGZvcm1hdHRlZCBzdHJpbmcgZnJvbSB0aGUgZWxlbWVudC5cIik7dmFyIGk9TS5nZXRFbGVtZW50VmFsdWUodGhpcy5kb21FbGVtZW50KTtyZXR1cm4gdGhpcy5fZXhlY3V0ZUNhbGxiYWNrKGksdCksaX19LHtrZXk6XCJnZXROdW1iZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdCxpPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZT9lOm51bGw7cmV0dXJuIHQ9bnVsbD09PXRoaXMucmF3VmFsdWU/bnVsbDp0aGlzLmNvbnN0cnVjdG9yLl90b0xvY2FsZSh0aGlzLmdldE51bWVyaWNTdHJpbmcoKSxcIm51bWJlclwiLHRoaXMuc2V0dGluZ3MpLHRoaXMuX2V4ZWN1dGVDYWxsYmFjayh0LGkpLHR9fSx7a2V5OlwiZ2V0TG9jYWxpemVkXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaSxuLGE9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6bnVsbCxyPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90Om51bGw7TS5pc0Z1bmN0aW9uKGEpJiZNLmlzTnVsbChyKSYmKHI9YSxhPW51bGwpLChpPU0uaXNFbXB0eVN0cmluZyh0aGlzLnJhd1ZhbHVlKT9cIlwiOlwiXCIrTnVtYmVyKHRoaXMucmF3VmFsdWUpKSYmMD09PU51bWJlcihpKSYmdGhpcy5zZXR0aW5ncy5sZWFkaW5nWmVybyE9PUIub3B0aW9ucy5sZWFkaW5nWmVyby5rZWVwJiYoaT1cIjBcIiksbj1NLmlzTnVsbChhKT90aGlzLnNldHRpbmdzLm91dHB1dEZvcm1hdDphO3ZhciBzPXRoaXMuY29uc3RydWN0b3IuX3RvTG9jYWxlKGksbix0aGlzLnNldHRpbmdzKTtyZXR1cm4gdGhpcy5fZXhlY3V0ZUNhbGxiYWNrKHMsciksc319LHtrZXk6XCJyZWZvcm1hdFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0KHRoaXMucmF3VmFsdWUpLHRoaXN9fSx7a2V5OlwidW5mb3JtYXRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRFbGVtZW50VmFsdWUodGhpcy5nZXROdW1lcmljU3RyaW5nKCkpLHRoaXN9fSx7a2V5OlwidW5mb3JtYXRMb2NhbGl6ZWRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTpudWxsO3JldHVybiB0aGlzLl9zZXRFbGVtZW50VmFsdWUodGhpcy5nZXRMb2NhbGl6ZWQodCkpLHRoaXN9fSx7a2V5OlwiaXNQcmlzdGluZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiAwPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWUmJiFlP3RoaXMuaW5pdGlhbFZhbHVlSHRtbEF0dHJpYnV0ZT09PXRoaXMuZ2V0Rm9ybWF0dGVkKCk6dGhpcy5pbml0aWFsVmFsdWU9PT10aGlzLmdldE51bWVyaWNTdHJpbmcoKX19LHtrZXk6XCJzZWxlY3RcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldHRpbmdzLnNlbGVjdE51bWJlck9ubHk/dGhpcy5zZWxlY3ROdW1iZXIoKTp0aGlzLl9kZWZhdWx0U2VsZWN0QWxsKCksdGhpc319LHtrZXk6XCJfZGVmYXVsdFNlbGVjdEFsbFwiLHZhbHVlOmZ1bmN0aW9uKCl7TS5zZXRFbGVtZW50U2VsZWN0aW9uKHRoaXMuZG9tRWxlbWVudCwwLE0uZ2V0RWxlbWVudFZhbHVlKHRoaXMuZG9tRWxlbWVudCkubGVuZ3RoKX19LHtrZXk6XCJzZWxlY3ROdW1iZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQsaT1NLmdldEVsZW1lbnRWYWx1ZSh0aGlzLmRvbUVsZW1lbnQpLG49aS5sZW5ndGgsYT10aGlzLnNldHRpbmdzLmN1cnJlbmN5U3ltYm9sLmxlbmd0aCxyPXRoaXMuc2V0dGluZ3MuY3VycmVuY3lTeW1ib2xQbGFjZW1lbnQscz1NLmlzTmVnYXRpdmUoaSx0aGlzLnNldHRpbmdzLm5lZ2F0aXZlU2lnbkNoYXJhY3Rlcik/MTowLG89dGhpcy5zZXR0aW5ncy5zdWZmaXhUZXh0Lmxlbmd0aDtpZihlPXI9PT1CLm9wdGlvbnMuY3VycmVuY3lTeW1ib2xQbGFjZW1lbnQuc3VmZml4PzA6dGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudD09PUIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5sZWZ0JiYxPT1zJiYwPGE/YSsxOmEscj09PUIub3B0aW9ucy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudC5wcmVmaXgpdD1uLW87ZWxzZSBzd2l0Y2godGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudCl7Y2FzZSBCLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQubGVmdDp0PW4tKG8rYSk7YnJlYWs7Y2FzZSBCLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQucmlnaHQ6dD0wPGE/bi0oYStzK28pOm4tKGErbyk7YnJlYWs7ZGVmYXVsdDp0PW4tKGErbyl9cmV0dXJuIE0uc2V0RWxlbWVudFNlbGVjdGlvbih0aGlzLmRvbUVsZW1lbnQsZSx0KSx0aGlzfX0se2tleTpcInNlbGVjdEludGVnZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPTAsdD0wPD10aGlzLnJhd1ZhbHVlO3RoaXMuc2V0dGluZ3MuY3VycmVuY3lTeW1ib2xQbGFjZW1lbnQhPT1CLm9wdGlvbnMuY3VycmVuY3lTeW1ib2xQbGFjZW1lbnQucHJlZml4JiYodGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudCE9PUIub3B0aW9ucy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudC5zdWZmaXh8fHRoaXMuc2V0dGluZ3MubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQhPT1CLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQucHJlZml4JiZ0aGlzLnNldHRpbmdzLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50IT09Qi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50Lm5vbmUpfHwodGhpcy5zZXR0aW5ncy5zaG93UG9zaXRpdmVTaWduJiZ0fHwhdCYmdGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudD09PUIub3B0aW9ucy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudC5wcmVmaXgmJnRoaXMuc2V0dGluZ3MubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQ9PT1CLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQubGVmdCkmJihlKz0xKSx0aGlzLnNldHRpbmdzLmN1cnJlbmN5U3ltYm9sUGxhY2VtZW50PT09Qi5vcHRpb25zLmN1cnJlbmN5U3ltYm9sUGxhY2VtZW50LnByZWZpeCYmKGUrPXRoaXMuc2V0dGluZ3MuY3VycmVuY3lTeW1ib2wubGVuZ3RoKTt2YXIgaT1NLmdldEVsZW1lbnRWYWx1ZSh0aGlzLmRvbUVsZW1lbnQpLG49aS5pbmRleE9mKHRoaXMuc2V0dGluZ3MuZGVjaW1hbENoYXJhY3Rlcik7cmV0dXJuLTE9PT1uJiYobj10aGlzLnNldHRpbmdzLmN1cnJlbmN5U3ltYm9sUGxhY2VtZW50PT09Qi5vcHRpb25zLmN1cnJlbmN5U3ltYm9sUGxhY2VtZW50LnN1ZmZpeD9pLmxlbmd0aC10aGlzLnNldHRpbmdzLmN1cnJlbmN5U3ltYm9sLmxlbmd0aDppLmxlbmd0aCx0fHx0aGlzLnNldHRpbmdzLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50IT09Qi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LnN1ZmZpeCYmdGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudCE9PUIub3B0aW9ucy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudC5zdWZmaXh8fC0tbixuLT10aGlzLnNldHRpbmdzLnN1ZmZpeFRleHQubGVuZ3RoKSxNLnNldEVsZW1lbnRTZWxlY3Rpb24odGhpcy5kb21FbGVtZW50LGUsbiksdGhpc319LHtrZXk6XCJzZWxlY3REZWNpbWFsXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0LGk9TS5nZXRFbGVtZW50VmFsdWUodGhpcy5kb21FbGVtZW50KS5pbmRleE9mKHRoaXMuc2V0dGluZ3MuZGVjaW1hbENoYXJhY3Rlcik7cmV0dXJuIGU9LTE9PT1pP2k9MDooaSs9MSx0PXRoaXMuaXNGb2N1c2VkP3RoaXMuc2V0dGluZ3MuZGVjaW1hbFBsYWNlc1Nob3duT25Gb2N1czp0aGlzLnNldHRpbmdzLmRlY2ltYWxQbGFjZXNTaG93bk9uQmx1cixpK051bWJlcih0KSksTS5zZXRFbGVtZW50U2VsZWN0aW9uKHRoaXMuZG9tRWxlbWVudCxpLGUpLHRoaXN9fSx7a2V5Olwibm9kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tRWxlbWVudH19LHtrZXk6XCJwYXJlbnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbUVsZW1lbnQucGFyZW50Tm9kZX19LHtrZXk6XCJkZXRhY2hcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdCxpPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZT9lOm51bGw7cmV0dXJuIHQ9TS5pc051bGwoaSk/dGhpcy5kb21FbGVtZW50Omkubm9kZSgpLHRoaXMuX3JlbW92ZUZyb21Mb2NhbExpc3QodCksdGhpc319LHtrZXk6XCJhdHRhY2hcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPSEoMTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10KXx8dDtyZXR1cm4gdGhpcy5fYWRkVG9Mb2NhbExpc3QoZS5ub2RlKCkpLGkmJmUudXBkYXRlKHRoaXMuc2V0dGluZ3MpLHRoaXN9fSx7a2V5OlwiZm9ybWF0T3RoZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90Om51bGw7cmV0dXJuIHRoaXMuX2Zvcm1hdE9yVW5mb3JtYXRPdGhlcighMCxlLGkpfX0se2tleTpcInVuZm9ybWF0T3RoZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90Om51bGw7cmV0dXJuIHRoaXMuX2Zvcm1hdE9yVW5mb3JtYXRPdGhlcighMSxlLGkpfX0se2tleTpcIl9mb3JtYXRPclVuZm9ybWF0T3RoZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQsaSl7dmFyIG4sYSxyPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09aT9pOm51bGw7aWYobj1NLmlzTnVsbChyKT90aGlzLnNldHRpbmdzOnRoaXMuX2Nsb25lQW5kTWVyZ2VTZXR0aW5ncyhyKSxNLmlzRWxlbWVudCh0KSl7dmFyIHM9TS5nZXRFbGVtZW50VmFsdWUodCk7cmV0dXJuIGE9ZT9CLmZvcm1hdChzLG4pOkIudW5mb3JtYXQocyxuKSxNLnNldEVsZW1lbnRWYWx1ZSh0LGEpLG51bGx9cmV0dXJuIGU/Qi5mb3JtYXQodCxuKTpCLnVuZm9ybWF0KHQsbil9fSx7a2V5OlwiaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxhPSEoMTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10KXx8dCxpPSExLHI9W107aWYoTS5pc1N0cmluZyhlKT9yPXAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlKSk6TS5pc0VsZW1lbnQoZSk/KHIucHVzaChlKSxpPSEwKTpNLmlzQXJyYXkoZSk/cj1lOk0udGhyb3dFcnJvcihcIlRoZSBnaXZlbiBwYXJhbWV0ZXJzIHRvIHRoZSAnaW5pdCcgZnVuY3Rpb24gYXJlIGludmFsaWQuXCIpLDA9PT1yLmxlbmd0aClyZXR1cm4gTS53YXJuaW5nKFwiTm8gdmFsaWQgRE9NIGVsZW1lbnRzIHdlcmUgZ2l2ZW4gaGVuY2Ugbm8gQXV0b051bWVyaWMgb2JqZWN0IHdlcmUgaW5zdGFudGlhdGVkLlwiLCEwKSxbXTt2YXIgcz10aGlzLl9nZXRMb2NhbExpc3QoKSxvPVtdO3JldHVybiByLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5zZXR0aW5ncy5jcmVhdGVMb2NhbExpc3Q7YSYmKG4uc2V0dGluZ3MuY3JlYXRlTG9jYWxMaXN0PSExKTt2YXIgaT1uZXcgQihlLE0uZ2V0RWxlbWVudFZhbHVlKGUpLG4uc2V0dGluZ3MpO2EmJihpLl9zZXRMb2NhbExpc3Qocyksbi5fYWRkVG9Mb2NhbExpc3QoZSxpKSxuLnNldHRpbmdzLmNyZWF0ZUxvY2FsTGlzdD10KSxvLnB1c2goaSl9KSxpP29bMF06b319LHtrZXk6XCJjbGVhclwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKDA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZSYmZSl7dmFyIHQ9e2VtcHR5SW5wdXRCZWhhdmlvcjpCLm9wdGlvbnMuZW1wdHlJbnB1dEJlaGF2aW9yLmZvY3VzfTt0aGlzLnNldChcIlwiLHQpfWVsc2UgdGhpcy5zZXQoXCJcIik7cmV0dXJuIHRoaXN9fSx7a2V5OlwicmVtb3ZlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVWYWx1ZUZyb21QZXJzaXN0ZW50U3RvcmFnZSgpLHRoaXMuX3JlbW92ZUV2ZW50TGlzdGVuZXJzKCksdGhpcy5fcmVtb3ZlV2F0Y2hlcigpLHRoaXMuX3JlbW92ZUZyb21Mb2NhbExpc3QodGhpcy5kb21FbGVtZW50KSx0aGlzLmNvbnN0cnVjdG9yLl9yZW1vdmVGcm9tR2xvYmFsTGlzdCh0aGlzKX19LHtrZXk6XCJ3aXBlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9zZXRFbGVtZW50VmFsdWUoXCJcIiwhMSksdGhpcy5yZW1vdmUoKX19LHtrZXk6XCJudWtlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZSgpLHRoaXMuZG9tRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tRWxlbWVudCl9fSx7a2V5OlwiZm9ybVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKDA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZSYmZXx8TS5pc1VuZGVmaW5lZE9yTnVsbE9yRW1wdHkodGhpcy5wYXJlbnRGb3JtKSl7dmFyIHQ9dGhpcy5fZ2V0UGFyZW50Rm9ybSgpO2lmKCFNLmlzTnVsbCh0KSYmdCE9PXRoaXMucGFyZW50Rm9ybSl7dmFyIGk9dGhpcy5fZ2V0Rm9ybUF1dG9OdW1lcmljQ2hpbGRyZW4odGhpcy5wYXJlbnRGb3JtKTt0aGlzLnBhcmVudEZvcm0uZGF0YXNldC5hbkNvdW50PWkubGVuZ3RoLHRoaXMuX2hhc0Zvcm1IYW5kbGVyRnVuY3Rpb24odCk/dGhpcy5faW5jcmVtZW50UGFyZW50Rm9ybUNvdW50ZXIodCk6KHRoaXMuX3N0b3JlRm9ybUhhbmRsZXJGdW5jdGlvbih0KSx0aGlzLl9pbml0aWFsaXplRm9ybUNvdW50ZXJUb09uZSh0KSl9dGhpcy5wYXJlbnRGb3JtPXR9cmV0dXJuIHRoaXMucGFyZW50Rm9ybX19LHtrZXk6XCJfZ2V0Rm9ybUF1dG9OdW1lcmljQ2hpbGRyZW5cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBwKGUucXVlcnlTZWxlY3RvckFsbChcImlucHV0XCIpKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29uc3RydWN0b3IuaXNNYW5hZ2VkQnlBdXRvTnVtZXJpYyhlKX0pfX0se2tleTpcIl9nZXRQYXJlbnRGb3JtXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZihcImJvZHlcIj09PXRoaXMuZG9tRWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuIG51bGw7dmFyIGUsdD10aGlzLmRvbUVsZW1lbnQ7ZG97aWYodD10LnBhcmVudE5vZGUsTS5pc051bGwodCkpcmV0dXJuIG51bGw7aWYoXCJib2R5XCI9PT0oZT10LnRhZ05hbWU/dC50YWdOYW1lLnRvTG93ZXJDYXNlKCk6XCJcIikpYnJlYWt9d2hpbGUoXCJmb3JtXCIhPT1lKTtyZXR1cm5cImZvcm1cIj09PWU/dDpudWxsfX0se2tleTpcImZvcm1OdW1lcmljU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5fc2VyaWFsaXplTnVtZXJpY1N0cmluZyh0aGlzLmZvcm0oKSx0aGlzLnNldHRpbmdzLnNlcmlhbGl6ZVNwYWNlcyl9fSx7a2V5OlwiZm9ybUZvcm1hdHRlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IuX3NlcmlhbGl6ZUZvcm1hdHRlZCh0aGlzLmZvcm0oKSx0aGlzLnNldHRpbmdzLnNlcmlhbGl6ZVNwYWNlcyl9fSx7a2V5OlwiZm9ybUxvY2FsaXplZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0LGk9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6bnVsbDtyZXR1cm4gdD1NLmlzTnVsbChpKT90aGlzLnNldHRpbmdzLm91dHB1dEZvcm1hdDppLHRoaXMuY29uc3RydWN0b3IuX3NlcmlhbGl6ZUxvY2FsaXplZCh0aGlzLmZvcm0oKSx0aGlzLnNldHRpbmdzLnNlcmlhbGl6ZVNwYWNlcyx0KX19LHtrZXk6XCJmb3JtQXJyYXlOdW1lcmljU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5fc2VyaWFsaXplTnVtZXJpY1N0cmluZ0FycmF5KHRoaXMuZm9ybSgpLHRoaXMuc2V0dGluZ3Muc2VyaWFsaXplU3BhY2VzKX19LHtrZXk6XCJmb3JtQXJyYXlGb3JtYXR0ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLl9zZXJpYWxpemVGb3JtYXR0ZWRBcnJheSh0aGlzLmZvcm0oKSx0aGlzLnNldHRpbmdzLnNlcmlhbGl6ZVNwYWNlcyl9fSx7a2V5OlwiZm9ybUFycmF5TG9jYWxpemVkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQsaT0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTpudWxsO3JldHVybiB0PU0uaXNOdWxsKGkpP3RoaXMuc2V0dGluZ3Mub3V0cHV0Rm9ybWF0OmksdGhpcy5jb25zdHJ1Y3Rvci5fc2VyaWFsaXplTG9jYWxpemVkQXJyYXkodGhpcy5mb3JtKCksdGhpcy5zZXR0aW5ncy5zZXJpYWxpemVTcGFjZXMsdCl9fSx7a2V5OlwiZm9ybUpzb25OdW1lcmljU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5mb3JtQXJyYXlOdW1lcmljU3RyaW5nKCkpfX0se2tleTpcImZvcm1Kc29uRm9ybWF0dGVkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5mb3JtQXJyYXlGb3JtYXR0ZWQoKSl9fSx7a2V5OlwiZm9ybUpzb25Mb2NhbGl6ZWRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTpudWxsO3JldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLmZvcm1BcnJheUxvY2FsaXplZCh0KSl9fSx7a2V5OlwiZm9ybVVuZm9ybWF0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5fZ2V0Q2hpbGRBTklucHV0RWxlbWVudCh0aGlzLmZvcm0oKSkuZm9yRWFjaChmdW5jdGlvbihlKXtCLmdldEF1dG9OdW1lcmljRWxlbWVudChlKS51bmZvcm1hdCgpfSksdGhpc319LHtrZXk6XCJmb3JtVW5mb3JtYXRMb2NhbGl6ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLl9nZXRDaGlsZEFOSW5wdXRFbGVtZW50KHRoaXMuZm9ybSgpKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe0IuZ2V0QXV0b051bWVyaWNFbGVtZW50KGUpLnVuZm9ybWF0TG9jYWxpemVkKCl9KSx0aGlzfX0se2tleTpcImZvcm1SZWZvcm1hdFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IuX2dldENoaWxkQU5JbnB1dEVsZW1lbnQodGhpcy5mb3JtKCkpLmZvckVhY2goZnVuY3Rpb24oZSl7Qi5nZXRBdXRvTnVtZXJpY0VsZW1lbnQoZSkucmVmb3JtYXQoKX0pLHRoaXN9fSx7a2V5OlwiZm9ybVN1Ym1pdE51bWVyaWNTdHJpbmdcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTpudWxsO3JldHVybiBNLmlzTnVsbCh0KT8odGhpcy5mb3JtVW5mb3JtYXQoKSx0aGlzLmZvcm0oKS5zdWJtaXQoKSx0aGlzLmZvcm1SZWZvcm1hdCgpKTpNLmlzRnVuY3Rpb24odCk/dCh0aGlzLmZvcm1OdW1lcmljU3RyaW5nKCkpOk0udGhyb3dFcnJvcihcIlRoZSBnaXZlbiBjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbi5cIiksdGhpc319LHtrZXk6XCJmb3JtU3VibWl0Rm9ybWF0dGVkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6bnVsbDtyZXR1cm4gTS5pc051bGwodCk/dGhpcy5mb3JtKCkuc3VibWl0KCk6TS5pc0Z1bmN0aW9uKHQpP3QodGhpcy5mb3JtRm9ybWF0dGVkKCkpOk0udGhyb3dFcnJvcihcIlRoZSBnaXZlbiBjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbi5cIiksdGhpc319LHtrZXk6XCJmb3JtU3VibWl0TG9jYWxpemVkXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTpudWxsLG49MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10P3Q6bnVsbDtyZXR1cm4gTS5pc051bGwobik/KHRoaXMuZm9ybVVuZm9ybWF0TG9jYWxpemVkKCksdGhpcy5mb3JtKCkuc3VibWl0KCksdGhpcy5mb3JtUmVmb3JtYXQoKSk6TS5pc0Z1bmN0aW9uKG4pP24odGhpcy5mb3JtTG9jYWxpemVkKGkpKTpNLnRocm93RXJyb3IoXCJUaGUgZ2l2ZW4gY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24uXCIpLHRoaXN9fSx7a2V5OlwiZm9ybVN1Ym1pdEFycmF5TnVtZXJpY1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBNLmlzRnVuY3Rpb24oZSk/ZSh0aGlzLmZvcm1BcnJheU51bWVyaWNTdHJpbmcoKSk6TS50aHJvd0Vycm9yKFwiVGhlIGdpdmVuIGNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uLlwiKSx0aGlzfX0se2tleTpcImZvcm1TdWJtaXRBcnJheUZvcm1hdHRlZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBNLmlzRnVuY3Rpb24oZSk/ZSh0aGlzLmZvcm1BcnJheUZvcm1hdHRlZCgpKTpNLnRocm93RXJyb3IoXCJUaGUgZ2l2ZW4gY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24uXCIpLHRoaXN9fSx7a2V5OlwiZm9ybVN1Ym1pdEFycmF5TG9jYWxpemVkXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQ/dDpudWxsO3JldHVybiBNLmlzRnVuY3Rpb24oZSk/ZSh0aGlzLmZvcm1BcnJheUxvY2FsaXplZChpKSk6TS50aHJvd0Vycm9yKFwiVGhlIGdpdmVuIGNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uLlwiKSx0aGlzfX0se2tleTpcImZvcm1TdWJtaXRKc29uTnVtZXJpY1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBNLmlzRnVuY3Rpb24oZSk/ZSh0aGlzLmZvcm1Kc29uTnVtZXJpY1N0cmluZygpKTpNLnRocm93RXJyb3IoXCJUaGUgZ2l2ZW4gY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24uXCIpLHRoaXN9fSx7a2V5OlwiZm9ybVN1Ym1pdEpzb25Gb3JtYXR0ZWRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gTS5pc0Z1bmN0aW9uKGUpP2UodGhpcy5mb3JtSnNvbkZvcm1hdHRlZCgpKTpNLnRocm93RXJyb3IoXCJUaGUgZ2l2ZW4gY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24uXCIpLHRoaXN9fSx7a2V5OlwiZm9ybVN1Ym1pdEpzb25Mb2NhbGl6ZWRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90Om51bGw7cmV0dXJuIE0uaXNGdW5jdGlvbihlKT9lKHRoaXMuZm9ybUpzb25Mb2NhbGl6ZWQoaSkpOk0udGhyb3dFcnJvcihcIlRoZSBnaXZlbiBjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbi5cIiksdGhpc319LHtrZXk6XCJfY3JlYXRlTG9jYWxMaXN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmF1dG9OdW1lcmljTG9jYWxMaXN0PW5ldyBNYXAsdGhpcy5fYWRkVG9Mb2NhbExpc3QodGhpcy5kb21FbGVtZW50KX19LHtrZXk6XCJfZGVsZXRlTG9jYWxMaXN0XCIsdmFsdWU6ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5hdXRvTnVtZXJpY0xvY2FsTGlzdH19LHtrZXk6XCJfc2V0TG9jYWxMaXN0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5hdXRvTnVtZXJpY0xvY2FsTGlzdD1lfX0se2tleTpcIl9nZXRMb2NhbExpc3RcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmF1dG9OdW1lcmljTG9jYWxMaXN0fX0se2tleTpcIl9oYXNMb2NhbExpc3RcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmF1dG9OdW1lcmljTG9jYWxMaXN0IGluc3RhbmNlb2YgTWFwJiYwIT09dGhpcy5hdXRvTnVtZXJpY0xvY2FsTGlzdC5zaXplfX0se2tleTpcIl9hZGRUb0xvY2FsTGlzdFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10P3Q6bnVsbDtNLmlzTnVsbChpKSYmKGk9dGhpcyksTS5pc1VuZGVmaW5lZCh0aGlzLmF1dG9OdW1lcmljTG9jYWxMaXN0KT9NLnRocm93RXJyb3IoXCJUaGUgbG9jYWwgbGlzdCBwcm92aWRlZCBkb2VzIG5vdCBleGlzdHMgd2hlbiB0cnlpbmcgdG8gYWRkIGFuIGVsZW1lbnQuIFtcIi5jb25jYXQodGhpcy5hdXRvTnVtZXJpY0xvY2FsTGlzdCxcIl0gZ2l2ZW4uXCIpKTp0aGlzLmF1dG9OdW1lcmljTG9jYWxMaXN0LnNldChlLGkpfX0se2tleTpcIl9yZW1vdmVGcm9tTG9jYWxMaXN0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7TS5pc1VuZGVmaW5lZCh0aGlzLmF1dG9OdW1lcmljTG9jYWxMaXN0KT90aGlzLnNldHRpbmdzLmNyZWF0ZUxvY2FsTGlzdCYmTS50aHJvd0Vycm9yKFwiVGhlIGxvY2FsIGxpc3QgcHJvdmlkZWQgZG9lcyBub3QgZXhpc3RzIHdoZW4gdHJ5aW5nIHRvIHJlbW92ZSBhbiBlbGVtZW50LiBbXCIuY29uY2F0KHRoaXMuYXV0b051bWVyaWNMb2NhbExpc3QsXCJdIGdpdmVuLlwiKSk6dGhpcy5hdXRvTnVtZXJpY0xvY2FsTGlzdC5kZWxldGUoZSl9fSx7a2V5OlwiX21lcmdlU2V0dGluZ3NcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO2IuYXBwbHkodm9pZCAwLFt0aGlzLnNldHRpbmdzXS5jb25jYXQodCkpfX0se2tleTpcIl9jbG9uZUFuZE1lcmdlU2V0dGluZ3NcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT17fSx0PWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkodCksbj0wO248dDtuKyspaVtuXT1hcmd1bWVudHNbbl07cmV0dXJuIGIuYXBwbHkodm9pZCAwLFtlLHRoaXMuc2V0dGluZ3NdLmNvbmNhdChpKSksZX19LHtrZXk6XCJfdXBkYXRlUHJlZGVmaW5lZE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90Om51bGw7cmV0dXJuIE0uaXNOdWxsKGkpP3RoaXMudXBkYXRlKGUpOih0aGlzLl9tZXJnZVNldHRpbmdzKGUsaSksdGhpcy51cGRhdGUodGhpcy5zZXR0aW5ncykpLHRoaXN9fSx7a2V5OlwiZnJlbmNoXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6bnVsbDtyZXR1cm4gdGhpcy5fdXBkYXRlUHJlZGVmaW5lZE9wdGlvbnMoQi5nZXRQcmVkZWZpbmVkT3B0aW9ucygpLkZyZW5jaCx0KSx0aGlzfX0se2tleTpcIm5vcnRoQW1lcmljYW5cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTpudWxsO3JldHVybiB0aGlzLl91cGRhdGVQcmVkZWZpbmVkT3B0aW9ucyhCLmdldFByZWRlZmluZWRPcHRpb25zKCkuTm9ydGhBbWVyaWNhbix0KSx0aGlzfX0se2tleTpcImJyaXRpc2hcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTpudWxsO3JldHVybiB0aGlzLl91cGRhdGVQcmVkZWZpbmVkT3B0aW9ucyhCLmdldFByZWRlZmluZWRPcHRpb25zKCkuQnJpdGlzaCx0KSx0aGlzfX0se2tleTpcInN3aXNzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6bnVsbDtyZXR1cm4gdGhpcy5fdXBkYXRlUHJlZGVmaW5lZE9wdGlvbnMoQi5nZXRQcmVkZWZpbmVkT3B0aW9ucygpLlN3aXNzLHQpLHRoaXN9fSx7a2V5OlwiamFwYW5lc2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTpudWxsO3JldHVybiB0aGlzLl91cGRhdGVQcmVkZWZpbmVkT3B0aW9ucyhCLmdldFByZWRlZmluZWRPcHRpb25zKCkuSmFwYW5lc2UsdCksdGhpc319LHtrZXk6XCJzcGFuaXNoXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6bnVsbDtyZXR1cm4gdGhpcy5fdXBkYXRlUHJlZGVmaW5lZE9wdGlvbnMoQi5nZXRQcmVkZWZpbmVkT3B0aW9ucygpLlNwYW5pc2gsdCksdGhpc319LHtrZXk6XCJjaGluZXNlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6bnVsbDtyZXR1cm4gdGhpcy5fdXBkYXRlUHJlZGVmaW5lZE9wdGlvbnMoQi5nZXRQcmVkZWZpbmVkT3B0aW9ucygpLkNoaW5lc2UsdCksdGhpc319LHtrZXk6XCJicmF6aWxpYW5cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTpudWxsO3JldHVybiB0aGlzLl91cGRhdGVQcmVkZWZpbmVkT3B0aW9ucyhCLmdldFByZWRlZmluZWRPcHRpb25zKCkuQnJhemlsaWFuLHQpLHRoaXN9fSx7a2V5OlwiX3J1bkNhbGxiYWNrc0ZvdW5kSW5UaGVTZXR0aW5nc09iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMuc2V0dGluZ3MpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuc2V0dGluZ3MsZSkpe3ZhciB0PXRoaXMuc2V0dGluZ3NbZV07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCl0aGlzLnNldHRpbmdzW2VdPXQodGhpcyxlKTtlbHNle3ZhciBpPXRoaXMuZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoZSk7aT1NLmNhbWVsaXplKGkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuc2V0dGluZ3NbaV0mJih0aGlzLnNldHRpbmdzW2VdPWkodGhpcyxlKSl9fX19LHtrZXk6XCJfc2V0VHJhaWxpbmdOZWdhdGl2ZVNpZ25JbmZvXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmlzVHJhaWxpbmdOZWdhdGl2ZT10aGlzLnNldHRpbmdzLmN1cnJlbmN5U3ltYm9sUGxhY2VtZW50PT09Qi5vcHRpb25zLmN1cnJlbmN5U3ltYm9sUGxhY2VtZW50LnByZWZpeCYmdGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudD09PUIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5zdWZmaXh8fHRoaXMuc2V0dGluZ3MuY3VycmVuY3lTeW1ib2xQbGFjZW1lbnQ9PT1CLm9wdGlvbnMuY3VycmVuY3lTeW1ib2xQbGFjZW1lbnQuc3VmZml4JiYodGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudD09PUIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5sZWZ0fHx0aGlzLnNldHRpbmdzLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50PT09Qi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LnJpZ2h0KX19LHtrZXk6XCJfbW9kaWZ5TmVnYXRpdmVTaWduQW5kRGVjaW1hbENoYXJhY3RlckZvclJhd1ZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuXCIuXCIhPT10aGlzLnNldHRpbmdzLmRlY2ltYWxDaGFyYWN0ZXImJihlPWUucmVwbGFjZSh0aGlzLnNldHRpbmdzLmRlY2ltYWxDaGFyYWN0ZXIsXCIuXCIpKSxcIi1cIiE9PXRoaXMuc2V0dGluZ3MubmVnYXRpdmVTaWduQ2hhcmFjdGVyJiZ0aGlzLnNldHRpbmdzLmlzTmVnYXRpdmVTaWduQWxsb3dlZCYmKGU9ZS5yZXBsYWNlKHRoaXMuc2V0dGluZ3MubmVnYXRpdmVTaWduQ2hhcmFjdGVyLFwiLVwiKSksZS5tYXRjaCgvXFxkLyl8fChlKz1cIjBcIiksZX19LHtrZXk6XCJfaW5pdGlhbENhcmV0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXtNLmlzTnVsbCh0aGlzLnNldHRpbmdzLmNhcmV0UG9zaXRpb25PbkZvY3VzKSYmdGhpcy5zZXR0aW5ncy5zZWxlY3RPbkZvY3VzPT09Qi5vcHRpb25zLnNlbGVjdE9uRm9jdXMuZG9Ob3RTZWxlY3QmJk0udGhyb3dFcnJvcihcImBfaW5pdGlhbENhcmV0UG9zaXRpb24oKWAgc2hvdWxkIG5ldmVyIGJlIGNhbGxlZCB3aGVuIHRoZSBgY2FyZXRQb3NpdGlvbk9uRm9jdXNgIG9wdGlvbiBpcyBgbnVsbGAuXCIpO3ZhciB0PXRoaXMucmF3VmFsdWU8MCxpPU0uaXNaZXJvT3JIYXNOb1ZhbHVlKGUpLG49ZS5sZW5ndGgsYT0wLHI9MCxzPSExLG89MDt0aGlzLnNldHRpbmdzLmNhcmV0UG9zaXRpb25PbkZvY3VzIT09Qi5vcHRpb25zLmNhcmV0UG9zaXRpb25PbkZvY3VzLnN0YXJ0JiYoYT0oZT0oZT0oZT1lLnJlcGxhY2UodGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIsXCJcIikpLnJlcGxhY2UodGhpcy5zZXR0aW5ncy5wb3NpdGl2ZVNpZ25DaGFyYWN0ZXIsXCJcIikpLnJlcGxhY2UodGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbCxcIlwiKSkubGVuZ3RoLHM9TS5jb250YWlucyhlLHRoaXMuc2V0dGluZ3MuZGVjaW1hbENoYXJhY3RlciksdGhpcy5zZXR0aW5ncy5jYXJldFBvc2l0aW9uT25Gb2N1cyE9PUIub3B0aW9ucy5jYXJldFBvc2l0aW9uT25Gb2N1cy5kZWNpbWFsTGVmdCYmdGhpcy5zZXR0aW5ncy5jYXJldFBvc2l0aW9uT25Gb2N1cyE9PUIub3B0aW9ucy5jYXJldFBvc2l0aW9uT25Gb2N1cy5kZWNpbWFsUmlnaHR8fChvPXM/KHI9ZS5pbmRleE9mKHRoaXMuc2V0dGluZ3MuZGVjaW1hbENoYXJhY3RlciksdGhpcy5zZXR0aW5ncy5kZWNpbWFsQ2hhcmFjdGVyLmxlbmd0aCk6KHI9YSwwKSkpO3ZhciBsPVwiXCI7dD9sPXRoaXMuc2V0dGluZ3MubmVnYXRpdmVTaWduQ2hhcmFjdGVyOnRoaXMuc2V0dGluZ3Muc2hvd1Bvc2l0aXZlU2lnbiYmIWkmJihsPXRoaXMuc2V0dGluZ3MucG9zaXRpdmVTaWduQ2hhcmFjdGVyKTt2YXIgdSxjPWwubGVuZ3RoLGg9dGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbC5sZW5ndGg7aWYodGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudD09PUIub3B0aW9ucy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudC5wcmVmaXgpe2lmKHRoaXMuc2V0dGluZ3MuY2FyZXRQb3NpdGlvbk9uRm9jdXM9PT1CLm9wdGlvbnMuY2FyZXRQb3NpdGlvbk9uRm9jdXMuc3RhcnQpaWYodGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudCE9PUIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5ub25lJiYodHx8IXQmJnRoaXMuc2V0dGluZ3Muc2hvd1Bvc2l0aXZlU2lnbiYmIWkpKXN3aXRjaCh0aGlzLnNldHRpbmdzLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50KXtjYXNlIEIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5wcmVmaXg6Y2FzZSBCLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQubGVmdDpjYXNlIEIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5yaWdodDp1PWMraDticmVhaztjYXNlIEIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5zdWZmaXg6dT1ofWVsc2UgdT1oO2Vsc2UgaWYodGhpcy5zZXR0aW5ncy5jYXJldFBvc2l0aW9uT25Gb2N1cz09PUIub3B0aW9ucy5jYXJldFBvc2l0aW9uT25Gb2N1cy5lbmQpaWYodGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudCE9PUIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5ub25lJiYodHx8IXQmJnRoaXMuc2V0dGluZ3Muc2hvd1Bvc2l0aXZlU2lnbiYmIWkpKXN3aXRjaCh0aGlzLnNldHRpbmdzLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50KXtjYXNlIEIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5wcmVmaXg6Y2FzZSBCLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQubGVmdDpjYXNlIEIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5yaWdodDp1PW47YnJlYWs7Y2FzZSBCLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQuc3VmZml4OnU9aCthfWVsc2UgdT1uO2Vsc2UgaWYodGhpcy5zZXR0aW5ncy5jYXJldFBvc2l0aW9uT25Gb2N1cz09PUIub3B0aW9ucy5jYXJldFBvc2l0aW9uT25Gb2N1cy5kZWNpbWFsTGVmdClpZih0aGlzLnNldHRpbmdzLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50IT09Qi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50Lm5vbmUmJih0fHwhdCYmdGhpcy5zZXR0aW5ncy5zaG93UG9zaXRpdmVTaWduJiYhaSkpc3dpdGNoKHRoaXMuc2V0dGluZ3MubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQpe2Nhc2UgQi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LnByZWZpeDpjYXNlIEIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5sZWZ0OmNhc2UgQi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LnJpZ2h0OnU9YytoK3I7YnJlYWs7Y2FzZSBCLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQuc3VmZml4OnU9aCtyfWVsc2UgdT1oK3I7ZWxzZSBpZih0aGlzLnNldHRpbmdzLmNhcmV0UG9zaXRpb25PbkZvY3VzPT09Qi5vcHRpb25zLmNhcmV0UG9zaXRpb25PbkZvY3VzLmRlY2ltYWxSaWdodClpZih0aGlzLnNldHRpbmdzLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50IT09Qi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50Lm5vbmUmJih0fHwhdCYmdGhpcy5zZXR0aW5ncy5zaG93UG9zaXRpdmVTaWduJiYhaSkpc3dpdGNoKHRoaXMuc2V0dGluZ3MubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQpe2Nhc2UgQi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LnByZWZpeDpjYXNlIEIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5sZWZ0OmNhc2UgQi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LnJpZ2h0OnU9YytoK3IrbzticmVhaztjYXNlIEIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5zdWZmaXg6dT1oK3Irb31lbHNlIHU9aCtyK299ZWxzZSBpZih0aGlzLnNldHRpbmdzLmN1cnJlbmN5U3ltYm9sUGxhY2VtZW50PT09Qi5vcHRpb25zLmN1cnJlbmN5U3ltYm9sUGxhY2VtZW50LnN1ZmZpeClpZih0aGlzLnNldHRpbmdzLmNhcmV0UG9zaXRpb25PbkZvY3VzPT09Qi5vcHRpb25zLmNhcmV0UG9zaXRpb25PbkZvY3VzLnN0YXJ0KWlmKHRoaXMuc2V0dGluZ3MubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQhPT1CLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQubm9uZSYmKHR8fCF0JiZ0aGlzLnNldHRpbmdzLnNob3dQb3NpdGl2ZVNpZ24mJiFpKSlzd2l0Y2godGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudCl7Y2FzZSBCLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQuc3VmZml4OmNhc2UgQi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LnJpZ2h0OmNhc2UgQi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LmxlZnQ6dT0wO2JyZWFrO2Nhc2UgQi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LnByZWZpeDp1PWN9ZWxzZSB1PTA7ZWxzZSBpZih0aGlzLnNldHRpbmdzLmNhcmV0UG9zaXRpb25PbkZvY3VzPT09Qi5vcHRpb25zLmNhcmV0UG9zaXRpb25PbkZvY3VzLmVuZClpZih0aGlzLnNldHRpbmdzLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50IT09Qi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50Lm5vbmUmJih0fHwhdCYmdGhpcy5zZXR0aW5ncy5zaG93UG9zaXRpdmVTaWduJiYhaSkpc3dpdGNoKHRoaXMuc2V0dGluZ3MubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQpe2Nhc2UgQi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LnN1ZmZpeDpjYXNlIEIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5yaWdodDpjYXNlIEIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5sZWZ0OnU9YTticmVhaztjYXNlIEIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5wcmVmaXg6dT1jK2F9ZWxzZSB1PWE7ZWxzZSBpZih0aGlzLnNldHRpbmdzLmNhcmV0UG9zaXRpb25PbkZvY3VzPT09Qi5vcHRpb25zLmNhcmV0UG9zaXRpb25PbkZvY3VzLmRlY2ltYWxMZWZ0KWlmKHRoaXMuc2V0dGluZ3MubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQhPT1CLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQubm9uZSYmKHR8fCF0JiZ0aGlzLnNldHRpbmdzLnNob3dQb3NpdGl2ZVNpZ24mJiFpKSlzd2l0Y2godGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudCl7Y2FzZSBCLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQuc3VmZml4OmNhc2UgQi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LnJpZ2h0OmNhc2UgQi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LmxlZnQ6dT1yO2JyZWFrO2Nhc2UgQi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LnByZWZpeDp1PWMrcn1lbHNlIHU9cjtlbHNlIGlmKHRoaXMuc2V0dGluZ3MuY2FyZXRQb3NpdGlvbk9uRm9jdXM9PT1CLm9wdGlvbnMuY2FyZXRQb3NpdGlvbk9uRm9jdXMuZGVjaW1hbFJpZ2h0KWlmKHRoaXMuc2V0dGluZ3MubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQhPT1CLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQubm9uZSYmKHR8fCF0JiZ0aGlzLnNldHRpbmdzLnNob3dQb3NpdGl2ZVNpZ24mJiFpKSlzd2l0Y2godGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudCl7Y2FzZSBCLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQuc3VmZml4OmNhc2UgQi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LnJpZ2h0OmNhc2UgQi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LmxlZnQ6dT1yK287YnJlYWs7Y2FzZSBCLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQucHJlZml4OnU9YytyK299ZWxzZSB1PXIrbztyZXR1cm4gdX19LHtrZXk6XCJfdHJpZ2dlclJhbmdlRXZlbnRzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtlfHx0aGlzLl90cmlnZ2VyRXZlbnQoQi5ldmVudHMubWluUmFuZ2VFeGNlZWRlZCx0aGlzLmRvbUVsZW1lbnQpLHR8fHRoaXMuX3RyaWdnZXJFdmVudChCLmV2ZW50cy5tYXhSYW5nZUV4Y2VlZGVkLHRoaXMuZG9tRWxlbWVudCl9fSx7a2V5OlwiX3NldEludmFsaWRTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pc0lucHV0RWxlbWVudD9NLnNldEludmFsaWRTdGF0ZSh0aGlzLmRvbUVsZW1lbnQpOnRoaXMuX2FkZENTU0NsYXNzKHRoaXMuc2V0dGluZ3MuaW52YWxpZENsYXNzKSx0aGlzLl90cmlnZ2VyRXZlbnQoQi5ldmVudHMuaW52YWxpZFZhbHVlLHRoaXMuZG9tRWxlbWVudCksdGhpcy52YWxpZFN0YXRlPSExfX0se2tleTpcIl9zZXRWYWxpZFN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmlzSW5wdXRFbGVtZW50P00uc2V0VmFsaWRTdGF0ZSh0aGlzLmRvbUVsZW1lbnQpOnRoaXMuX3JlbW92ZUNTU0NsYXNzKHRoaXMuc2V0dGluZ3MuaW52YWxpZENsYXNzKSx0aGlzLnZhbGlkU3RhdGV8fHRoaXMuX3RyaWdnZXJFdmVudChCLmV2ZW50cy5jb3JyZWN0ZWRWYWx1ZSx0aGlzLmRvbUVsZW1lbnQpLHRoaXMudmFsaWRTdGF0ZT0hMH19LHtrZXk6XCJfc2V0VmFsaWRPckludmFsaWRTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuc2V0dGluZ3Mub3ZlcnJpZGVNaW5NYXhMaW1pdHM9PT1CLm9wdGlvbnMub3ZlcnJpZGVNaW5NYXhMaW1pdHMuaW52YWxpZCl7dmFyIHQ9dGhpcy5jb25zdHJ1Y3Rvci5faXNNaW5pbXVtUmFuZ2VSZXNwZWN0ZWQoZSx0aGlzLnNldHRpbmdzKSxpPXRoaXMuY29uc3RydWN0b3IuX2lzTWF4aW11bVJhbmdlUmVzcGVjdGVkKGUsdGhpcy5zZXR0aW5ncyk7dCYmaT90aGlzLl9zZXRWYWxpZFN0YXRlKCk6dGhpcy5fc2V0SW52YWxpZFN0YXRlKCksdGhpcy5fdHJpZ2dlclJhbmdlRXZlbnRzKHQsaSl9fX0se2tleTpcIl9rZWVwQW5PcmlnaW5hbFNldHRpbmdzQ29weVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5vcmlnaW5hbERpZ2l0R3JvdXBTZXBhcmF0b3I9dGhpcy5zZXR0aW5ncy5kaWdpdEdyb3VwU2VwYXJhdG9yLHRoaXMub3JpZ2luYWxDdXJyZW5jeVN5bWJvbD10aGlzLnNldHRpbmdzLmN1cnJlbmN5U3ltYm9sLHRoaXMub3JpZ2luYWxTdWZmaXhUZXh0PXRoaXMuc2V0dGluZ3Muc3VmZml4VGV4dH19LHtrZXk6XCJfdHJpbUxlYWRpbmdBbmRUcmFpbGluZ1plcm9zXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoXCJcIj09PWV8fG51bGw9PT1lKXJldHVybiBlO2lmKHRoaXMuc2V0dGluZ3MubGVhZGluZ1plcm8hPT1CLm9wdGlvbnMubGVhZGluZ1plcm8ua2VlcCl7aWYoMD09PU51bWJlcihlKSlyZXR1cm5cIjBcIjtlPWUucmVwbGFjZSgvXigtKT8wKyg/PVxcZCkvZyxcIiQxXCIpfXJldHVybiBNLmNvbnRhaW5zKGUsXCIuXCIpJiYoZT1lLnJlcGxhY2UoLyhcXC5bMC05XSo/KTArJC8sXCIkMVwiKSksZS5yZXBsYWNlKC9cXC4kLyxcIlwiKX19LHtrZXk6XCJfc2V0UGVyc2lzdGVudFN0b3JhZ2VOYW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNldHRpbmdzLnNhdmVWYWx1ZVRvU2Vzc2lvblN0b3JhZ2UmJihcIlwiPT09dGhpcy5kb21FbGVtZW50Lm5hbWV8fE0uaXNVbmRlZmluZWQodGhpcy5kb21FbGVtZW50Lm5hbWUpP3RoaXMucmF3VmFsdWVTdG9yYWdlTmFtZT1cIlwiLmNvbmNhdCh0aGlzLnN0b3JhZ2VOYW1lUHJlZml4KS5jb25jYXQodGhpcy5kb21FbGVtZW50LmlkKTp0aGlzLnJhd1ZhbHVlU3RvcmFnZU5hbWU9XCJcIi5jb25jYXQodGhpcy5zdG9yYWdlTmFtZVByZWZpeCkuY29uY2F0KGRlY29kZVVSSUNvbXBvbmVudCh0aGlzLmRvbUVsZW1lbnQubmFtZSkpKX19LHtrZXk6XCJfc2F2ZVZhbHVlVG9QZXJzaXN0ZW50U3RvcmFnZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZXR0aW5ncy5zYXZlVmFsdWVUb1Nlc3Npb25TdG9yYWdlJiYodGhpcy5zZXNzaW9uU3RvcmFnZUF2YWlsYWJsZT9zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHRoaXMucmF3VmFsdWVTdG9yYWdlTmFtZSx0aGlzLnJhd1ZhbHVlKTpkb2N1bWVudC5jb29raWU9XCJcIi5jb25jYXQodGhpcy5yYXdWYWx1ZVN0b3JhZ2VOYW1lLFwiPVwiKS5jb25jYXQodGhpcy5yYXdWYWx1ZSxcIjsgZXhwaXJlcz0gOyBwYXRoPS9cIikpfX0se2tleTpcIl9nZXRWYWx1ZUZyb21QZXJzaXN0ZW50U3RvcmFnZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0dGluZ3Muc2F2ZVZhbHVlVG9TZXNzaW9uU3RvcmFnZT90aGlzLnNlc3Npb25TdG9yYWdlQXZhaWxhYmxlP3Nlc3Npb25TdG9yYWdlLmdldEl0ZW0odGhpcy5yYXdWYWx1ZVN0b3JhZ2VOYW1lKTp0aGlzLmNvbnN0cnVjdG9yLl9yZWFkQ29va2llKHRoaXMucmF3VmFsdWVTdG9yYWdlTmFtZSk6KE0ud2FybmluZyhcImBfZ2V0VmFsdWVGcm9tUGVyc2lzdGVudFN0b3JhZ2UoKWAgaXMgY2FsbGVkIGJ1dCBgc2V0dGluZ3Muc2F2ZVZhbHVlVG9TZXNzaW9uU3RvcmFnZWAgaXMgZmFsc2UuIFRoZXJlIG11c3QgYmUgYW4gZXJyb3IgdGhhdCBuZWVkcyBmaXhpbmcuXCIsdGhpcy5zZXR0aW5ncy5zaG93V2FybmluZ3MpLG51bGwpfX0se2tleTpcIl9yZW1vdmVWYWx1ZUZyb21QZXJzaXN0ZW50U3RvcmFnZVwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5zZXR0aW5ncy5zYXZlVmFsdWVUb1Nlc3Npb25TdG9yYWdlKWlmKHRoaXMuc2Vzc2lvblN0b3JhZ2VBdmFpbGFibGUpc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLnJhd1ZhbHVlU3RvcmFnZU5hbWUpO2Vsc2V7dmFyIGU9bmV3IERhdGU7ZS5zZXRUaW1lKGUuZ2V0VGltZSgpLTg2NGU1KTt2YXIgdD1cIjsgZXhwaXJlcz1cIi5jb25jYXQoZS50b1VUQ1N0cmluZygpKTtkb2N1bWVudC5jb29raWU9XCJcIi5jb25jYXQodGhpcy5yYXdWYWx1ZVN0b3JhZ2VOYW1lLFwiPScnIDtcIikuY29uY2F0KHQsXCI7IHBhdGg9L1wiKX19fSx7a2V5OlwiX2dldERlZmF1bHRWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0QXR0cmlidXRlKFwidmFsdWVcIik7cmV0dXJuIE0uaXNOdWxsKHQpP1wiXCI6dH19LHtrZXk6XCJfb25Gb2N1c0luQW5kTW91c2VFbnRlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuaXNFZGl0aW5nPSExLCF0aGlzLmZvcm11bGFNb2RlJiZ0aGlzLnNldHRpbmdzLnVuZm9ybWF0T25Ib3ZlciYmXCJtb3VzZWVudGVyXCI9PT1lLnR5cGUmJmUuYWx0S2V5KXRoaXMuY29uc3RydWN0b3IuX3VuZm9ybWF0QWx0SG92ZXJlZCh0aGlzKTtlbHNlIGlmKFwiZm9jdXNcIj09PWUudHlwZSYmKHRoaXMuaXNGb2N1c2VkPSEwLHRoaXMucmF3VmFsdWVPbkZvY3VzPXRoaXMucmF3VmFsdWUpLFwiZm9jdXNcIj09PWUudHlwZSYmdGhpcy5zZXR0aW5ncy51bmZvcm1hdE9uSG92ZXImJnRoaXMuaG92ZXJlZFdpdGhBbHQmJnRoaXMuY29uc3RydWN0b3IuX3JlZm9ybWF0QWx0SG92ZXJlZCh0aGlzKSxcImZvY3VzXCI9PT1lLnR5cGV8fFwibW91c2VlbnRlclwiPT09ZS50eXBlJiYhdGhpcy5pc0ZvY3VzZWQpe3ZhciB0PW51bGw7dGhpcy5zZXR0aW5ncy5lbXB0eUlucHV0QmVoYXZpb3I9PT1CLm9wdGlvbnMuZW1wdHlJbnB1dEJlaGF2aW9yLmZvY3VzJiZ0aGlzLnJhd1ZhbHVlPDAmJm51bGwhPT10aGlzLnNldHRpbmdzLm5lZ2F0aXZlQnJhY2tldHNUeXBlT25CbHVyJiZ0aGlzLnNldHRpbmdzLmlzTmVnYXRpdmVTaWduQWxsb3dlZCYmKHQ9dGhpcy5jb25zdHJ1Y3Rvci5fcmVtb3ZlQnJhY2tldHMoTS5nZXRFbGVtZW50VmFsdWUodGhpcy5kb21FbGVtZW50KSx0aGlzLnNldHRpbmdzKSk7dmFyIGk9dGhpcy5fZ2V0UmF3VmFsdWVUb0Zvcm1hdCh0aGlzLnJhd1ZhbHVlKTtpZihcIlwiIT09aSl7dmFyIG49dGhpcy5jb25zdHJ1Y3Rvci5fcm91bmRGb3JtYXR0ZWRWYWx1ZVNob3duT25Gb2N1c09yQmx1cihpLHRoaXMuc2V0dGluZ3MsdGhpcy5pc0ZvY3VzZWQpO3Q9dGhpcy5zZXR0aW5ncy5zaG93T25seU51bWJlcnNPbkZvY3VzPT09Qi5vcHRpb25zLnNob3dPbmx5TnVtYmVyc09uRm9jdXMub25seU51bWJlcnM/KHRoaXMuc2V0dGluZ3MuZGlnaXRHcm91cFNlcGFyYXRvcj1cIlwiLHRoaXMuc2V0dGluZ3MuY3VycmVuY3lTeW1ib2w9XCJcIix0aGlzLnNldHRpbmdzLnN1ZmZpeFRleHQ9XCJcIixuLnJlcGxhY2UoXCIuXCIsdGhpcy5zZXR0aW5ncy5kZWNpbWFsQ2hhcmFjdGVyKSk6TS5pc051bGwobik/XCJcIjp0aGlzLmNvbnN0cnVjdG9yLl9hZGRHcm91cFNlcGFyYXRvcnMobi5yZXBsYWNlKFwiLlwiLHRoaXMuc2V0dGluZ3MuZGVjaW1hbENoYXJhY3RlciksdGhpcy5zZXR0aW5ncyx0aGlzLmlzRm9jdXNlZCxpKX1NLmlzTnVsbCh0KT90aGlzLnZhbHVlT25Gb2N1cz1cIlwiOnRoaXMudmFsdWVPbkZvY3VzPXQsdGhpcy5sYXN0VmFsPXRoaXMudmFsdWVPbkZvY3VzO3ZhciBhPXRoaXMuY29uc3RydWN0b3IuX2lzRWxlbWVudFZhbHVlRW1wdHlPck9ubHlUaGVOZWdhdGl2ZVNpZ24odGhpcy52YWx1ZU9uRm9jdXMsdGhpcy5zZXR0aW5ncykscj10aGlzLmNvbnN0cnVjdG9yLl9vcmRlclZhbHVlQ3VycmVuY3lTeW1ib2xBbmRTdWZmaXhUZXh0KHRoaXMudmFsdWVPbkZvY3VzLHRoaXMuc2V0dGluZ3MsITApLHM9YSYmXCJcIiE9PXImJnRoaXMuc2V0dGluZ3MuZW1wdHlJbnB1dEJlaGF2aW9yPT09Qi5vcHRpb25zLmVtcHR5SW5wdXRCZWhhdmlvci5mb2N1cztzJiYodD1yKSxNLmlzTnVsbCh0KXx8dGhpcy5fc2V0RWxlbWVudFZhbHVlKHQpLHMmJnI9PT10aGlzLnNldHRpbmdzLmN1cnJlbmN5U3ltYm9sJiZ0aGlzLnNldHRpbmdzLmN1cnJlbmN5U3ltYm9sUGxhY2VtZW50PT09Qi5vcHRpb25zLmN1cnJlbmN5U3ltYm9sUGxhY2VtZW50LnN1ZmZpeCYmTS5zZXRFbGVtZW50U2VsZWN0aW9uKGUudGFyZ2V0LDApfX19LHtrZXk6XCJfb25Gb2N1c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZXR0aW5ncy5pc0NhbmNlbGxhYmxlJiZ0aGlzLl9zYXZlQ2FuY2VsbGFibGVWYWx1ZSgpfX0se2tleTpcIl9vbkZvY3VzSW5cIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnNldHRpbmdzLnNlbGVjdE9uRm9jdXM/dGhpcy5zZWxlY3QoKTpNLmlzTnVsbCh0aGlzLnNldHRpbmdzLmNhcmV0UG9zaXRpb25PbkZvY3VzKXx8TS5zZXRFbGVtZW50U2VsZWN0aW9uKGUudGFyZ2V0LHRoaXMuX2luaXRpYWxDYXJldFBvc2l0aW9uKE0uZ2V0RWxlbWVudFZhbHVlKHRoaXMuZG9tRWxlbWVudCkpKX19LHtrZXk6XCJfZW50ZXJGb3JtdWxhTW9kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZXR0aW5ncy5mb3JtdWxhTW9kZSYmKHRoaXMuZm9ybXVsYU1vZGU9ITAsTS5zZXRFbGVtZW50VmFsdWUodGhpcy5kb21FbGVtZW50LFwiPVwiKSxNLnNldEVsZW1lbnRTZWxlY3Rpb24odGhpcy5kb21FbGVtZW50LDEpKX19LHtrZXk6XCJfZXhpdEZvcm11bGFNb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0PU0uZ2V0RWxlbWVudFZhbHVlKHRoaXMuZG9tRWxlbWVudCk7dD10LnJlcGxhY2UoL15cXHMqPS8sXCJcIik7dHJ5e3ZhciBpPW5ldyB2KHQsdGhpcy5zZXR0aW5ncy5kZWNpbWFsQ2hhcmFjdGVyKTtlPShuZXcgdSkuZXZhbHVhdGUoaSl9Y2F0Y2goZSl7cmV0dXJuIHRoaXMuX3RyaWdnZXJFdmVudChCLmV2ZW50cy5pbnZhbGlkRm9ybXVsYSx0aGlzLmRvbUVsZW1lbnQse2Zvcm11bGE6dCxhTkVsZW1lbnQ6dGhpc30pLHRoaXMucmVmb3JtYXQoKSx2b2lkKHRoaXMuZm9ybXVsYU1vZGU9ITEpfXRoaXMuX3RyaWdnZXJFdmVudChCLmV2ZW50cy52YWxpZEZvcm11bGEsdGhpcy5kb21FbGVtZW50LHtmb3JtdWxhOnQscmVzdWx0OmUsYU5FbGVtZW50OnRoaXN9KSx0aGlzLnNldChlKSx0aGlzLmZvcm11bGFNb2RlPSExfX0se2tleTpcIl9hY2NlcHROb25QcmludGFibGVLZXlzSW5Gb3JtdWxhTW9kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXZlbnRLZXk9PT1kLmtleU5hbWUuQmFja3NwYWNlfHx0aGlzLmV2ZW50S2V5PT09ZC5rZXlOYW1lLkRlbGV0ZXx8dGhpcy5ldmVudEtleT09PWQua2V5TmFtZS5MZWZ0QXJyb3d8fHRoaXMuZXZlbnRLZXk9PT1kLmtleU5hbWUuUmlnaHRBcnJvd3x8dGhpcy5ldmVudEtleT09PWQua2V5TmFtZS5Ib21lfHx0aGlzLmV2ZW50S2V5PT09ZC5rZXlOYW1lLkVuZH19LHtrZXk6XCJfb25LZXlkb3duXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5mb3JtYXR0ZWQ9ITEsdGhpcy5pc0VkaXRpbmc9ITAsdGhpcy5mb3JtdWxhTW9kZXx8dGhpcy5pc0ZvY3VzZWR8fCF0aGlzLnNldHRpbmdzLnVuZm9ybWF0T25Ib3Zlcnx8IWUuYWx0S2V5fHx0aGlzLmRvbUVsZW1lbnQhPT1NLmdldEhvdmVyZWRFbGVtZW50KCkpe2lmKHRoaXMuX3VwZGF0ZUV2ZW50S2V5SW5mbyhlKSx0aGlzLmtleWRvd25FdmVudENvdW50ZXIrPTEsMT09PXRoaXMua2V5ZG93bkV2ZW50Q291bnRlciYmKHRoaXMuaW5pdGlhbFZhbHVlT25GaXJzdEtleWRvd249TS5nZXRFbGVtZW50VmFsdWUoZS50YXJnZXQpLHRoaXMuaW5pdGlhbFJhd1ZhbHVlT25GaXJzdEtleWRvd249dGhpcy5yYXdWYWx1ZSksdGhpcy5mb3JtdWxhTW9kZSl7aWYodGhpcy5ldmVudEtleT09PWQua2V5TmFtZS5Fc2MpcmV0dXJuIHRoaXMuZm9ybXVsYU1vZGU9ITEsdm9pZCB0aGlzLnJlZm9ybWF0KCk7aWYodGhpcy5ldmVudEtleT09PWQua2V5TmFtZS5FbnRlcilyZXR1cm4gdm9pZCB0aGlzLl9leGl0Rm9ybXVsYU1vZGUoKTtpZih0aGlzLl9hY2NlcHROb25QcmludGFibGVLZXlzSW5Gb3JtdWxhTW9kZSgpKXJldHVybn1lbHNlIGlmKHRoaXMuZXZlbnRLZXk9PT1kLmtleU5hbWUuRXF1YWwpcmV0dXJuIHZvaWQgdGhpcy5fZW50ZXJGb3JtdWxhTW9kZSgpO2lmKHRoaXMuZG9tRWxlbWVudC5yZWFkT25seXx8dGhpcy5zZXR0aW5ncy5yZWFkT25seXx8dGhpcy5kb21FbGVtZW50LmRpc2FibGVkKXRoaXMucHJvY2Vzc2VkPSEwO2Vsc2V7dGhpcy5ldmVudEtleT09PWQua2V5TmFtZS5Fc2MmJihlLnByZXZlbnREZWZhdWx0KCksdGhpcy5zZXR0aW5ncy5pc0NhbmNlbGxhYmxlJiZ0aGlzLnJhd1ZhbHVlIT09dGhpcy5zYXZlZENhbmNlbGxhYmxlVmFsdWUmJih0aGlzLnNldCh0aGlzLnNhdmVkQ2FuY2VsbGFibGVWYWx1ZSksdGhpcy5fdHJpZ2dlckV2ZW50KEIuZXZlbnRzLm5hdGl2ZS5pbnB1dCxlLnRhcmdldCkpLHRoaXMuc2VsZWN0KCkpO3ZhciB0PU0uZ2V0RWxlbWVudFZhbHVlKGUudGFyZ2V0KTtpZih0aGlzLmV2ZW50S2V5PT09ZC5rZXlOYW1lLkVudGVyJiZ0aGlzLnJhd1ZhbHVlIT09dGhpcy5yYXdWYWx1ZU9uRm9jdXMmJih0aGlzLl90cmlnZ2VyRXZlbnQoQi5ldmVudHMubmF0aXZlLmNoYW5nZSxlLnRhcmdldCksdGhpcy52YWx1ZU9uRm9jdXM9dCx0aGlzLnJhd1ZhbHVlT25Gb2N1cz10aGlzLnJhd1ZhbHVlLHRoaXMuc2V0dGluZ3MuaXNDYW5jZWxsYWJsZSYmdGhpcy5fc2F2ZUNhbmNlbGxhYmxlVmFsdWUoKSksdGhpcy5fdXBkYXRlSW50ZXJuYWxQcm9wZXJ0aWVzKGUpLHRoaXMuX3Byb2Nlc3NOb25QcmludGFibGVLZXlzQW5kU2hvcnRjdXRzKGUpKXRoaXMucHJvY2Vzc2VkPSEwO2Vsc2UgaWYodGhpcy5ldmVudEtleT09PWQua2V5TmFtZS5CYWNrc3BhY2V8fHRoaXMuZXZlbnRLZXk9PT1kLmtleU5hbWUuRGVsZXRlKXt2YXIgaT10aGlzLl9wcm9jZXNzQ2hhcmFjdGVyRGVsZXRpb24oKTtpZih0aGlzLnByb2Nlc3NlZD0hMCwhaSlyZXR1cm4gdm9pZCBlLnByZXZlbnREZWZhdWx0KCk7dGhpcy5fZm9ybWF0VmFsdWUoZSksKHQ9TS5nZXRFbGVtZW50VmFsdWUoZS50YXJnZXQpKSE9PXRoaXMubGFzdFZhbCYmdGhpcy50aHJvd0lucHV0JiYodGhpcy5fdHJpZ2dlckV2ZW50KEIuZXZlbnRzLm5hdGl2ZS5pbnB1dCxlLnRhcmdldCksZS5wcmV2ZW50RGVmYXVsdCgpKSx0aGlzLmxhc3RWYWw9dCx0aGlzLnRocm93SW5wdXQ9ITB9fX1lbHNlIHRoaXMuY29uc3RydWN0b3IuX3VuZm9ybWF0QWx0SG92ZXJlZCh0aGlzKX19LHtrZXk6XCJfb25LZXlwcmVzc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZm9ybXVsYU1vZGUpe2lmKHRoaXMuX2FjY2VwdE5vblByaW50YWJsZUtleXNJbkZvcm11bGFNb2RlKCkpcmV0dXJuO2lmKHRoaXMuc2V0dGluZ3MuZm9ybXVsYUNoYXJzLnRlc3QodGhpcy5ldmVudEtleSkpcmV0dXJuO2UucHJldmVudERlZmF1bHQoKX1lbHNlIGlmKHRoaXMuZXZlbnRLZXkhPT1kLmtleU5hbWUuSW5zZXJ0KXt2YXIgdD10aGlzLnByb2Nlc3NlZDtpZih0aGlzLl91cGRhdGVJbnRlcm5hbFByb3BlcnRpZXMoZSksIXRoaXMuX3Byb2Nlc3NOb25QcmludGFibGVLZXlzQW5kU2hvcnRjdXRzKGUpKWlmKHQpZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2V7aWYodGhpcy5fcHJvY2Vzc0NoYXJhY3Rlckluc2VydGlvbigpKXt0aGlzLl9mb3JtYXRWYWx1ZShlKTt2YXIgaT1NLmdldEVsZW1lbnRWYWx1ZShlLnRhcmdldCk7aWYoaSE9PXRoaXMubGFzdFZhbCYmdGhpcy50aHJvd0lucHV0KXRoaXMuX3RyaWdnZXJFdmVudChCLmV2ZW50cy5uYXRpdmUuaW5wdXQsZS50YXJnZXQpLGUucHJldmVudERlZmF1bHQoKTtlbHNle2lmKCh0aGlzLmV2ZW50S2V5PT09dGhpcy5zZXR0aW5ncy5kZWNpbWFsQ2hhcmFjdGVyfHx0aGlzLmV2ZW50S2V5PT09dGhpcy5zZXR0aW5ncy5kZWNpbWFsQ2hhcmFjdGVyQWx0ZXJuYXRpdmUpJiZNLmdldEVsZW1lbnRTZWxlY3Rpb24oZS50YXJnZXQpLnN0YXJ0PT09TS5nZXRFbGVtZW50U2VsZWN0aW9uKGUudGFyZ2V0KS5lbmQmJk0uZ2V0RWxlbWVudFNlbGVjdGlvbihlLnRhcmdldCkuc3RhcnQ9PT1pLmluZGV4T2YodGhpcy5zZXR0aW5ncy5kZWNpbWFsQ2hhcmFjdGVyKSl7dmFyIG49TS5nZXRFbGVtZW50U2VsZWN0aW9uKGUudGFyZ2V0KS5zdGFydCsxO00uc2V0RWxlbWVudFNlbGVjdGlvbihlLnRhcmdldCxuKX1lLnByZXZlbnREZWZhdWx0KCl9cmV0dXJuIHRoaXMubGFzdFZhbD1NLmdldEVsZW1lbnRWYWx1ZShlLnRhcmdldCksdGhpcy50aHJvd0lucHV0PSEwLHZvaWQgdGhpcy5fc2V0VmFsaWRPckludmFsaWRTdGF0ZSh0aGlzLnJhd1ZhbHVlKX1lLnByZXZlbnREZWZhdWx0KCl9fX19LHtrZXk6XCJfb25LZXl1cFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuaXNFZGl0aW5nPSExLHRoaXMua2V5ZG93bkV2ZW50Q291bnRlcj0wLCF0aGlzLmZvcm11bGFNb2RlKWlmKHRoaXMuc2V0dGluZ3MuaXNDYW5jZWxsYWJsZSYmdGhpcy5ldmVudEtleT09PWQua2V5TmFtZS5Fc2MpZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2V7aWYodGhpcy5ldmVudEtleT09PWQua2V5TmFtZS5afHx0aGlzLmV2ZW50S2V5PT09ZC5rZXlOYW1lLnope2lmKGUuY3RybEtleSYmZS5zaGlmdEtleSlyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2hpc3RvcnlUYWJsZVJlZG8oKSx2b2lkKHRoaXMub25Hb2luZ1JlZG89ITApO2lmKGUuY3RybEtleSYmIWUuc2hpZnRLZXkpe2lmKCF0aGlzLm9uR29pbmdSZWRvKXJldHVybiBlLnByZXZlbnREZWZhdWx0KCksdm9pZCB0aGlzLl9oaXN0b3J5VGFibGVVbmRvKCk7dGhpcy5vbkdvaW5nUmVkbz0hMX19aWYodGhpcy5vbkdvaW5nUmVkbyYmKGUuY3RybEtleXx8ZS5zaGlmdEtleSkmJih0aGlzLm9uR29pbmdSZWRvPSExKSwoZS5jdHJsS2V5fHxlLm1ldGFLZXkpJiZ0aGlzLmV2ZW50S2V5PT09ZC5rZXlOYW1lLngpe3ZhciB0PU0uZ2V0RWxlbWVudFNlbGVjdGlvbih0aGlzLmRvbUVsZW1lbnQpLnN0YXJ0LGk9dGhpcy5jb25zdHJ1Y3Rvci5fdG9OdW1lcmljVmFsdWUoTS5nZXRFbGVtZW50VmFsdWUoZS50YXJnZXQpLHRoaXMuc2V0dGluZ3MpO3RoaXMuc2V0KGkpLHRoaXMuX3NldENhcmV0UG9zaXRpb24odCl9aWYodGhpcy5ldmVudEtleT09PWQua2V5TmFtZS5BbHQmJnRoaXMuc2V0dGluZ3MudW5mb3JtYXRPbkhvdmVyJiZ0aGlzLmhvdmVyZWRXaXRoQWx0KXRoaXMuY29uc3RydWN0b3IuX3JlZm9ybWF0QWx0SG92ZXJlZCh0aGlzKTtlbHNlIGlmKCFlLmN0cmxLZXkmJiFlLm1ldGFLZXl8fHRoaXMuZXZlbnRLZXkhPT1kLmtleU5hbWUuQmFja3NwYWNlJiZ0aGlzLmV2ZW50S2V5IT09ZC5rZXlOYW1lLkRlbGV0ZSl7dGhpcy5fdXBkYXRlSW50ZXJuYWxQcm9wZXJ0aWVzKGUpO3ZhciBuPXRoaXMuX3Byb2Nlc3NOb25QcmludGFibGVLZXlzQW5kU2hvcnRjdXRzKGUpO2RlbGV0ZSB0aGlzLnZhbHVlUGFydHNCZWZvcmVQYXN0ZTt2YXIgYT1NLmdldEVsZW1lbnRWYWx1ZShlLnRhcmdldCk7aWYoIShufHxcIlwiPT09YSYmXCJcIj09PXRoaXMuaW5pdGlhbFZhbHVlT25GaXJzdEtleWRvd24pJiYoYT09PXRoaXMuc2V0dGluZ3MuY3VycmVuY3lTeW1ib2w/dGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudD09PUIub3B0aW9ucy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudC5zdWZmaXg/TS5zZXRFbGVtZW50U2VsZWN0aW9uKGUudGFyZ2V0LDApOk0uc2V0RWxlbWVudFNlbGVjdGlvbihlLnRhcmdldCx0aGlzLnNldHRpbmdzLmN1cnJlbmN5U3ltYm9sLmxlbmd0aCk6dGhpcy5ldmVudEtleT09PWQua2V5TmFtZS5UYWImJk0uc2V0RWxlbWVudFNlbGVjdGlvbihlLnRhcmdldCwwLGEubGVuZ3RoKSwoYT09PXRoaXMuc2V0dGluZ3Muc3VmZml4VGV4dHx8XCJcIj09PXRoaXMucmF3VmFsdWUmJlwiXCIhPT10aGlzLnNldHRpbmdzLmN1cnJlbmN5U3ltYm9sJiZcIlwiIT09dGhpcy5zZXR0aW5ncy5zdWZmaXhUZXh0KSYmTS5zZXRFbGVtZW50U2VsZWN0aW9uKGUudGFyZ2V0LDApLG51bGwhPT10aGlzLnNldHRpbmdzLmRlY2ltYWxQbGFjZXNTaG93bk9uRm9jdXMmJnRoaXMuX3NhdmVWYWx1ZVRvUGVyc2lzdGVudFN0b3JhZ2UoKSx0aGlzLmZvcm1hdHRlZHx8dGhpcy5fZm9ybWF0VmFsdWUoZSksdGhpcy5fc2V0VmFsaWRPckludmFsaWRTdGF0ZSh0aGlzLnJhd1ZhbHVlKSx0aGlzLl9zYXZlUmF3VmFsdWVGb3JBbmRyb2lkKCksYSE9PXRoaXMuaW5pdGlhbFZhbHVlT25GaXJzdEtleWRvd24mJnRoaXMuX3RyaWdnZXJFdmVudChCLmV2ZW50cy5mb3JtYXR0ZWQsZS50YXJnZXQse29sZFZhbHVlOnRoaXMuaW5pdGlhbFZhbHVlT25GaXJzdEtleWRvd24sbmV3VmFsdWU6YSxvbGRSYXdWYWx1ZTp0aGlzLmluaXRpYWxSYXdWYWx1ZU9uRmlyc3RLZXlkb3duLG5ld1Jhd1ZhbHVlOnRoaXMucmF3VmFsdWUsaXNQcmlzdGluZTp0aGlzLmlzUHJpc3RpbmUoITEpLGVycm9yOm51bGwsYU5FbGVtZW50OnRoaXN9KSwxPHRoaXMuaGlzdG9yeVRhYmxlLmxlbmd0aCkpe3ZhciByPU0uZ2V0RWxlbWVudFNlbGVjdGlvbih0aGlzLmRvbUVsZW1lbnQpO3RoaXMuc2VsZWN0aW9uU3RhcnQ9ci5zdGFydCx0aGlzLnNlbGVjdGlvbkVuZD1yLmVuZCx0aGlzLmhpc3RvcnlUYWJsZVt0aGlzLmhpc3RvcnlUYWJsZUluZGV4XS5zdGFydD10aGlzLnNlbGVjdGlvblN0YXJ0LHRoaXMuaGlzdG9yeVRhYmxlW3RoaXMuaGlzdG9yeVRhYmxlSW5kZXhdLmVuZD10aGlzLnNlbGVjdGlvbkVuZH19ZWxzZXt2YXIgcz1NLmdldEVsZW1lbnRWYWx1ZShlLnRhcmdldCk7dGhpcy5fc2V0UmF3VmFsdWUodGhpcy5fZm9ybWF0T3JVbmZvcm1hdE90aGVyKCExLHMpKX19fX0se2tleTpcIl9zYXZlUmF3VmFsdWVGb3JBbmRyb2lkXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmV2ZW50S2V5PT09ZC5rZXlOYW1lLkFuZHJvaWREZWZhdWx0KXt2YXIgZT10aGlzLmNvbnN0cnVjdG9yLl9zdHJpcEFsbE5vbk51bWJlckNoYXJhY3RlcnNFeGNlcHRDdXN0b21EZWNpbWFsQ2hhcih0aGlzLmdldEZvcm1hdHRlZCgpLHRoaXMuc2V0dGluZ3MsITAsdGhpcy5pc0ZvY3VzZWQpO2U9dGhpcy5jb25zdHJ1Y3Rvci5fY29udmVydFRvTnVtZXJpY1N0cmluZyhlLHRoaXMuc2V0dGluZ3MpLHRoaXMuX3NldFJhd1ZhbHVlKGUpfX19LHtrZXk6XCJfb25Gb2N1c091dEFuZE1vdXNlTGVhdmVcIix2YWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzLmlzRWRpdGluZz0hMSxcIm1vdXNlbGVhdmVcIiE9PWUudHlwZXx8IXRoaXMuZm9ybXVsYU1vZGUpaWYodGhpcy5zZXR0aW5ncy51bmZvcm1hdE9uSG92ZXImJlwibW91c2VsZWF2ZVwiPT09ZS50eXBlJiZ0aGlzLmhvdmVyZWRXaXRoQWx0KXRoaXMuY29uc3RydWN0b3IuX3JlZm9ybWF0QWx0SG92ZXJlZCh0aGlzKTtlbHNlIGlmKFwibW91c2VsZWF2ZVwiPT09ZS50eXBlJiYhdGhpcy5pc0ZvY3VzZWR8fFwiYmx1clwiPT09ZS50eXBlKXtcImJsdXJcIj09PWUudHlwZSYmdGhpcy5mb3JtdWxhTW9kZSYmdGhpcy5fZXhpdEZvcm11bGFNb2RlKCksdGhpcy5fc2F2ZVZhbHVlVG9QZXJzaXN0ZW50U3RvcmFnZSgpLHRoaXMuc2V0dGluZ3Muc2hvd09ubHlOdW1iZXJzT25Gb2N1cz09PUIub3B0aW9ucy5zaG93T25seU51bWJlcnNPbkZvY3VzLm9ubHlOdW1iZXJzJiYodGhpcy5zZXR0aW5ncy5kaWdpdEdyb3VwU2VwYXJhdG9yPXRoaXMub3JpZ2luYWxEaWdpdEdyb3VwU2VwYXJhdG9yLHRoaXMuc2V0dGluZ3MuY3VycmVuY3lTeW1ib2w9dGhpcy5vcmlnaW5hbEN1cnJlbmN5U3ltYm9sLHRoaXMuc2V0dGluZ3Muc3VmZml4VGV4dD10aGlzLm9yaWdpbmFsU3VmZml4VGV4dCk7dmFyIHQ9dGhpcy5fZ2V0UmF3VmFsdWVUb0Zvcm1hdCh0aGlzLnJhd1ZhbHVlKSxpPU0uaXNOdWxsKHQpLG49Uyh0aGlzLmNvbnN0cnVjdG9yLl9jaGVja0lmSW5SYW5nZVdpdGhPdmVycmlkZU9wdGlvbih0LHRoaXMuc2V0dGluZ3MpLDIpLGE9blswXSxyPW5bMV0scz0hMTtpZihcIlwiPT09dHx8aXx8KHRoaXMuX3RyaWdnZXJSYW5nZUV2ZW50cyhhLHIpLHRoaXMuc2V0dGluZ3MudmFsdWVzVG9TdHJpbmdzJiZ0aGlzLl9jaGVja1ZhbHVlc1RvU3RyaW5ncyh0KSYmKHRoaXMuX3NldEVsZW1lbnRWYWx1ZSh0aGlzLnNldHRpbmdzLnZhbHVlc1RvU3RyaW5nc1t0XSkscz0hMCkpLCFzKXt2YXIgbztpZihvPWl8fFwiXCI9PT10P3Q6U3RyaW5nKHQpLFwiXCI9PT10fHxpKXtpZihcIlwiPT09dClzd2l0Y2godGhpcy5zZXR0aW5ncy5lbXB0eUlucHV0QmVoYXZpb3Ipe2Nhc2UgQi5vcHRpb25zLmVtcHR5SW5wdXRCZWhhdmlvci56ZXJvOnRoaXMuX3NldFJhd1ZhbHVlKFwiMFwiKSxvPXRoaXMuY29uc3RydWN0b3IuX3JvdW5kVmFsdWUoXCIwXCIsdGhpcy5zZXR0aW5ncywwKTticmVhaztjYXNlIEIub3B0aW9ucy5lbXB0eUlucHV0QmVoYXZpb3IubWluOnRoaXMuX3NldFJhd1ZhbHVlKHRoaXMuc2V0dGluZ3MubWluaW11bVZhbHVlKSxvPXRoaXMuY29uc3RydWN0b3IuX3JvdW5kRm9ybWF0dGVkVmFsdWVTaG93bk9uRm9jdXNPckJsdXIodGhpcy5zZXR0aW5ncy5taW5pbXVtVmFsdWUsdGhpcy5zZXR0aW5ncyx0aGlzLmlzRm9jdXNlZCk7YnJlYWs7Y2FzZSBCLm9wdGlvbnMuZW1wdHlJbnB1dEJlaGF2aW9yLm1heDp0aGlzLl9zZXRSYXdWYWx1ZSh0aGlzLnNldHRpbmdzLm1heGltdW1WYWx1ZSksbz10aGlzLmNvbnN0cnVjdG9yLl9yb3VuZEZvcm1hdHRlZFZhbHVlU2hvd25PbkZvY3VzT3JCbHVyKHRoaXMuc2V0dGluZ3MubWF4aW11bVZhbHVlLHRoaXMuc2V0dGluZ3MsdGhpcy5pc0ZvY3VzZWQpO2JyZWFrO2RlZmF1bHQ6TS5pc051bWJlcih0aGlzLnNldHRpbmdzLmVtcHR5SW5wdXRCZWhhdmlvcikmJih0aGlzLl9zZXRSYXdWYWx1ZSh0aGlzLnNldHRpbmdzLmVtcHR5SW5wdXRCZWhhdmlvciksbz10aGlzLmNvbnN0cnVjdG9yLl9yb3VuZEZvcm1hdHRlZFZhbHVlU2hvd25PbkZvY3VzT3JCbHVyKHRoaXMuc2V0dGluZ3MuZW1wdHlJbnB1dEJlaGF2aW9yLHRoaXMuc2V0dGluZ3MsdGhpcy5pc0ZvY3VzZWQpKX19ZWxzZSBhJiZyJiYhdGhpcy5jb25zdHJ1Y3Rvci5faXNFbGVtZW50VmFsdWVFbXB0eU9yT25seVRoZU5lZ2F0aXZlU2lnbih0LHRoaXMuc2V0dGluZ3MpPyhvPXRoaXMuX21vZGlmeU5lZ2F0aXZlU2lnbkFuZERlY2ltYWxDaGFyYWN0ZXJGb3JSYXdWYWx1ZShvKSx0aGlzLnNldHRpbmdzLmRpdmlzb3JXaGVuVW5mb2N1c2VkJiYhTS5pc051bGwobykmJihvPShvLz10aGlzLnNldHRpbmdzLmRpdmlzb3JXaGVuVW5mb2N1c2VkKS50b1N0cmluZygpKSxvPXRoaXMuY29uc3RydWN0b3IuX3JvdW5kRm9ybWF0dGVkVmFsdWVTaG93bk9uQmx1cihvLHRoaXMuc2V0dGluZ3MpLG89dGhpcy5jb25zdHJ1Y3Rvci5fbW9kaWZ5TmVnYXRpdmVTaWduQW5kRGVjaW1hbENoYXJhY3RlckZvckZvcm1hdHRlZFZhbHVlKG8sdGhpcy5zZXR0aW5ncykpOnRoaXMuX3RyaWdnZXJSYW5nZUV2ZW50cyhhLHIpO3ZhciBsPXRoaXMuY29uc3RydWN0b3IuX29yZGVyVmFsdWVDdXJyZW5jeVN5bWJvbEFuZFN1ZmZpeFRleHQobyx0aGlzLnNldHRpbmdzLCExKTt0aGlzLmNvbnN0cnVjdG9yLl9pc0VsZW1lbnRWYWx1ZUVtcHR5T3JPbmx5VGhlTmVnYXRpdmVTaWduKG8sdGhpcy5zZXR0aW5ncyl8fGkmJnRoaXMuc2V0dGluZ3MuZW1wdHlJbnB1dEJlaGF2aW9yPT09Qi5vcHRpb25zLmVtcHR5SW5wdXRCZWhhdmlvci5udWxsfHwobD10aGlzLmNvbnN0cnVjdG9yLl9hZGRHcm91cFNlcGFyYXRvcnMobyx0aGlzLnNldHRpbmdzLCExLHQpKSxsPT09dCYmXCJcIiE9PXQmJnRoaXMuc2V0dGluZ3MuYWxsb3dEZWNpbWFsUGFkZGluZyE9PUIub3B0aW9ucy5hbGxvd0RlY2ltYWxQYWRkaW5nLm5ldmVyJiZ0aGlzLnNldHRpbmdzLmFsbG93RGVjaW1hbFBhZGRpbmchPT1CLm9wdGlvbnMuYWxsb3dEZWNpbWFsUGFkZGluZy5mbG9hdHN8fCh0aGlzLnNldHRpbmdzLnN5bWJvbFdoZW5VbmZvY3VzZWQmJlwiXCIhPT10JiZudWxsIT09dCYmKGw9XCJcIi5jb25jYXQobCkuY29uY2F0KHRoaXMuc2V0dGluZ3Muc3ltYm9sV2hlblVuZm9jdXNlZCkpLHRoaXMuX3NldEVsZW1lbnRWYWx1ZShsKSl9dGhpcy5fc2V0VmFsaWRPckludmFsaWRTdGF0ZSh0aGlzLnJhd1ZhbHVlKSxcImJsdXJcIj09PWUudHlwZSYmdGhpcy5fb25CbHVyKGUpfX19LHtrZXk6XCJfb25QYXN0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGUucHJldmVudERlZmF1bHQoKSwhKHRoaXMuc2V0dGluZ3MucmVhZE9ubHl8fHRoaXMuZG9tRWxlbWVudC5yZWFkT25seXx8dGhpcy5kb21FbGVtZW50LmRpc2FibGVkKSl7dmFyIHQsaTt3aW5kb3cuY2xpcGJvYXJkRGF0YSYmd2luZG93LmNsaXBib2FyZERhdGEuZ2V0RGF0YT90PXdpbmRvdy5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJUZXh0XCIpOmUuY2xpcGJvYXJkRGF0YSYmZS5jbGlwYm9hcmREYXRhLmdldERhdGE/dD1lLmNsaXBib2FyZERhdGEuZ2V0RGF0YShcInRleHQvcGxhaW5cIik6TS50aHJvd0Vycm9yKFwiVW5hYmxlIHRvIHJldHJpZXZlIHRoZSBwYXN0ZWQgdmFsdWUuIFBsZWFzZSB1c2UgYSBtb2Rlcm4gYnJvd3NlciAoaWUuIEZpcmVmb3ggb3IgQ2hyb21pdW0pLlwiKSxpPWUudGFyZ2V0LnRhZ05hbWU/ZS50YXJnZXQ6ZS5leHBsaWNpdE9yaWdpbmFsVGFyZ2V0O3ZhciBuPU0uZ2V0RWxlbWVudFZhbHVlKGkpLGE9aS5zZWxlY3Rpb25TdGFydHx8MCxyPWkuc2VsZWN0aW9uRW5kfHwwLHM9ci1hO2lmKHM9PT1uLmxlbmd0aCl7dmFyIG89dGhpcy5fcHJlcGFyZVBhc3RlZFRleHQodCksbD1NLmFyYWJpY1RvTGF0aW5OdW1iZXJzKG8sITEsITEsITEpO3JldHVyblwiLlwiPT09bHx8XCJcIj09PWx8fFwiLlwiIT09bCYmIU0uaXNOdW1iZXIobCk/KHRoaXMuZm9ybWF0dGVkPSEwLHZvaWQodGhpcy5zZXR0aW5ncy5vbkludmFsaWRQYXN0ZT09PUIub3B0aW9ucy5vbkludmFsaWRQYXN0ZS5lcnJvciYmTS50aHJvd0Vycm9yKFwiVGhlIHBhc3RlZCB2YWx1ZSAnXCIuY29uY2F0KHQsXCInIGlzIG5vdCBhIHZhbGlkIHBhc3RlIGNvbnRlbnQuXCIpKSkpOih0aGlzLnNldChsKSx0aGlzLmZvcm1hdHRlZD0hMCx2b2lkIHRoaXMuX3RyaWdnZXJFdmVudChCLmV2ZW50cy5uYXRpdmUuaW5wdXQsaSkpfXZhciB1PU0uaXNOZWdhdGl2ZVN0cmljdCh0LHRoaXMuc2V0dGluZ3MubmVnYXRpdmVTaWduQ2hhcmFjdGVyKTt1JiYodD10LnNsaWNlKDEsdC5sZW5ndGgpKTt2YXIgYyxoLG09dGhpcy5fcHJlcGFyZVBhc3RlZFRleHQodCk7aWYoXCIuXCIhPT0oYz1cIi5cIj09PW0/XCIuXCI6TS5hcmFiaWNUb0xhdGluTnVtYmVycyhtLCExLCExLCExKSkmJighTS5pc051bWJlcihjKXx8XCJcIj09PWMpKXJldHVybiB0aGlzLmZvcm1hdHRlZD0hMCx2b2lkKHRoaXMuc2V0dGluZ3Mub25JbnZhbGlkUGFzdGU9PT1CLm9wdGlvbnMub25JbnZhbGlkUGFzdGUuZXJyb3ImJk0udGhyb3dFcnJvcihcIlRoZSBwYXN0ZWQgdmFsdWUgJ1wiLmNvbmNhdCh0LFwiJyBpcyBub3QgYSB2YWxpZCBwYXN0ZSBjb250ZW50LlwiKSkpO3ZhciBnLGQsdj1NLmlzTmVnYXRpdmVTdHJpY3QodGhpcy5nZXROdW1lcmljU3RyaW5nKCksdGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIpO2c9ISghdXx8dikmJih2PSEwKTt2YXIgcD1uLnNsaWNlKDAsYSksZj1uLnNsaWNlKHIsbi5sZW5ndGgpO2Q9YSE9PXI/dGhpcy5fcHJlcGFyZVBhc3RlZFRleHQocCtmKTp0aGlzLl9wcmVwYXJlUGFzdGVkVGV4dChuKSx2JiYoZD1NLnNldFJhd05lZ2F0aXZlU2lnbihkKSksaD1NLmNvbnZlcnRDaGFyYWN0ZXJDb3VudFRvSW5kZXhQb3NpdGlvbihNLmNvdW50TnVtYmVyQ2hhcmFjdGVyc09uVGhlQ2FyZXRMZWZ0U2lkZShuLGEsdGhpcy5zZXR0aW5ncy5kZWNpbWFsQ2hhcmFjdGVyKSksZyYmaCsrO3ZhciB5PWQuc2xpY2UoMCxoKSxTPWQuc2xpY2UoaCxkLmxlbmd0aCksYj0hMTtcIi5cIj09PWMmJihNLmNvbnRhaW5zKHksXCIuXCIpJiYoYj0hMCx5PXkucmVwbGFjZShcIi5cIixcIlwiKSksUz1TLnJlcGxhY2UoXCIuXCIsXCJcIikpO3ZhciB3PSExO3N3aXRjaChcIlwiPT09eSYmXCItXCI9PT1TJiYoeT1cIi1cIix3PSEoUz1cIlwiKSksdGhpcy5zZXR0aW5ncy5vbkludmFsaWRQYXN0ZSl7Y2FzZSBCLm9wdGlvbnMub25JbnZhbGlkUGFzdGUudHJ1bmNhdGU6Y2FzZSBCLm9wdGlvbnMub25JbnZhbGlkUGFzdGUucmVwbGFjZTpmb3IodmFyIFA9TS5wYXJzZVN0cih0aGlzLnNldHRpbmdzLm1pbmltdW1WYWx1ZSksTz1NLnBhcnNlU3RyKHRoaXMuc2V0dGluZ3MubWF4aW11bVZhbHVlKSxrPWQsTj0wLEU9eTtOPGMubGVuZ3RoJiYoZD0oRSs9Y1tOXSkrUyx0aGlzLmNvbnN0cnVjdG9yLl9jaGVja0lmSW5SYW5nZShkLFAsTykpOylrPWQsTisrO2lmKGgrPU4sdyYmaCsrLHRoaXMuc2V0dGluZ3Mub25JbnZhbGlkUGFzdGU9PT1CLm9wdGlvbnMub25JbnZhbGlkUGFzdGUudHJ1bmNhdGUpe2Q9ayxiJiZoLS07YnJlYWt9Zm9yKHZhciBfPWgsQz1rLmxlbmd0aDtOPGMubGVuZ3RoJiZfPEM7KWlmKFwiLlwiIT09a1tfXSl7aWYoZD1NLnJlcGxhY2VDaGFyQXQoayxfLGNbTl0pLCF0aGlzLmNvbnN0cnVjdG9yLl9jaGVja0lmSW5SYW5nZShkLFAsTykpYnJlYWs7az1kLE4rKyxfKyt9ZWxzZSBfKys7aD1fLGImJmgtLSxkPWs7YnJlYWs7Y2FzZSBCLm9wdGlvbnMub25JbnZhbGlkUGFzdGUuZXJyb3I6Y2FzZSBCLm9wdGlvbnMub25JbnZhbGlkUGFzdGUuaWdub3JlOmNhc2UgQi5vcHRpb25zLm9uSW52YWxpZFBhc3RlLmNsYW1wOmRlZmF1bHQ6aWYoZD1cIlwiLmNvbmNhdCh5KS5jb25jYXQoYykuY29uY2F0KFMpLGE9PT1yKWg9TS5jb252ZXJ0Q2hhcmFjdGVyQ291bnRUb0luZGV4UG9zaXRpb24oTS5jb3VudE51bWJlckNoYXJhY3RlcnNPblRoZUNhcmV0TGVmdFNpZGUobixhLHRoaXMuc2V0dGluZ3MuZGVjaW1hbENoYXJhY3RlcikpK2MubGVuZ3RoO2Vsc2UgaWYoXCJcIj09PVMpaD1NLmNvbnZlcnRDaGFyYWN0ZXJDb3VudFRvSW5kZXhQb3NpdGlvbihNLmNvdW50TnVtYmVyQ2hhcmFjdGVyc09uVGhlQ2FyZXRMZWZ0U2lkZShuLGEsdGhpcy5zZXR0aW5ncy5kZWNpbWFsQ2hhcmFjdGVyKSkrYy5sZW5ndGgsdyYmaCsrO2Vsc2V7dmFyIEY9TS5jb252ZXJ0Q2hhcmFjdGVyQ291bnRUb0luZGV4UG9zaXRpb24oTS5jb3VudE51bWJlckNoYXJhY3RlcnNPblRoZUNhcmV0TGVmdFNpZGUobixyLHRoaXMuc2V0dGluZ3MuZGVjaW1hbENoYXJhY3RlcikpLHg9TS5nZXRFbGVtZW50VmFsdWUoaSkuc2xpY2UoYSxyKTtoPUYtcytNLmNvdW50Q2hhckluVGV4dCh0aGlzLnNldHRpbmdzLmRpZ2l0R3JvdXBTZXBhcmF0b3IseCkrYy5sZW5ndGh9ZyYmaCsrLGImJmgtLX1pZihNLmlzTnVtYmVyKGQpJiZcIlwiIT09ZCl7dmFyIFY9ITEsVD0hMTt0cnl7dGhpcy5zZXQoZCksVj0hMH1jYXRjaChlKXt2YXIgQTtzd2l0Y2godGhpcy5zZXR0aW5ncy5vbkludmFsaWRQYXN0ZSl7Y2FzZSBCLm9wdGlvbnMub25JbnZhbGlkUGFzdGUuY2xhbXA6QT1NLmNsYW1wVG9SYW5nZUxpbWl0cyhkLHRoaXMuc2V0dGluZ3MpO3RyeXt0aGlzLnNldChBKX1jYXRjaChlKXtNLnRocm93RXJyb3IoXCJGYXRhbCBlcnJvcjogVW5hYmxlIHRvIHNldCB0aGUgY2xhbXBlZCB2YWx1ZSAnXCIuY29uY2F0KEEsXCInLlwiKSl9Vj1UPSEwLGQ9QTticmVhaztjYXNlIEIub3B0aW9ucy5vbkludmFsaWRQYXN0ZS5lcnJvcjpjYXNlIEIub3B0aW9ucy5vbkludmFsaWRQYXN0ZS50cnVuY2F0ZTpjYXNlIEIub3B0aW9ucy5vbkludmFsaWRQYXN0ZS5yZXBsYWNlOk0udGhyb3dFcnJvcihcIlRoZSBwYXN0ZWQgdmFsdWUgJ1wiLmNvbmNhdCh0LFwiJyByZXN1bHRzIGluIGEgdmFsdWUgJ1wiKS5jb25jYXQoZCxcIicgdGhhdCBpcyBvdXRzaWRlIG9mIHRoZSBtaW5pbXVtIFtcIikuY29uY2F0KHRoaXMuc2V0dGluZ3MubWluaW11bVZhbHVlLFwiXSBhbmQgbWF4aW11bSBbXCIpLmNvbmNhdCh0aGlzLnNldHRpbmdzLm1heGltdW1WYWx1ZSxcIl0gdmFsdWUgcmFuZ2UuXCIpKTtjYXNlIEIub3B0aW9ucy5vbkludmFsaWRQYXN0ZS5pZ25vcmU6ZGVmYXVsdDpyZXR1cm59fXZhciBMLEk9TS5nZXRFbGVtZW50VmFsdWUoaSk7aWYoVilzd2l0Y2godGhpcy5zZXR0aW5ncy5vbkludmFsaWRQYXN0ZSl7Y2FzZSBCLm9wdGlvbnMub25JbnZhbGlkUGFzdGUuY2xhbXA6aWYoVCl7dGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudD09PUIub3B0aW9ucy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudC5zdWZmaXg/TS5zZXRFbGVtZW50U2VsZWN0aW9uKGksSS5sZW5ndGgtdGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbC5sZW5ndGgpOk0uc2V0RWxlbWVudFNlbGVjdGlvbihpLEkubGVuZ3RoKTticmVha31jYXNlIEIub3B0aW9ucy5vbkludmFsaWRQYXN0ZS5lcnJvcjpjYXNlIEIub3B0aW9ucy5vbkludmFsaWRQYXN0ZS5pZ25vcmU6Y2FzZSBCLm9wdGlvbnMub25JbnZhbGlkUGFzdGUudHJ1bmNhdGU6Y2FzZSBCLm9wdGlvbnMub25JbnZhbGlkUGFzdGUucmVwbGFjZTpkZWZhdWx0Okw9TS5maW5kQ2FyZXRQb3NpdGlvbkluRm9ybWF0dGVkTnVtYmVyKGQsaCxJLHRoaXMuc2V0dGluZ3MuZGVjaW1hbENoYXJhY3RlciksTS5zZXRFbGVtZW50U2VsZWN0aW9uKGksTCl9ViYmbiE9PUkmJnRoaXMuX3RyaWdnZXJFdmVudChCLmV2ZW50cy5uYXRpdmUuaW5wdXQsaSl9ZWxzZSB0aGlzLnNldHRpbmdzLm9uSW52YWxpZFBhc3RlPT09Qi5vcHRpb25zLm9uSW52YWxpZFBhc3RlLmVycm9yJiZNLnRocm93RXJyb3IoXCJUaGUgcGFzdGVkIHZhbHVlICdcIi5jb25jYXQodCxcIicgd291bGQgcmVzdWx0IGludG8gYW4gaW52YWxpZCBjb250ZW50ICdcIikuY29uY2F0KGQsXCInLlwiKSl9fX0se2tleTpcIl9vbkJsdXJcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmlzRm9jdXNlZD0hMSx0aGlzLmlzRWRpdGluZz0hMSx0aGlzLnJhd1ZhbHVlIT09dGhpcy5yYXdWYWx1ZU9uRm9jdXMmJnRoaXMuX3RyaWdnZXJFdmVudChCLmV2ZW50cy5uYXRpdmUuY2hhbmdlLGUudGFyZ2V0KSx0aGlzLnJhd1ZhbHVlT25Gb2N1cz12b2lkIDB9fSx7a2V5OlwiX29uV2hlZWxcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmZvcm11bGFNb2RlfHx0aGlzLnNldHRpbmdzLnJlYWRPbmx5fHx0aGlzLmRvbUVsZW1lbnQucmVhZE9ubHl8fHRoaXMuZG9tRWxlbWVudC5kaXNhYmxlZHx8dGhpcy5zZXR0aW5ncy5tb2RpZnlWYWx1ZU9uV2hlZWwmJih0aGlzLnNldHRpbmdzLndoZWVsT249PT1CLm9wdGlvbnMud2hlZWxPbi5mb2N1cz90aGlzLmlzRm9jdXNlZD9lLnNoaWZ0S2V5fHx0aGlzLndoZWVsQWN0aW9uKGUpOmUuc2hpZnRLZXkmJnRoaXMud2hlZWxBY3Rpb24oZSk6dGhpcy5zZXR0aW5ncy53aGVlbE9uPT09Qi5vcHRpb25zLndoZWVsT24uaG92ZXI/ZS5zaGlmdEtleT8oZS5wcmV2ZW50RGVmYXVsdCgpLHdpbmRvdy5zY3JvbGxCeSgwLE0uaXNOZWdhdGl2ZVN0cmljdChTdHJpbmcoZS5kZWx0YVkpKT8tNTA6NTApKTp0aGlzLndoZWVsQWN0aW9uKGUpOk0udGhyb3dFcnJvcihcIlVua25vd24gYHdoZWVsT25gIG9wdGlvbi5cIikpfX0se2tleTpcIndoZWVsQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5pc1doZWVsRXZlbnQ9ITA7dmFyIHQsaT1lLnRhcmdldC5zZWxlY3Rpb25TdGFydHx8MCxuPWUudGFyZ2V0LnNlbGVjdGlvbkVuZHx8MCxhPXRoaXMucmF3VmFsdWU7aWYoTS5pc1VuZGVmaW5lZE9yTnVsbE9yRW1wdHkoYSk/MDx0aGlzLnNldHRpbmdzLm1pbmltdW1WYWx1ZXx8dGhpcy5zZXR0aW5ncy5tYXhpbXVtVmFsdWU8MD9NLmlzV2hlZWxVcEV2ZW50KGUpP3Q9dGhpcy5zZXR0aW5ncy5taW5pbXVtVmFsdWU6TS5pc1doZWVsRG93bkV2ZW50KGUpP3Q9dGhpcy5zZXR0aW5ncy5tYXhpbXVtVmFsdWU6TS50aHJvd0Vycm9yKFwiVGhlIGV2ZW50IGlzIG5vdCBhICd3aGVlbCcgZXZlbnQuXCIpOnQ9MDp0PWEsdD0rdCxNLmlzTnVtYmVyKHRoaXMuc2V0dGluZ3Mud2hlZWxTdGVwKSl7dmFyIHI9K3RoaXMuc2V0dGluZ3Mud2hlZWxTdGVwO00uaXNXaGVlbFVwRXZlbnQoZSk/dCs9cjpNLmlzV2hlZWxEb3duRXZlbnQoZSkmJih0LT1yKX1lbHNlIE0uaXNXaGVlbFVwRXZlbnQoZSk/dD1NLmFkZEFuZFJvdW5kVG9OZWFyZXN0QXV0byh0LHRoaXMuc2V0dGluZ3MuZGVjaW1hbFBsYWNlc1Jhd1ZhbHVlKTpNLmlzV2hlZWxEb3duRXZlbnQoZSkmJih0PU0uc3VidHJhY3RBbmRSb3VuZFRvTmVhcmVzdEF1dG8odCx0aGlzLnNldHRpbmdzLmRlY2ltYWxQbGFjZXNSYXdWYWx1ZSkpOyh0PU0uY2xhbXBUb1JhbmdlTGltaXRzKHQsdGhpcy5zZXR0aW5ncykpIT09K2EmJih0aGlzLnNldCh0KSx0aGlzLl90cmlnZ2VyRXZlbnQoQi5ldmVudHMubmF0aXZlLmlucHV0LGUudGFyZ2V0KSksZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX3NldFNlbGVjdGlvbihpLG4pLHRoaXMuaXNXaGVlbEV2ZW50PSExfX0se2tleTpcIl9vbkRyb3BcIix2YWx1ZTpmdW5jdGlvbihlKXtpZighdGhpcy5mb3JtdWxhTW9kZSl7dmFyIHQ7dGhpcy5pc0Ryb3BFdmVudD0hMCxlLnByZXZlbnREZWZhdWx0KCksdD1NLmlzSUUxMSgpP1widGV4dFwiOlwidGV4dC9wbGFpblwiO3ZhciBpPWUuZGF0YVRyYW5zZmVyLmdldERhdGEodCksbj10aGlzLnVuZm9ybWF0T3RoZXIoaSk7dGhpcy5zZXQobiksdGhpcy5pc0Ryb3BFdmVudD0hMX19fSx7a2V5OlwiX29uRm9ybVN1Ym1pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fZ2V0Rm9ybUF1dG9OdW1lcmljQ2hpbGRyZW4odGhpcy5wYXJlbnRGb3JtKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29uc3RydWN0b3IuZ2V0QXV0b051bWVyaWNFbGVtZW50KGUpfSkuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5fdW5mb3JtYXRPblN1Ym1pdCgpfSksITB9fSx7a2V5OlwiX29uRm9ybVJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgaT10aGlzO3RoaXMuX2dldEZvcm1BdXRvTnVtZXJpY0NoaWxkcmVuKHRoaXMucGFyZW50Rm9ybSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBpLmNvbnN0cnVjdG9yLmdldEF1dG9OdW1lcmljRWxlbWVudChlKX0pLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9aS5fZ2V0RGVmYXVsdFZhbHVlKGUubm9kZSgpKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGUuc2V0KHQpfSwwKX0pfX0se2tleTpcIl91bmZvcm1hdE9uU3VibWl0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNldHRpbmdzLnVuZm9ybWF0T25TdWJtaXQmJnRoaXMuX3NldEVsZW1lbnRWYWx1ZSh0aGlzLnJhd1ZhbHVlKX19LHtrZXk6XCJfb25LZXlkb3duR2xvYmFsXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoTS5jaGFyYWN0ZXIoZSk9PT1kLmtleU5hbWUuQWx0KXt2YXIgdD1NLmdldEhvdmVyZWRFbGVtZW50KCk7aWYoQi5pc01hbmFnZWRCeUF1dG9OdW1lcmljKHQpKXt2YXIgaT1CLmdldEF1dG9OdW1lcmljRWxlbWVudCh0KTshaS5mb3JtdWxhTW9kZSYmaS5zZXR0aW5ncy51bmZvcm1hdE9uSG92ZXImJnRoaXMuY29uc3RydWN0b3IuX3VuZm9ybWF0QWx0SG92ZXJlZChpKX19fX0se2tleTpcIl9vbktleXVwR2xvYmFsXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoTS5jaGFyYWN0ZXIoZSk9PT1kLmtleU5hbWUuQWx0KXt2YXIgdD1NLmdldEhvdmVyZWRFbGVtZW50KCk7aWYoQi5pc01hbmFnZWRCeUF1dG9OdW1lcmljKHQpKXt2YXIgaT1CLmdldEF1dG9OdW1lcmljRWxlbWVudCh0KTtpZihpLmZvcm11bGFNb2RlfHwhaS5zZXR0aW5ncy51bmZvcm1hdE9uSG92ZXIpcmV0dXJuO3RoaXMuY29uc3RydWN0b3IuX3JlZm9ybWF0QWx0SG92ZXJlZChpKX19fX0se2tleTpcIl9pc0VsZW1lbnRUYWdTdXBwb3J0ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBNLmlzRWxlbWVudCh0aGlzLmRvbUVsZW1lbnQpfHxNLnRocm93RXJyb3IoXCJUaGUgRE9NIGVsZW1lbnQgaXMgbm90IHZhbGlkLCBcIi5jb25jYXQodGhpcy5kb21FbGVtZW50LFwiIGdpdmVuLlwiKSksTS5pc0luQXJyYXkodGhpcy5kb21FbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSx0aGlzLmFsbG93ZWRUYWdMaXN0KX19LHtrZXk6XCJfaXNJbnB1dEVsZW1lbnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiaW5wdXRcIj09PXRoaXMuZG9tRWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCl9fSx7a2V5OlwiX2lzSW5wdXRUeXBlU3VwcG9ydGVkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cInRleHRcIj09PXRoaXMuZG9tRWxlbWVudC50eXBlfHxcImhpZGRlblwiPT09dGhpcy5kb21FbGVtZW50LnR5cGV8fFwidGVsXCI9PT10aGlzLmRvbUVsZW1lbnQudHlwZXx8TS5pc1VuZGVmaW5lZE9yTnVsbE9yRW1wdHkodGhpcy5kb21FbGVtZW50LnR5cGUpfX0se2tleTpcIl9jaGVja0VsZW1lbnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZG9tRWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7dGhpcy5faXNFbGVtZW50VGFnU3VwcG9ydGVkKCl8fE0udGhyb3dFcnJvcihcIlRoZSA8XCIuY29uY2F0KGUsXCI+IHRhZyBpcyBub3Qgc3VwcG9ydGVkIGJ5IGF1dG9OdW1lcmljXCIpKSx0aGlzLl9pc0lucHV0RWxlbWVudCgpPyh0aGlzLl9pc0lucHV0VHlwZVN1cHBvcnRlZCgpfHxNLnRocm93RXJyb3IoJ1RoZSBpbnB1dCB0eXBlIFwiJy5jb25jYXQodGhpcy5kb21FbGVtZW50LnR5cGUsJ1wiIGlzIG5vdCBzdXBwb3J0ZWQgYnkgYXV0b051bWVyaWMnKSksdGhpcy5pc0lucHV0RWxlbWVudD0hMCk6KHRoaXMuaXNJbnB1dEVsZW1lbnQ9ITEsdGhpcy5pc0NvbnRlbnRFZGl0YWJsZT10aGlzLmRvbUVsZW1lbnQuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpJiZcInRydWVcIj09PXRoaXMuZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpfX0se2tleTpcIl9mb3JtYXREZWZhdWx0VmFsdWVPblBhZ2VMb2FkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQsaT0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTpudWxsLG49ITA7aWYoTS5pc051bGwoaSk/KHQ9TS5nZXRFbGVtZW50VmFsdWUodGhpcy5kb21FbGVtZW50KS50cmltKCksdGhpcy5kb21FbGVtZW50LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsdCkpOnQ9aSx0aGlzLmlzSW5wdXRFbGVtZW50fHx0aGlzLmlzQ29udGVudEVkaXRhYmxlKXt2YXIgYT10aGlzLmNvbnN0cnVjdG9yLl90b051bWVyaWNWYWx1ZSh0LHRoaXMuc2V0dGluZ3MpO2lmKHRoaXMuZG9tRWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSYmXCJcIiE9PXRoaXMuZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSl7aWYobnVsbCE9PXRoaXMuc2V0dGluZ3MuZGVmYXVsdFZhbHVlT3ZlcnJpZGUmJnRoaXMuc2V0dGluZ3MuZGVmYXVsdFZhbHVlT3ZlcnJpZGUudG9TdHJpbmcoKSE9PXR8fG51bGw9PT10aGlzLnNldHRpbmdzLmRlZmF1bHRWYWx1ZU92ZXJyaWRlJiZcIlwiIT09dCYmdCE9PXRoaXMuZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKXx8XCJcIiE9PXQmJlwiaGlkZGVuXCI9PT10aGlzLmRvbUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSYmIU0uaXNOdW1iZXIoYSkpe2lmKHRoaXMuc2V0dGluZ3Muc2F2ZVZhbHVlVG9TZXNzaW9uU3RvcmFnZSYmKG51bGwhPT10aGlzLnNldHRpbmdzLmRlY2ltYWxQbGFjZXNTaG93bk9uRm9jdXN8fHRoaXMuc2V0dGluZ3MuZGl2aXNvcldoZW5VbmZvY3VzZWQpJiZ0aGlzLl9zZXRSYXdWYWx1ZSh0aGlzLl9nZXRWYWx1ZUZyb21QZXJzaXN0ZW50U3RvcmFnZSgpKSwhdGhpcy5zZXR0aW5ncy5zYXZlVmFsdWVUb1Nlc3Npb25TdG9yYWdlKXt2YXIgcj10aGlzLmNvbnN0cnVjdG9yLl9yZW1vdmVCcmFja2V0cyh0LHRoaXMuc2V0dGluZ3MpOyh0aGlzLnNldHRpbmdzLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50PT09Qi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LnN1ZmZpeHx8dGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudCE9PUIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5wcmVmaXgmJnRoaXMuc2V0dGluZ3MuY3VycmVuY3lTeW1ib2xQbGFjZW1lbnQ9PT1CLm9wdGlvbnMuY3VycmVuY3lTeW1ib2xQbGFjZW1lbnQuc3VmZml4KSYmXCJcIiE9PXRoaXMuc2V0dGluZ3MubmVnYXRpdmVTaWduQ2hhcmFjdGVyJiZNLmlzTmVnYXRpdmUodCx0aGlzLnNldHRpbmdzLm5lZ2F0aXZlU2lnbkNoYXJhY3Rlcik/dGhpcy5fc2V0UmF3VmFsdWUoXCItXCIuY29uY2F0KHRoaXMuY29uc3RydWN0b3IuX3N0cmlwQWxsTm9uTnVtYmVyQ2hhcmFjdGVycyhyLHRoaXMuc2V0dGluZ3MsITAsdGhpcy5pc0ZvY3VzZWQpKSk6dGhpcy5fc2V0UmF3VmFsdWUodGhpcy5jb25zdHJ1Y3Rvci5fc3RyaXBBbGxOb25OdW1iZXJDaGFyYWN0ZXJzKHIsdGhpcy5zZXR0aW5ncywhMCx0aGlzLmlzRm9jdXNlZCkpfW49ITF9fWVsc2UgaXNOYU4oTnVtYmVyKGEpKXx8MS8wPT09YT9NLnRocm93RXJyb3IoXCJUaGUgdmFsdWUgW1wiLmNvbmNhdCh0LFwiXSB1c2VkIGluIHRoZSBpbnB1dCBpcyBub3QgYSB2YWxpZCB2YWx1ZSBhdXRvTnVtZXJpYyBjYW4gd29yayB3aXRoLlwiKSk6KHRoaXMuc2V0KGEpLG49ITEpO2lmKFwiXCI9PT10KXN3aXRjaCh0aGlzLnNldHRpbmdzLmVtcHR5SW5wdXRCZWhhdmlvcil7Y2FzZSBCLm9wdGlvbnMuZW1wdHlJbnB1dEJlaGF2aW9yLmZvY3VzOmNhc2UgQi5vcHRpb25zLmVtcHR5SW5wdXRCZWhhdmlvci5udWxsOmNhc2UgQi5vcHRpb25zLmVtcHR5SW5wdXRCZWhhdmlvci5wcmVzczpicmVhaztjYXNlIEIub3B0aW9ucy5lbXB0eUlucHV0QmVoYXZpb3IuYWx3YXlzOnRoaXMuX3NldEVsZW1lbnRWYWx1ZSh0aGlzLnNldHRpbmdzLmN1cnJlbmN5U3ltYm9sKTticmVhaztjYXNlIEIub3B0aW9ucy5lbXB0eUlucHV0QmVoYXZpb3IubWluOnRoaXMuc2V0KHRoaXMuc2V0dGluZ3MubWluaW11bVZhbHVlKTticmVhaztjYXNlIEIub3B0aW9ucy5lbXB0eUlucHV0QmVoYXZpb3IubWF4OnRoaXMuc2V0KHRoaXMuc2V0dGluZ3MubWF4aW11bVZhbHVlKTticmVhaztjYXNlIEIub3B0aW9ucy5lbXB0eUlucHV0QmVoYXZpb3IuemVybzp0aGlzLnNldChcIjBcIik7YnJlYWs7ZGVmYXVsdDp0aGlzLnNldCh0aGlzLnNldHRpbmdzLmVtcHR5SW5wdXRCZWhhdmlvcil9ZWxzZSBuJiZ0PT09dGhpcy5kb21FbGVtZW50LmdldEF0dHJpYnV0ZShcInZhbHVlXCIpJiZ0aGlzLnNldCh0KX1lbHNlIG51bGwhPT10aGlzLnNldHRpbmdzLmRlZmF1bHRWYWx1ZU92ZXJyaWRlJiZ0aGlzLnNldHRpbmdzLmRlZmF1bHRWYWx1ZU92ZXJyaWRlIT09dHx8dGhpcy5zZXQodCl9fSx7a2V5OlwiX2NhbGN1bGF0ZVZNaW5BbmRWTWF4SW50ZWdlclNpemVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1TKHRoaXMuc2V0dGluZ3MubWF4aW11bVZhbHVlLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpLDEpWzBdLHQ9Uyh0aGlzLnNldHRpbmdzLm1pbmltdW1WYWx1ZXx8MD09PXRoaXMuc2V0dGluZ3MubWluaW11bVZhbHVlP3RoaXMuc2V0dGluZ3MubWluaW11bVZhbHVlLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpOltdLDEpWzBdO2U9ZS5yZXBsYWNlKHRoaXMuc2V0dGluZ3MubmVnYXRpdmVTaWduQ2hhcmFjdGVyLFwiXCIpLHQ9dC5yZXBsYWNlKHRoaXMuc2V0dGluZ3MubmVnYXRpdmVTaWduQ2hhcmFjdGVyLFwiXCIpLHRoaXMuc2V0dGluZ3MubUludFBvcz1NYXRoLm1heChlLmxlbmd0aCwxKSx0aGlzLnNldHRpbmdzLm1JbnROZWc9TWF0aC5tYXgodC5sZW5ndGgsMSl9fSx7a2V5OlwiX2NhbGN1bGF0ZVZhbHVlc1RvU3RyaW5nc0tleXNcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2V0dGluZ3MudmFsdWVzVG9TdHJpbmdzP3RoaXMudmFsdWVzVG9TdHJpbmdzS2V5cz1PYmplY3Qua2V5cyh0aGlzLnNldHRpbmdzLnZhbHVlc1RvU3RyaW5ncyk6dGhpcy52YWx1ZXNUb1N0cmluZ3NLZXlzPVtdfX0se2tleTpcIl90cmFuc2Zvcm1PcHRpb25zVmFsdWVzVG9EZWZhdWx0VHlwZXNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLnNldHRpbmdzKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnNldHRpbmdzLGUpKXt2YXIgdD10aGlzLnNldHRpbmdzW2VdO1widHJ1ZVwiIT09dCYmXCJmYWxzZVwiIT09dHx8KHRoaXMuc2V0dGluZ3NbZV09XCJ0cnVlXCI9PT10KSxcIm51bWJlclwiPT10eXBlb2YgdCYmKHRoaXMuc2V0dGluZ3NbZV09dC50b1N0cmluZygpKX19fSx7a2V5OlwiX3NldFNldHRpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQmJnQ7IWkmJk0uaXNOdWxsKGUpfHx0aGlzLmNvbnN0cnVjdG9yLl9jb252ZXJ0T2xkT3B0aW9uc1RvTmV3T25lcyhlKSxpPyhcImRlY2ltYWxQbGFjZXNSYXdWYWx1ZVwiaW4gZSYmKHRoaXMuc2V0dGluZ3Mub3JpZ2luYWxEZWNpbWFsUGxhY2VzUmF3VmFsdWU9ZS5kZWNpbWFsUGxhY2VzUmF3VmFsdWUpLFwiZGVjaW1hbFBsYWNlc1wiaW4gZSYmKHRoaXMuc2V0dGluZ3Mub3JpZ2luYWxEZWNpbWFsUGxhY2VzPWUuZGVjaW1hbFBsYWNlcyksdGhpcy5jb25zdHJ1Y3Rvci5fY2FsY3VsYXRlRGVjaW1hbFBsYWNlc09uVXBkYXRlKGUsdGhpcy5zZXR0aW5ncyksdGhpcy5fbWVyZ2VTZXR0aW5ncyhlKSk6KHRoaXMuc2V0dGluZ3M9e30sdGhpcy5fbWVyZ2VTZXR0aW5ncyh0aGlzLmNvbnN0cnVjdG9yLmdldERlZmF1bHRDb25maWcoKSx0aGlzLmRvbUVsZW1lbnQuZGF0YXNldCxlLHtyYXdWYWx1ZTp0aGlzLmRlZmF1bHRSYXdWYWx1ZX0pLHRoaXMuY2FyZXRGaXg9ITEsdGhpcy50aHJvd0lucHV0PSEwLHRoaXMuYWxsb3dlZFRhZ0xpc3Q9ZC5hbGxvd2VkVGFnTGlzdCx0aGlzLnJ1bk9uY2U9ITEsdGhpcy5ob3ZlcmVkV2l0aEFsdD0hMSksdGhpcy5fdHJhbnNmb3JtT3B0aW9uc1ZhbHVlc1RvRGVmYXVsdFR5cGVzKCksdGhpcy5fcnVuQ2FsbGJhY2tzRm91bmRJblRoZVNldHRpbmdzT2JqZWN0KCksdGhpcy5jb25zdHJ1Y3Rvci5fY29ycmVjdE5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50T3B0aW9uKHRoaXMuc2V0dGluZ3MpLHRoaXMuY29uc3RydWN0b3IuX2NvcnJlY3RDYXJldFBvc2l0aW9uT25Gb2N1c0FuZFNlbGVjdE9uRm9jdXNPcHRpb25zKHRoaXMuc2V0dGluZ3MpLHRoaXMuY29uc3RydWN0b3IuX3NldE5lZ2F0aXZlUG9zaXRpdmVTaWduUGVybWlzc2lvbnModGhpcy5zZXR0aW5ncyksaXx8KE0uaXNOdWxsKGUpfHwhZS5kZWNpbWFsUGxhY2VzP3RoaXMuc2V0dGluZ3Mub3JpZ2luYWxEZWNpbWFsUGxhY2VzPW51bGw6dGhpcy5zZXR0aW5ncy5vcmlnaW5hbERlY2ltYWxQbGFjZXM9ZS5kZWNpbWFsUGxhY2VzLHRoaXMuc2V0dGluZ3Mub3JpZ2luYWxEZWNpbWFsUGxhY2VzUmF3VmFsdWU9dGhpcy5zZXR0aW5ncy5kZWNpbWFsUGxhY2VzUmF3VmFsdWUsdGhpcy5jb25zdHJ1Y3Rvci5fY2FsY3VsYXRlRGVjaW1hbFBsYWNlc09uSW5pdCh0aGlzLnNldHRpbmdzKSksdGhpcy5fY2FsY3VsYXRlVk1pbkFuZFZNYXhJbnRlZ2VyU2l6ZXMoKSx0aGlzLl9zZXRUcmFpbGluZ05lZ2F0aXZlU2lnbkluZm8oKSx0aGlzLnJlZ2V4PXt9LHRoaXMuY29uc3RydWN0b3IuX2NhY2hlc1VzdWFsUmVndWxhckV4cHJlc3Npb25zKHRoaXMuc2V0dGluZ3MsdGhpcy5yZWdleCksdGhpcy5jb25zdHJ1Y3Rvci5fc2V0QnJhY2tldHModGhpcy5zZXR0aW5ncyksdGhpcy5fY2FsY3VsYXRlVmFsdWVzVG9TdHJpbmdzS2V5cygpLE0uaXNFbXB0eU9iaih0aGlzLnNldHRpbmdzKSYmTS50aHJvd0Vycm9yKFwiVW5hYmxlIHRvIHNldCB0aGUgc2V0dGluZ3MsIHRob3NlIGFyZSBpbnZhbGlkIDsgYW4gZW1wdHkgb2JqZWN0IHdhcyBnaXZlbi5cIiksdGhpcy5jb25zdHJ1Y3Rvci52YWxpZGF0ZSh0aGlzLnNldHRpbmdzLCExLGUpLHRoaXMuX2tlZXBBbk9yaWdpbmFsU2V0dGluZ3NDb3B5KCl9fSx7a2V5OlwiX3ByZXBhcmVQYXN0ZWRUZXh0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IuX3N0cmlwQWxsTm9uTnVtYmVyQ2hhcmFjdGVycyhlLHRoaXMuc2V0dGluZ3MsITAsdGhpcy5pc0ZvY3VzZWQpfX0se2tleTpcIl91cGRhdGVJbnRlcm5hbFByb3BlcnRpZXNcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2VsZWN0aW9uPU0uZ2V0RWxlbWVudFNlbGVjdGlvbih0aGlzLmRvbUVsZW1lbnQpLHRoaXMucHJvY2Vzc2VkPSExfX0se2tleTpcIl91cGRhdGVFdmVudEtleUluZm9cIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmV2ZW50S2V5PU0uY2hhcmFjdGVyKGUpfX0se2tleTpcIl9zYXZlQ2FuY2VsbGFibGVWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zYXZlZENhbmNlbGxhYmxlVmFsdWU9dGhpcy5yYXdWYWx1ZX19LHtrZXk6XCJfc2V0U2VsZWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtlPU1hdGgubWF4KGUsMCksdD1NYXRoLm1pbih0LE0uZ2V0RWxlbWVudFZhbHVlKHRoaXMuZG9tRWxlbWVudCkubGVuZ3RoKSx0aGlzLnNlbGVjdGlvbj17c3RhcnQ6ZSxlbmQ6dCxsZW5ndGg6dC1lfSxNLnNldEVsZW1lbnRTZWxlY3Rpb24odGhpcy5kb21FbGVtZW50LGUsdCl9fSx7a2V5OlwiX3NldENhcmV0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zZXRTZWxlY3Rpb24oZSxlKX19LHtrZXk6XCJfZ2V0TGVmdEFuZFJpZ2h0UGFydEFyb3VuZFRoZVNlbGVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9TS5nZXRFbGVtZW50VmFsdWUodGhpcy5kb21FbGVtZW50KTtyZXR1cm5bZS5zdWJzdHJpbmcoMCx0aGlzLnNlbGVjdGlvbi5zdGFydCksZS5zdWJzdHJpbmcodGhpcy5zZWxlY3Rpb24uZW5kLGUubGVuZ3RoKV19fSx7a2V5OlwiX2dldFVuZm9ybWF0dGVkTGVmdEFuZFJpZ2h0UGFydEFyb3VuZFRoZVNlbGVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9Uyh0aGlzLl9nZXRMZWZ0QW5kUmlnaHRQYXJ0QXJvdW5kVGhlU2VsZWN0aW9uKCksMiksdD1lWzBdLGk9ZVsxXTtpZihcIlwiPT09dCYmXCJcIj09PWkpcmV0dXJuW1wiXCIsXCJcIl07dmFyIG49ITA7cmV0dXJuIHRoaXMuZXZlbnRLZXkhPT1kLmtleU5hbWUuSHlwaGVuJiZ0aGlzLmV2ZW50S2V5IT09ZC5rZXlOYW1lLk1pbnVzfHwwIT09TnVtYmVyKHQpfHwobj0hMSksdGhpcy5pc1RyYWlsaW5nTmVnYXRpdmUmJihNLmlzTmVnYXRpdmUoaSx0aGlzLnNldHRpbmdzLm5lZ2F0aXZlU2lnbkNoYXJhY3RlcikmJiFNLmlzTmVnYXRpdmUodCx0aGlzLnNldHRpbmdzLm5lZ2F0aXZlU2lnbkNoYXJhY3Rlcil8fFwiXCI9PT1pJiZNLmlzTmVnYXRpdmUodCx0aGlzLnNldHRpbmdzLm5lZ2F0aXZlU2lnbkNoYXJhY3RlciwhMCkpJiYodD10LnJlcGxhY2UodGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIsXCJcIiksaT1pLnJlcGxhY2UodGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIsXCJcIiksdD10LnJlcGxhY2UoXCItXCIsXCJcIiksaT1pLnJlcGxhY2UoXCItXCIsXCJcIiksdD1cIi1cIi5jb25jYXQodCkpLFt0PUIuX3N0cmlwQWxsTm9uTnVtYmVyQ2hhcmFjdGVyc0V4Y2VwdEN1c3RvbURlY2ltYWxDaGFyKHQsdGhpcy5zZXR0aW5ncyxuLHRoaXMuaXNGb2N1c2VkKSxpPUIuX3N0cmlwQWxsTm9uTnVtYmVyQ2hhcmFjdGVyc0V4Y2VwdEN1c3RvbURlY2ltYWxDaGFyKGksdGhpcy5zZXR0aW5ncywhMSx0aGlzLmlzRm9jdXNlZCldfX0se2tleTpcIl9ub3JtYWxpemVQYXJ0c1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9ITA7dGhpcy5ldmVudEtleSE9PWQua2V5TmFtZS5IeXBoZW4mJnRoaXMuZXZlbnRLZXkhPT1kLmtleU5hbWUuTWludXN8fDAhPT1OdW1iZXIoZSl8fChpPSExKSx0aGlzLmlzVHJhaWxpbmdOZWdhdGl2ZSYmTS5pc05lZ2F0aXZlKHQsdGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIpJiYhTS5pc05lZ2F0aXZlKGUsdGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIpJiYoZT1cIi1cIi5jb25jYXQoZSksdD10LnJlcGxhY2UodGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIsXCJcIikpLGU9Qi5fc3RyaXBBbGxOb25OdW1iZXJDaGFyYWN0ZXJzRXhjZXB0Q3VzdG9tRGVjaW1hbENoYXIoZSx0aGlzLnNldHRpbmdzLGksdGhpcy5pc0ZvY3VzZWQpLHQ9Qi5fc3RyaXBBbGxOb25OdW1iZXJDaGFyYWN0ZXJzRXhjZXB0Q3VzdG9tRGVjaW1hbENoYXIodCx0aGlzLnNldHRpbmdzLCExLHRoaXMuaXNGb2N1c2VkKSx0aGlzLnNldHRpbmdzLmxlYWRpbmdaZXJvIT09Qi5vcHRpb25zLmxlYWRpbmdaZXJvLmRlbnl8fHRoaXMuZXZlbnRLZXkhPT1kLmtleU5hbWUubnVtMCYmdGhpcy5ldmVudEtleSE9PWQua2V5TmFtZS5udW1wYWQwfHwwIT09TnVtYmVyKGUpfHxNLmNvbnRhaW5zKGUsdGhpcy5zZXR0aW5ncy5kZWNpbWFsQ2hhcmFjdGVyKXx8XCJcIj09PXR8fChlPWUuc3Vic3RyaW5nKDAsZS5sZW5ndGgtMSkpO3ZhciBuPWUrdDtpZih0aGlzLnNldHRpbmdzLmRlY2ltYWxDaGFyYWN0ZXIpe3ZhciBhPW4ubWF0Y2gobmV3IFJlZ0V4cChcIl5cIi5jb25jYXQodGhpcy5yZWdleC5hTmVnUmVnQXV0b1N0cmlwLFwiXFxcXFwiKS5jb25jYXQodGhpcy5zZXR0aW5ncy5kZWNpbWFsQ2hhcmFjdGVyKSkpO2EmJihuPShlPWUucmVwbGFjZShhWzFdLGFbMV0rXCIwXCIpKSt0KX1yZXR1cm5bZSx0LG5dfX0se2tleTpcIl9zZXRWYWx1ZVBhcnRzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09aSYmaSxhPVModGhpcy5fbm9ybWFsaXplUGFydHMoZSx0KSwzKSxyPWFbMF0scz1hWzFdLG89YVsyXSxsPVMoQi5fY2hlY2tJZkluUmFuZ2VXaXRoT3ZlcnJpZGVPcHRpb24obyx0aGlzLnNldHRpbmdzKSwyKSx1PWxbMF0sYz1sWzFdO2lmKHUmJmMpe3ZhciBoPUIuX3RydW5jYXRlRGVjaW1hbFBsYWNlcyhvLHRoaXMuc2V0dGluZ3Msbix0aGlzLnNldHRpbmdzLmRlY2ltYWxQbGFjZXNSYXdWYWx1ZSkucmVwbGFjZSh0aGlzLnNldHRpbmdzLmRlY2ltYWxDaGFyYWN0ZXIsXCIuXCIpO2lmKFwiXCI9PT1ofHxoPT09dGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIpe3ZhciBtO3N3aXRjaCh0aGlzLnNldHRpbmdzLmVtcHR5SW5wdXRCZWhhdmlvcil7Y2FzZSBCLm9wdGlvbnMuZW1wdHlJbnB1dEJlaGF2aW9yLmZvY3VzOmNhc2UgQi5vcHRpb25zLmVtcHR5SW5wdXRCZWhhdmlvci5wcmVzczpjYXNlIEIub3B0aW9ucy5lbXB0eUlucHV0QmVoYXZpb3IuYWx3YXlzOm09XCJcIjticmVhaztjYXNlIEIub3B0aW9ucy5lbXB0eUlucHV0QmVoYXZpb3IubWluOm09dGhpcy5zZXR0aW5ncy5taW5pbXVtVmFsdWU7YnJlYWs7Y2FzZSBCLm9wdGlvbnMuZW1wdHlJbnB1dEJlaGF2aW9yLm1heDptPXRoaXMuc2V0dGluZ3MubWF4aW11bVZhbHVlO2JyZWFrO2Nhc2UgQi5vcHRpb25zLmVtcHR5SW5wdXRCZWhhdmlvci56ZXJvOm09XCIwXCI7YnJlYWs7Y2FzZSBCLm9wdGlvbnMuZW1wdHlJbnB1dEJlaGF2aW9yLm51bGw6bT1udWxsO2JyZWFrO2RlZmF1bHQ6bT10aGlzLnNldHRpbmdzLmVtcHR5SW5wdXRCZWhhdmlvcn10aGlzLl9zZXRSYXdWYWx1ZShtKX1lbHNlIHRoaXMuX3NldFJhd1ZhbHVlKHRoaXMuX3RyaW1MZWFkaW5nQW5kVHJhaWxpbmdaZXJvcyhoKSk7dmFyIGc9Qi5fdHJ1bmNhdGVEZWNpbWFsUGxhY2VzKG8sdGhpcy5zZXR0aW5ncyxuLHRoaXMuc2V0dGluZ3MuZGVjaW1hbFBsYWNlc1Nob3duT25Gb2N1cyksZD1yLmxlbmd0aDtyZXR1cm4gZD5nLmxlbmd0aCYmKGQ9Zy5sZW5ndGgpLDE9PT1kJiZcIjBcIj09PXImJnRoaXMuc2V0dGluZ3MubGVhZGluZ1plcm89PT1CLm9wdGlvbnMubGVhZGluZ1plcm8uZGVueSYmKGQ9XCJcIj09PXN8fFwiMFwiPT09ciYmXCJcIiE9PXM/MTowKSx0aGlzLl9zZXRFbGVtZW50VmFsdWUoZywhMSksdGhpcy5fc2V0Q2FyZXRQb3NpdGlvbihkKSwhMH1yZXR1cm4gdGhpcy5fdHJpZ2dlclJhbmdlRXZlbnRzKHUsYyksITF9fSx7a2V5OlwiX2dldFNpZ25Qb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU7aWYodGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbCl7dmFyIHQ9dGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbC5sZW5ndGgsaT1NLmdldEVsZW1lbnRWYWx1ZSh0aGlzLmRvbUVsZW1lbnQpO2lmKHRoaXMuc2V0dGluZ3MuY3VycmVuY3lTeW1ib2xQbGFjZW1lbnQ9PT1CLm9wdGlvbnMuY3VycmVuY3lTeW1ib2xQbGFjZW1lbnQucHJlZml4KWU9dGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXImJmkmJmkuY2hhckF0KDApPT09dGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXI/WzEsdCsxXTpbMCx0XTtlbHNle3ZhciBuPWkubGVuZ3RoO2U9W24tdCxuXX19ZWxzZSBlPVsxZTMsLTFdO3JldHVybiBlfX0se2tleTpcIl9leHBhbmRTZWxlY3Rpb25PblNpZ25cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPVModGhpcy5fZ2V0U2lnblBvc2l0aW9uKCksMiksdD1lWzBdLGk9ZVsxXSxuPXRoaXMuc2VsZWN0aW9uO24uc3RhcnQ8aSYmbi5lbmQ+dCYmKChuLnN0YXJ0PHR8fG4uZW5kPmkpJiZNLmdldEVsZW1lbnRWYWx1ZSh0aGlzLmRvbUVsZW1lbnQpLnN1YnN0cmluZyhNYXRoLm1heChuLnN0YXJ0LHQpLE1hdGgubWluKG4uZW5kLGkpKS5tYXRjaCgvXlxccyokLyk/bi5zdGFydDx0P3RoaXMuX3NldFNlbGVjdGlvbihuLnN0YXJ0LHQpOnRoaXMuX3NldFNlbGVjdGlvbihpLG4uZW5kKTp0aGlzLl9zZXRTZWxlY3Rpb24oTWF0aC5taW4obi5zdGFydCx0KSxNYXRoLm1heChuLmVuZCxpKSkpfX0se2tleTpcIl9jaGVja1Bhc3RlXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5mb3JtYXR0ZWQmJiFNLmlzVW5kZWZpbmVkKHRoaXMudmFsdWVQYXJ0c0JlZm9yZVBhc3RlKSl7dmFyIGU9dGhpcy52YWx1ZVBhcnRzQmVmb3JlUGFzdGUsdD1TKHRoaXMuX2dldExlZnRBbmRSaWdodFBhcnRBcm91bmRUaGVTZWxlY3Rpb24oKSwyKSxpPXRbMF0sbj10WzFdO2RlbGV0ZSB0aGlzLnZhbHVlUGFydHNCZWZvcmVQYXN0ZTt2YXIgYT1pLnN1YnN0cigwLGVbMF0ubGVuZ3RoKStCLl9zdHJpcEFsbE5vbk51bWJlckNoYXJhY3RlcnNFeGNlcHRDdXN0b21EZWNpbWFsQ2hhcihpLnN1YnN0cihlWzBdLmxlbmd0aCksdGhpcy5zZXR0aW5ncywhMCx0aGlzLmlzRm9jdXNlZCk7dGhpcy5fc2V0VmFsdWVQYXJ0cyhhLG4sITApfHwodGhpcy5fc2V0RWxlbWVudFZhbHVlKGUuam9pbihcIlwiKSwhMSksdGhpcy5fc2V0Q2FyZXRQb3NpdGlvbihlWzBdLmxlbmd0aCkpfX19LHtrZXk6XCJfcHJvY2Vzc05vblByaW50YWJsZUtleXNBbmRTaG9ydGN1dHNcIix2YWx1ZTpmdW5jdGlvbihlKXtpZigoZS5jdHJsS2V5fHxlLm1ldGFLZXkpJiZcImtleXVwXCI9PT1lLnR5cGUmJiFNLmlzVW5kZWZpbmVkKHRoaXMudmFsdWVQYXJ0c0JlZm9yZVBhc3RlKXx8ZS5zaGlmdEtleSYmdGhpcy5ldmVudEtleT09PWQua2V5TmFtZS5JbnNlcnQpcmV0dXJuIHRoaXMuX2NoZWNrUGFzdGUoKSwhMTtpZih0aGlzLmNvbnN0cnVjdG9yLl9zaG91bGRTa2lwRXZlbnRLZXkodGhpcy5ldmVudEtleSkpcmV0dXJuITA7aWYoKGUuY3RybEtleXx8ZS5tZXRhS2V5KSYmdGhpcy5ldmVudEtleT09PWQua2V5TmFtZS5hKXJldHVybiB0aGlzLnNldHRpbmdzLnNlbGVjdE51bWJlck9ubHkmJihlLnByZXZlbnREZWZhdWx0KCksdGhpcy5zZWxlY3ROdW1iZXIoKSksITA7aWYoKGUuY3RybEtleXx8ZS5tZXRhS2V5KSYmKHRoaXMuZXZlbnRLZXk9PT1kLmtleU5hbWUuY3x8dGhpcy5ldmVudEtleT09PWQua2V5TmFtZS52fHx0aGlzLmV2ZW50S2V5PT09ZC5rZXlOYW1lLngpKXJldHVyblwia2V5ZG93blwiPT09ZS50eXBlJiZ0aGlzLl9leHBhbmRTZWxlY3Rpb25PblNpZ24oKSx0aGlzLmV2ZW50S2V5IT09ZC5rZXlOYW1lLnYmJnRoaXMuZXZlbnRLZXkhPT1kLmtleU5hbWUuSW5zZXJ0fHwoXCJrZXlkb3duXCI9PT1lLnR5cGV8fFwia2V5cHJlc3NcIj09PWUudHlwZT9NLmlzVW5kZWZpbmVkKHRoaXMudmFsdWVQYXJ0c0JlZm9yZVBhc3RlKSYmKHRoaXMudmFsdWVQYXJ0c0JlZm9yZVBhc3RlPXRoaXMuX2dldExlZnRBbmRSaWdodFBhcnRBcm91bmRUaGVTZWxlY3Rpb24oKSk6dGhpcy5fY2hlY2tQYXN0ZSgpKSxcImtleWRvd25cIj09PWUudHlwZXx8XCJrZXlwcmVzc1wiPT09ZS50eXBlfHx0aGlzLmV2ZW50S2V5PT09ZC5rZXlOYW1lLmM7aWYoZS5jdHJsS2V5fHxlLm1ldGFLZXkpcmV0dXJuISh0aGlzLmV2ZW50S2V5PT09ZC5rZXlOYW1lLlp8fHRoaXMuZXZlbnRLZXk9PT1kLmtleU5hbWUueik7aWYodGhpcy5ldmVudEtleSE9PWQua2V5TmFtZS5MZWZ0QXJyb3cmJnRoaXMuZXZlbnRLZXkhPT1kLmtleU5hbWUuUmlnaHRBcnJvdylyZXR1cm4gTS5pc0luQXJyYXkodGhpcy5ldmVudEtleSxkLmtleU5hbWUuX2RpcmVjdGlvbktleXMpO2lmKFwia2V5ZG93blwiPT09ZS50eXBlJiYhZS5zaGlmdEtleSl7dmFyIHQ9TS5nZXRFbGVtZW50VmFsdWUodGhpcy5kb21FbGVtZW50KTt0aGlzLmV2ZW50S2V5IT09ZC5rZXlOYW1lLkxlZnRBcnJvd3x8dC5jaGFyQXQodGhpcy5zZWxlY3Rpb24uc3RhcnQtMikhPT10aGlzLnNldHRpbmdzLmRpZ2l0R3JvdXBTZXBhcmF0b3ImJnQuY2hhckF0KHRoaXMuc2VsZWN0aW9uLnN0YXJ0LTIpIT09dGhpcy5zZXR0aW5ncy5kZWNpbWFsQ2hhcmFjdGVyP3RoaXMuZXZlbnRLZXkhPT1kLmtleU5hbWUuUmlnaHRBcnJvd3x8dC5jaGFyQXQodGhpcy5zZWxlY3Rpb24uc3RhcnQrMSkhPT10aGlzLnNldHRpbmdzLmRpZ2l0R3JvdXBTZXBhcmF0b3ImJnQuY2hhckF0KHRoaXMuc2VsZWN0aW9uLnN0YXJ0KzEpIT09dGhpcy5zZXR0aW5ncy5kZWNpbWFsQ2hhcmFjdGVyfHx0aGlzLl9zZXRDYXJldFBvc2l0aW9uKHRoaXMuc2VsZWN0aW9uLnN0YXJ0KzEpOnRoaXMuX3NldENhcmV0UG9zaXRpb24odGhpcy5zZWxlY3Rpb24uc3RhcnQtMSl9cmV0dXJuITB9fSx7a2V5OlwiX3Byb2Nlc3NDaGFyYWN0ZXJEZWxldGlvbklmVHJhaWxpbmdOZWdhdGl2ZVNpZ25cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1TKGUsMiksaT10WzBdLG49dFsxXSxhPU0uZ2V0RWxlbWVudFZhbHVlKHRoaXMuZG9tRWxlbWVudCkscj1NLmlzTmVnYXRpdmUoYSx0aGlzLnNldHRpbmdzLm5lZ2F0aXZlU2lnbkNoYXJhY3Rlcik7aWYodGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudD09PUIub3B0aW9ucy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudC5wcmVmaXgmJnRoaXMuc2V0dGluZ3MubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQ9PT1CLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQuc3VmZml4JiYodGhpcy5ldmVudEtleT09PWQua2V5TmFtZS5CYWNrc3BhY2U/KHRoaXMuY2FyZXRGaXg9dGhpcy5zZWxlY3Rpb24uc3RhcnQ+PWEuaW5kZXhPZih0aGlzLnNldHRpbmdzLnN1ZmZpeFRleHQpJiZcIlwiIT09dGhpcy5zZXR0aW5ncy5zdWZmaXhUZXh0LFwiLVwiPT09YS5jaGFyQXQodGhpcy5zZWxlY3Rpb24uc3RhcnQtMSk/aT1pLnN1YnN0cmluZygxKTp0aGlzLnNlbGVjdGlvbi5zdGFydDw9YS5sZW5ndGgtdGhpcy5zZXR0aW5ncy5zdWZmaXhUZXh0Lmxlbmd0aCYmKGk9aS5zdWJzdHJpbmcoMCxpLmxlbmd0aC0xKSkpOih0aGlzLmNhcmV0Rml4PXRoaXMuc2VsZWN0aW9uLnN0YXJ0Pj1hLmluZGV4T2YodGhpcy5zZXR0aW5ncy5zdWZmaXhUZXh0KSYmXCJcIiE9PXRoaXMuc2V0dGluZ3Muc3VmZml4VGV4dCx0aGlzLnNlbGVjdGlvbi5zdGFydD49YS5pbmRleE9mKHRoaXMuc2V0dGluZ3MuY3VycmVuY3lTeW1ib2wpK3RoaXMuc2V0dGluZ3MuY3VycmVuY3lTeW1ib2wubGVuZ3RoJiYobj1uLnN1YnN0cmluZygxLG4ubGVuZ3RoKSksTS5pc05lZ2F0aXZlKGksdGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIpJiZcIi1cIj09PWEuY2hhckF0KHRoaXMuc2VsZWN0aW9uLnN0YXJ0KSYmKGk9aS5zdWJzdHJpbmcoMSkpKSksdGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudD09PUIub3B0aW9ucy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudC5zdWZmaXgpc3dpdGNoKHRoaXMuc2V0dGluZ3MubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQpe2Nhc2UgQi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LmxlZnQ6dGhpcy5jYXJldEZpeD10aGlzLnNlbGVjdGlvbi5zdGFydD49YS5pbmRleE9mKHRoaXMuc2V0dGluZ3MubmVnYXRpdmVTaWduQ2hhcmFjdGVyKSt0aGlzLnNldHRpbmdzLm5lZ2F0aXZlU2lnbkNoYXJhY3Rlci5sZW5ndGgsdGhpcy5ldmVudEtleT09PWQua2V5TmFtZS5CYWNrc3BhY2U/dGhpcy5zZWxlY3Rpb24uc3RhcnQ9PT1hLmluZGV4T2YodGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIpK3RoaXMuc2V0dGluZ3MubmVnYXRpdmVTaWduQ2hhcmFjdGVyLmxlbmd0aCYmcj9pPWkuc3Vic3RyaW5nKDEpOlwiLVwiIT09aSYmKHRoaXMuc2VsZWN0aW9uLnN0YXJ0PD1hLmluZGV4T2YodGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIpfHwhcikmJihpPWkuc3Vic3RyaW5nKDAsaS5sZW5ndGgtMSkpOihcIi1cIj09PWlbMF0mJihuPW4uc3Vic3RyaW5nKDEpKSx0aGlzLnNlbGVjdGlvbi5zdGFydD09PWEuaW5kZXhPZih0aGlzLnNldHRpbmdzLm5lZ2F0aXZlU2lnbkNoYXJhY3RlcikmJnImJihpPWkuc3Vic3RyaW5nKDEpKSk7YnJlYWs7Y2FzZSBCLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQucmlnaHQ6dGhpcy5jYXJldEZpeD10aGlzLnNlbGVjdGlvbi5zdGFydD49YS5pbmRleE9mKHRoaXMuc2V0dGluZ3MubmVnYXRpdmVTaWduQ2hhcmFjdGVyKSt0aGlzLnNldHRpbmdzLm5lZ2F0aXZlU2lnbkNoYXJhY3Rlci5sZW5ndGgsdGhpcy5ldmVudEtleT09PWQua2V5TmFtZS5CYWNrc3BhY2U/dGhpcy5zZWxlY3Rpb24uc3RhcnQ9PT1hLmluZGV4T2YodGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIpK3RoaXMuc2V0dGluZ3MubmVnYXRpdmVTaWduQ2hhcmFjdGVyLmxlbmd0aD9pPWkuc3Vic3RyaW5nKDEpOihcIi1cIiE9PWkmJnRoaXMuc2VsZWN0aW9uLnN0YXJ0PD1hLmluZGV4T2YodGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIpLXRoaXMuc2V0dGluZ3MuY3VycmVuY3lTeW1ib2wubGVuZ3RofHxcIlwiIT09aSYmIXIpJiYoaT1pLnN1YnN0cmluZygwLGkubGVuZ3RoLTEpKToodGhpcy5jYXJldEZpeD10aGlzLnNlbGVjdGlvbi5zdGFydD49YS5pbmRleE9mKHRoaXMuc2V0dGluZ3MuY3VycmVuY3lTeW1ib2wpJiZcIlwiIT09dGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbCx0aGlzLnNlbGVjdGlvbi5zdGFydD09PWEuaW5kZXhPZih0aGlzLnNldHRpbmdzLm5lZ2F0aXZlU2lnbkNoYXJhY3RlcikmJihpPWkuc3Vic3RyaW5nKDEpKSxuPW4uc3Vic3RyaW5nKDEpKX1yZXR1cm5baSxuXX19LHtrZXk6XCJfcHJvY2Vzc0NoYXJhY3RlckRlbGV0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0O2lmKHRoaXMuc2VsZWN0aW9uLmxlbmd0aCl7dGhpcy5fZXhwYW5kU2VsZWN0aW9uT25TaWduKCk7dmFyIGk9Uyh0aGlzLl9nZXRVbmZvcm1hdHRlZExlZnRBbmRSaWdodFBhcnRBcm91bmRUaGVTZWxlY3Rpb24oKSwyKTtlPWlbMF0sdD1pWzFdfWVsc2V7dmFyIG49Uyh0aGlzLl9nZXRVbmZvcm1hdHRlZExlZnRBbmRSaWdodFBhcnRBcm91bmRUaGVTZWxlY3Rpb24oKSwyKTtpZihlPW5bMF0sdD1uWzFdLFwiXCI9PT1lJiZcIlwiPT09dCYmKHRoaXMudGhyb3dJbnB1dD0hMSksdGhpcy5pc1RyYWlsaW5nTmVnYXRpdmUmJk0uaXNOZWdhdGl2ZShNLmdldEVsZW1lbnRWYWx1ZSh0aGlzLmRvbUVsZW1lbnQpLHRoaXMuc2V0dGluZ3MubmVnYXRpdmVTaWduQ2hhcmFjdGVyKSl7dmFyIGE9Uyh0aGlzLl9wcm9jZXNzQ2hhcmFjdGVyRGVsZXRpb25JZlRyYWlsaW5nTmVnYXRpdmVTaWduKFtlLHRdKSwyKTtlPWFbMF0sdD1hWzFdfWVsc2UgdGhpcy5ldmVudEtleT09PWQua2V5TmFtZS5CYWNrc3BhY2U/ZT1lLnN1YnN0cmluZygwLGUubGVuZ3RoLTEpOnQ9dC5zdWJzdHJpbmcoMSx0Lmxlbmd0aCl9cmV0dXJuISF0aGlzLmNvbnN0cnVjdG9yLl9pc1dpdGhpblJhbmdlV2l0aE92ZXJyaWRlT3B0aW9uKFwiXCIuY29uY2F0KGUpLmNvbmNhdCh0KSx0aGlzLnNldHRpbmdzKSYmKHRoaXMuX3NldFZhbHVlUGFydHMoZSx0KSwhMCl9fSx7a2V5OlwiX2lzRGVjaW1hbENoYXJhY3Rlckluc2VydGlvbkFsbG93ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBTdHJpbmcodGhpcy5zZXR0aW5ncy5kZWNpbWFsUGxhY2VzU2hvd25PbkZvY3VzKSE9PVN0cmluZyhCLm9wdGlvbnMuZGVjaW1hbFBsYWNlc1Nob3duT25Gb2N1cy5ub25lKSYmU3RyaW5nKHRoaXMuc2V0dGluZ3MuZGVjaW1hbFBsYWNlcykhPT1TdHJpbmcoQi5vcHRpb25zLmRlY2ltYWxQbGFjZXMubm9uZSl9fSx7a2V5OlwiX3Byb2Nlc3NDaGFyYWN0ZXJJbnNlcnRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPVModGhpcy5fZ2V0VW5mb3JtYXR0ZWRMZWZ0QW5kUmlnaHRQYXJ0QXJvdW5kVGhlU2VsZWN0aW9uKCksMiksdD1lWzBdLGk9ZVsxXTtpZih0aGlzLmV2ZW50S2V5IT09ZC5rZXlOYW1lLkFuZHJvaWREZWZhdWx0JiYodGhpcy50aHJvd0lucHV0PSEwKSx0aGlzLmV2ZW50S2V5PT09dGhpcy5zZXR0aW5ncy5kZWNpbWFsQ2hhcmFjdGVyfHx0aGlzLnNldHRpbmdzLmRlY2ltYWxDaGFyYWN0ZXJBbHRlcm5hdGl2ZSYmdGhpcy5ldmVudEtleT09PXRoaXMuc2V0dGluZ3MuZGVjaW1hbENoYXJhY3RlckFsdGVybmF0aXZlKXtpZighdGhpcy5faXNEZWNpbWFsQ2hhcmFjdGVySW5zZXJ0aW9uQWxsb3dlZCgpfHwhdGhpcy5zZXR0aW5ncy5kZWNpbWFsQ2hhcmFjdGVyKXJldHVybiExO2lmKHRoaXMuc2V0dGluZ3MuYWx3YXlzQWxsb3dEZWNpbWFsQ2hhcmFjdGVyKXQ9dC5yZXBsYWNlKHRoaXMuc2V0dGluZ3MuZGVjaW1hbENoYXJhY3RlcixcIlwiKSxpPWkucmVwbGFjZSh0aGlzLnNldHRpbmdzLmRlY2ltYWxDaGFyYWN0ZXIsXCJcIik7ZWxzZXtpZihNLmNvbnRhaW5zKHQsdGhpcy5zZXR0aW5ncy5kZWNpbWFsQ2hhcmFjdGVyKSlyZXR1cm4hMDtpZigwPGkuaW5kZXhPZih0aGlzLnNldHRpbmdzLmRlY2ltYWxDaGFyYWN0ZXIpKXJldHVybiEwOzA9PT1pLmluZGV4T2YodGhpcy5zZXR0aW5ncy5kZWNpbWFsQ2hhcmFjdGVyKSYmKGk9aS5zdWJzdHIoMSkpfXJldHVybiB0aGlzLnNldHRpbmdzLm5lZ2F0aXZlU2lnbkNoYXJhY3RlciYmTS5jb250YWlucyhpLHRoaXMuc2V0dGluZ3MubmVnYXRpdmVTaWduQ2hhcmFjdGVyKSYmKHQ9XCJcIi5jb25jYXQodGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIpLmNvbmNhdCh0KSxpPWkucmVwbGFjZSh0aGlzLnNldHRpbmdzLm5lZ2F0aXZlU2lnbkNoYXJhY3RlcixcIlwiKSksdGhpcy5fc2V0VmFsdWVQYXJ0cyh0K3RoaXMuc2V0dGluZ3MuZGVjaW1hbENoYXJhY3RlcixpKSwhMH1pZigoXCItXCI9PT10aGlzLmV2ZW50S2V5fHxcIitcIj09PXRoaXMuZXZlbnRLZXkpJiZ0aGlzLnNldHRpbmdzLmlzTmVnYXRpdmVTaWduQWxsb3dlZClyZXR1cm5cIlwiPT09dCYmTS5jb250YWlucyhpLFwiLVwiKT9pPWkucmVwbGFjZShcIi1cIixcIlwiKTp0PU0uaXNOZWdhdGl2ZVN0cmljdCh0LFwiLVwiKT90LnJlcGxhY2UoXCItXCIsXCJcIik6XCJcIi5jb25jYXQodGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIpLmNvbmNhdCh0KSx0aGlzLl9zZXRWYWx1ZVBhcnRzKHQsaSksITA7dmFyIG49TnVtYmVyKHRoaXMuZXZlbnRLZXkpO3JldHVybiAwPD1uJiZuPD05Pyh0aGlzLnNldHRpbmdzLmlzTmVnYXRpdmVTaWduQWxsb3dlZCYmXCJcIj09PXQmJk0uY29udGFpbnMoaSxcIi1cIikmJih0PVwiLVwiLGk9aS5zdWJzdHJpbmcoMSxpLmxlbmd0aCkpLHRoaXMuc2V0dGluZ3MubWF4aW11bVZhbHVlPD0wJiZ0aGlzLnNldHRpbmdzLm1pbmltdW1WYWx1ZTx0aGlzLnNldHRpbmdzLm1heGltdW1WYWx1ZSYmIU0uY29udGFpbnMoTS5nZXRFbGVtZW50VmFsdWUodGhpcy5kb21FbGVtZW50KSx0aGlzLnNldHRpbmdzLm5lZ2F0aXZlU2lnbkNoYXJhY3RlcikmJlwiMFwiIT09dGhpcy5ldmVudEtleSYmKHQ9XCItXCIuY29uY2F0KHQpKSx0aGlzLl9zZXRWYWx1ZVBhcnRzKFwiXCIuY29uY2F0KHQpLmNvbmNhdCh0aGlzLmV2ZW50S2V5KSxpKSwhMCk6dGhpcy50aHJvd0lucHV0PSExfX0se2tleTpcIl9mb3JtYXRWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PU0uZ2V0RWxlbWVudFZhbHVlKHRoaXMuZG9tRWxlbWVudCksaT1TKHRoaXMuX2dldFVuZm9ybWF0dGVkTGVmdEFuZFJpZ2h0UGFydEFyb3VuZFRoZVNlbGVjdGlvbigpLDEpWzBdO2lmKChcIlwiPT09dGhpcy5zZXR0aW5ncy5kaWdpdEdyb3VwU2VwYXJhdG9yfHxcIlwiIT09dGhpcy5zZXR0aW5ncy5kaWdpdEdyb3VwU2VwYXJhdG9yJiYhTS5jb250YWlucyh0LHRoaXMuc2V0dGluZ3MuZGlnaXRHcm91cFNlcGFyYXRvcikpJiYoXCJcIj09PXRoaXMuc2V0dGluZ3MuY3VycmVuY3lTeW1ib2x8fFwiXCIhPT10aGlzLnNldHRpbmdzLmN1cnJlbmN5U3ltYm9sJiYhTS5jb250YWlucyh0LHRoaXMuc2V0dGluZ3MuY3VycmVuY3lTeW1ib2wpKSl7dmFyIG49Uyh0LnNwbGl0KHRoaXMuc2V0dGluZ3MuZGVjaW1hbENoYXJhY3RlciksMSlbMF0sYT1cIlwiO00uaXNOZWdhdGl2ZShuLHRoaXMuc2V0dGluZ3MubmVnYXRpdmVTaWduQ2hhcmFjdGVyKSYmKGE9dGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIsbj1uLnJlcGxhY2UodGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIsXCJcIiksaT1pLnJlcGxhY2UoXCItXCIsXCJcIikpLFwiXCI9PT1hJiZuLmxlbmd0aD50aGlzLnNldHRpbmdzLm1JbnRQb3MmJlwiMFwiPT09aS5jaGFyQXQoMCkmJihpPWkuc2xpY2UoMSkpLGE9PT10aGlzLnNldHRpbmdzLm5lZ2F0aXZlU2lnbkNoYXJhY3RlciYmbi5sZW5ndGg+dGhpcy5zZXR0aW5ncy5tSW50TmVnJiZcIjBcIj09PWkuY2hhckF0KDApJiYoaT1pLnNsaWNlKDEpKSx0aGlzLmlzVHJhaWxpbmdOZWdhdGl2ZXx8KGk9XCJcIi5jb25jYXQoYSkuY29uY2F0KGkpKX12YXIgcj10aGlzLmNvbnN0cnVjdG9yLl9hZGRHcm91cFNlcGFyYXRvcnModCx0aGlzLnNldHRpbmdzLHRoaXMuaXNGb2N1c2VkLHRoaXMucmF3VmFsdWUpLHM9ci5sZW5ndGg7aWYocil7dmFyIG8sbD1pLnNwbGl0KFwiXCIpO2lmKCh0aGlzLnNldHRpbmdzLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50PT09Qi5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LnN1ZmZpeHx8dGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudCE9PUIub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5wcmVmaXgmJnRoaXMuc2V0dGluZ3MuY3VycmVuY3lTeW1ib2xQbGFjZW1lbnQ9PT1CLm9wdGlvbnMuY3VycmVuY3lTeW1ib2xQbGFjZW1lbnQuc3VmZml4KSYmbFswXT09PXRoaXMuc2V0dGluZ3MubmVnYXRpdmVTaWduQ2hhcmFjdGVyJiYhdGhpcy5zZXR0aW5ncy5pc05lZ2F0aXZlU2lnbkFsbG93ZWQmJihsLnNoaWZ0KCksKHRoaXMuZXZlbnRLZXk9PT1kLmtleU5hbWUuQmFja3NwYWNlfHx0aGlzLmV2ZW50S2V5PT09ZC5rZXlOYW1lLkRlbGV0ZSkmJnRoaXMuY2FyZXRGaXgmJigodGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudD09PUIub3B0aW9ucy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudC5zdWZmaXgmJnRoaXMuc2V0dGluZ3MubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQ9PT1CLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQubGVmdHx8dGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudD09PUIub3B0aW9ucy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudC5wcmVmaXgmJnRoaXMuc2V0dGluZ3MubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQ9PT1CLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQuc3VmZml4KSYmKGwucHVzaCh0aGlzLnNldHRpbmdzLm5lZ2F0aXZlU2lnbkNoYXJhY3RlciksdGhpcy5jYXJldEZpeD1cImtleWRvd25cIj09PWUudHlwZSksdGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudD09PUIub3B0aW9ucy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudC5zdWZmaXgmJnRoaXMuc2V0dGluZ3MubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQ9PT1CLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQucmlnaHQpKSl7dmFyIHU9dGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbC5zcGxpdChcIlwiKSxjPVtcIlxcXFxcIixcIl5cIixcIiRcIixcIi5cIixcInxcIixcIj9cIixcIipcIixcIitcIixcIihcIixcIilcIixcIltcIl0saD1bXTt1LmZvckVhY2goZnVuY3Rpb24oZSx0KXt0PXVbZV0sTS5pc0luQXJyYXkodCxjKT9oLnB1c2goXCJcXFxcXCIrdCk6aC5wdXNoKHQpfSksdGhpcy5ldmVudEtleT09PWQua2V5TmFtZS5CYWNrc3BhY2UmJlwiLVwiPT09dGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXImJmgucHVzaChcIi1cIiksbC5wdXNoKGguam9pbihcIlwiKSksdGhpcy5jYXJldEZpeD1cImtleWRvd25cIj09PWUudHlwZX1mb3IodmFyIG09MDttPGwubGVuZ3RoO20rKylsW21dLm1hdGNoKFwiXFxcXGRcIil8fChsW21dPVwiXFxcXFwiK2xbbV0pO289dGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudD09PUIub3B0aW9ucy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudC5zdWZmaXg/bmV3IFJlZ0V4cChcIl4uKj9cIi5jb25jYXQobC5qb2luKFwiLio/XCIpKSk6bmV3IFJlZ0V4cChcIl4uKj9cIi5jb25jYXQodGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbCkuY29uY2F0KGwuam9pbihcIi4qP1wiKSkpO3ZhciBnPXIubWF0Y2gobyk7Zz8ocz1nWzBdLmxlbmd0aCx0aGlzLnNldHRpbmdzLnNob3dQb3NpdGl2ZVNpZ24mJigwPT09cyYmZy5pbnB1dC5jaGFyQXQoMCk9PT10aGlzLnNldHRpbmdzLnBvc2l0aXZlU2lnbkNoYXJhY3RlciYmKHM9MT09PWcuaW5wdXQuaW5kZXhPZih0aGlzLnNldHRpbmdzLmN1cnJlbmN5U3ltYm9sKT90aGlzLnNldHRpbmdzLmN1cnJlbmN5U3ltYm9sLmxlbmd0aCsxOjEpLDA9PT1zJiZnLmlucHV0LmNoYXJBdCh0aGlzLnNldHRpbmdzLmN1cnJlbmN5U3ltYm9sLmxlbmd0aCk9PT10aGlzLnNldHRpbmdzLnBvc2l0aXZlU2lnbkNoYXJhY3RlciYmKHM9dGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbC5sZW5ndGgrMSkpLCgwPT09cyYmci5jaGFyQXQoMCkhPT10aGlzLnNldHRpbmdzLm5lZ2F0aXZlU2lnbkNoYXJhY3Rlcnx8MT09PXMmJnIuY2hhckF0KDApPT09dGhpcy5zZXR0aW5ncy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIpJiZ0aGlzLnNldHRpbmdzLmN1cnJlbmN5U3ltYm9sJiZ0aGlzLnNldHRpbmdzLmN1cnJlbmN5U3ltYm9sUGxhY2VtZW50PT09Qi5vcHRpb25zLmN1cnJlbmN5U3ltYm9sUGxhY2VtZW50LnByZWZpeCYmKHM9dGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbC5sZW5ndGgrKE0uaXNOZWdhdGl2ZVN0cmljdChyLHRoaXMuc2V0dGluZ3MubmVnYXRpdmVTaWduQ2hhcmFjdGVyKT8xOjApKSk6KHRoaXMuc2V0dGluZ3MuY3VycmVuY3lTeW1ib2wmJnRoaXMuc2V0dGluZ3MuY3VycmVuY3lTeW1ib2xQbGFjZW1lbnQ9PT1CLm9wdGlvbnMuY3VycmVuY3lTeW1ib2xQbGFjZW1lbnQuc3VmZml4JiYocy09dGhpcy5zZXR0aW5ncy5jdXJyZW5jeVN5bWJvbC5sZW5ndGgpLHRoaXMuc2V0dGluZ3Muc3VmZml4VGV4dCYmKHMtPXRoaXMuc2V0dGluZ3Muc3VmZml4VGV4dC5sZW5ndGgpKX1yIT09dCYmKHRoaXMuX3NldEVsZW1lbnRWYWx1ZShyLCExKSx0aGlzLl9zZXRDYXJldFBvc2l0aW9uKHMpKSx0aGlzLmZvcm1hdHRlZD0hMH19XSksUChlLHQpLEJ9KCk7ZnVuY3Rpb24gTihlLHQpe3Q9dHx8e2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMSxkZXRhaWw6dm9pZCAwfTt2YXIgaT1kb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpO3JldHVybiBpLmluaXRDdXN0b21FdmVudChlLHQuYnViYmxlcyx0LmNhbmNlbGFibGUsdC5kZXRhaWwpLGl9ay5tdWx0aXBsZT1mdW5jdGlvbihlKXt2YXIgaT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbCx0PTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpudWxsLG49W107aWYoTS5pc09iamVjdChpKSYmKHQ9aSxpPW51bGwpLE0uaXNTdHJpbmcoZSkpZT1wKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZSkpO2Vsc2UgaWYoTS5pc09iamVjdChlKSl7T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJyb290RWxlbWVudFwiKXx8TS50aHJvd0Vycm9yKFwiVGhlIG9iamVjdCBwYXNzZWQgdG8gdGhlICdtdWx0aXBsZScgZnVuY3Rpb24gaXMgaW52YWxpZCA7IG5vICdyb290RWxlbWVudCcgYXR0cmlidXRlIGZvdW5kLlwiKTt2YXIgYT1wKGUucm9vdEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcImlucHV0XCIpKTtlPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZXhjbHVkZVwiKT8oQXJyYXkuaXNBcnJheShlLmV4Y2x1ZGUpfHxNLnRocm93RXJyb3IoXCJUaGUgJ2V4Y2x1ZGUnIGFycmF5IHBhc3NlZCB0byB0aGUgJ211bHRpcGxlJyBmdW5jdGlvbiBpcyBpbnZhbGlkLlwiKSxNLmZpbHRlck91dChhLGUuZXhjbHVkZSkpOmF9ZWxzZSBNLmlzQXJyYXkoZSl8fE0udGhyb3dFcnJvcihcIlRoZSBnaXZlbiBwYXJhbWV0ZXJzIHRvIHRoZSAnbXVsdGlwbGUnIGZ1bmN0aW9uIGFyZSBpbnZhbGlkLlwiKTtpZigwPT09ZS5sZW5ndGgpe3ZhciByPSEwO3JldHVybiFNLmlzTnVsbCh0KSYmTS5pc0Jvb2xlYW4odC5zaG93V2FybmluZ3MpJiYocj10LnNob3dXYXJuaW5ncyksTS53YXJuaW5nKFwiTm8gdmFsaWQgRE9NIGVsZW1lbnRzIHdlcmUgZ2l2ZW4gaGVuY2Ugbm8gQXV0b051bWVyaWMgb2JqZWN0cyB3ZXJlIGluc3RhbnRpYXRlZC5cIixyKSxbXX12YXIgcz1NLmlzQXJyYXkoaSkmJjE8PWkubGVuZ3RoLG89ITEsbD0hMTtpZihzKXt2YXIgdT13KE51bWJlcihpWzBdKSk7KG89XCJudW1iZXJcIj09PXUmJiFpc05hTihOdW1iZXIoaVswXSkpKXx8XCJzdHJpbmdcIiE9PXUmJiFpc05hTih1KSYmXCJvYmplY3RcIiE9PXV8fChsPSEwKX12YXIgYyxoPSExO2lmKE0uaXNBcnJheSh0KSYmMTw9dC5sZW5ndGgpe3ZhciBtPXcodFswXSk7XCJzdHJpbmdcIiE9PW0mJlwib2JqZWN0XCIhPT1tfHwoaD0hMCl9Yz1sP2subWVyZ2VPcHRpb25zKGkpOmg/ay5tZXJnZU9wdGlvbnModCk6dDt2YXIgZyxkPU0uaXNOdW1iZXIoaSk7cmV0dXJuIG8mJihnPWkubGVuZ3RoKSxlLmZvckVhY2goZnVuY3Rpb24oZSx0KXtkP24ucHVzaChuZXcgayhlLGksYykpOm8mJnQ8PWc/bi5wdXNoKG5ldyBrKGUsaVt0XSxjKSk6bi5wdXNoKG5ldyBrKGUsbnVsbCxjKSl9KSxufSxBcnJheS5mcm9tfHwoQXJyYXkuZnJvbT1mdW5jdGlvbihlKXtyZXR1cm5bXS5zbGljZS5jYWxsKGUpfSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJmdW5jdGlvblwiIT10eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50JiYoTi5wcm90b3R5cGU9d2luZG93LkV2ZW50LnByb3RvdHlwZSx3aW5kb3cuQ3VzdG9tRXZlbnQ9Tiksay5ldmVudHM9e2NvcnJlY3RlZFZhbHVlOlwiYXV0b051bWVyaWM6Y29ycmVjdGVkVmFsdWVcIixpbml0aWFsaXplZDpcImF1dG9OdW1lcmljOmluaXRpYWxpemVkXCIsaW52YWxpZEZvcm11bGE6XCJhdXRvTnVtZXJpYzppbnZhbGlkRm9ybXVsYVwiLGludmFsaWRWYWx1ZTpcImF1dG9OdW1lcmljOmludmFsaWRWYWx1ZVwiLGZvcm1hdHRlZDpcImF1dG9OdW1lcmljOmZvcm1hdHRlZFwiLHJhd1ZhbHVlTW9kaWZpZWQ6XCJhdXRvTnVtZXJpYzpyYXdWYWx1ZU1vZGlmaWVkXCIsbWluUmFuZ2VFeGNlZWRlZDpcImF1dG9OdW1lcmljOm1pbkV4Y2VlZGVkXCIsbWF4UmFuZ2VFeGNlZWRlZDpcImF1dG9OdW1lcmljOm1heEV4Y2VlZGVkXCIsbmF0aXZlOntpbnB1dDpcImlucHV0XCIsY2hhbmdlOlwiY2hhbmdlXCJ9LHZhbGlkRm9ybXVsYTpcImF1dG9OdW1lcmljOnZhbGlkRm9ybXVsYVwifSxPYmplY3QuZnJlZXplKGsuZXZlbnRzLm5hdGl2ZSksT2JqZWN0LmZyZWV6ZShrLmV2ZW50cyksT2JqZWN0LmRlZmluZVByb3BlcnR5KGssXCJldmVudHNcIix7Y29uZmlndXJhYmxlOiExLHdyaXRhYmxlOiExfSksay5vcHRpb25zPXthbGxvd0RlY2ltYWxQYWRkaW5nOnthbHdheXM6ITAsbmV2ZXI6ITEsZmxvYXRzOlwiZmxvYXRzXCJ9LGFsd2F5c0FsbG93RGVjaW1hbENoYXJhY3Rlcjp7YWx3YXlzQWxsb3c6ITAsZG9Ob3RBbGxvdzohMX0sY2FyZXRQb3NpdGlvbk9uRm9jdXM6e3N0YXJ0Olwic3RhcnRcIixlbmQ6XCJlbmRcIixkZWNpbWFsTGVmdDpcImRlY2ltYWxMZWZ0XCIsZGVjaW1hbFJpZ2h0OlwiZGVjaW1hbFJpZ2h0XCIsZG9Ob0ZvcmNlQ2FyZXRQb3NpdGlvbjpudWxsfSxjcmVhdGVMb2NhbExpc3Q6e2NyZWF0ZUxpc3Q6ITAsZG9Ob3RDcmVhdGVMaXN0OiExfSxjdXJyZW5jeVN5bWJvbDp7bm9uZTpcIlwiLGN1cnJlbmN5U2lnbjpcIsKkXCIsYXVzdHJhbDpcIuKCs1wiLGF1c3RyYWxDZW50YXZvOlwiwqJcIixiYWh0Olwi4Li/XCIsY2VkaTpcIuKCtVwiLGNlbnQ6XCLColwiLGNvbG9uOlwi4oKhXCIsY3J1emVpcm86XCLigqJcIixkb2xsYXI6XCIkXCIsZG9uZzpcIuKCq1wiLGRyYWNobWE6XCLigq9cIixkcmFtOlwi4oCL1o9cIixldXJvcGVhbjpcIuKCoFwiLGV1cm86XCLigqxcIixmbG9yaW46XCLGklwiLGZyYW5jOlwi4oKjXCIsZ3VhcmFuaTpcIuKCslwiLGhyeXZuaWE6XCLigrRcIixraXA6XCLigq1cIixhdHQ6XCLguq3gurHgupRcIixsZXB0b246XCLOmy5cIixsaXJhOlwi4oK6XCIsbGlyYU9sZDpcIuKCpFwiLGxhcmk6XCLigr5cIixtYXJrOlwi4oSzXCIsbWlsbDpcIuKCpVwiLG5haXJhOlwi4oKmXCIscGVzZXRhOlwi4oKnXCIscGVzbzpcIuKCsVwiLHBmZW5uaWc6XCLigrBcIixwb3VuZDpcIsKjXCIscmVhbDpcIlIkXCIscmllbDpcIuGfm1wiLHJ1YmxlOlwi4oK9XCIscnVwZWU6XCLigrlcIixydXBlZU9sZDpcIuKCqFwiLHNoZWtlbDpcIuKCqlwiLHNoZWtlbEFsdDpcItep17TXl+KAjuKAjlwiLHRha2E6XCLgp7NcIix0ZW5nZTpcIuKCuFwiLHRvZ3JvZzpcIuKCrlwiLHdvbjpcIuKCqVwiLHllbjpcIsKlXCJ9LGN1cnJlbmN5U3ltYm9sUGxhY2VtZW50OntwcmVmaXg6XCJwXCIsc3VmZml4Olwic1wifSxkZWNpbWFsQ2hhcmFjdGVyOntjb21tYTpcIixcIixkb3Q6XCIuXCIsbWlkZGxlRG90OlwiwrdcIixhcmFiaWNEZWNpbWFsU2VwYXJhdG9yOlwi2atcIixkZWNpbWFsU2VwYXJhdG9yS2V5U3ltYm9sOlwi4o6WXCJ9LGRlY2ltYWxDaGFyYWN0ZXJBbHRlcm5hdGl2ZTp7bm9uZTpudWxsLGNvbW1hOlwiLFwiLGRvdDpcIi5cIn0sZGVjaW1hbFBsYWNlczp7bm9uZTowLG9uZToxLHR3bzoyLHRocmVlOjMsZm91cjo0LGZpdmU6NSxzaXg6Nn0sZGVjaW1hbFBsYWNlc1Jhd1ZhbHVlOnt1c2VEZWZhdWx0Om51bGwsbm9uZTowLG9uZToxLHR3bzoyLHRocmVlOjMsZm91cjo0LGZpdmU6NSxzaXg6Nn0sZGVjaW1hbFBsYWNlc1Nob3duT25CbHVyOnt1c2VEZWZhdWx0Om51bGwsbm9uZTowLG9uZToxLHR3bzoyLHRocmVlOjMsZm91cjo0LGZpdmU6NSxzaXg6Nn0sZGVjaW1hbFBsYWNlc1Nob3duT25Gb2N1czp7dXNlRGVmYXVsdDpudWxsLG5vbmU6MCxvbmU6MSx0d286Mix0aHJlZTozLGZvdXI6NCxmaXZlOjUsc2l4OjZ9LGRlZmF1bHRWYWx1ZU92ZXJyaWRlOntkb05vdE92ZXJyaWRlOm51bGx9LGRpZ2l0YWxHcm91cFNwYWNpbmc6e3R3bzpcIjJcIix0d29TY2FsZWQ6XCIyc1wiLHRocmVlOlwiM1wiLGZvdXI6XCI0XCJ9LGRpZ2l0R3JvdXBTZXBhcmF0b3I6e2NvbW1hOlwiLFwiLGRvdDpcIi5cIixub3JtYWxTcGFjZTpcIiBcIix0aGluU3BhY2U6XCLigIlcIixuYXJyb3dOb0JyZWFrU3BhY2U6XCLigK9cIixub0JyZWFrU3BhY2U6XCLCoFwiLG5vU2VwYXJhdG9yOlwiXCIsYXBvc3Ryb3BoZTpcIidcIixhcmFiaWNUaG91c2FuZHNTZXBhcmF0b3I6XCLZrFwiLGRvdEFib3ZlOlwiy5lcIixwcml2YXRlVXNlVHdvOlwi4oCZXCJ9LGRpdmlzb3JXaGVuVW5mb2N1c2VkOntub25lOm51bGwscGVyY2VudGFnZToxMDAscGVybWlsbGU6MWUzLGJhc2lzUG9pbnQ6MWU0fSxlbXB0eUlucHV0QmVoYXZpb3I6e2ZvY3VzOlwiZm9jdXNcIixwcmVzczpcInByZXNzXCIsYWx3YXlzOlwiYWx3YXlzXCIsemVybzpcInplcm9cIixtaW46XCJtaW5cIixtYXg6XCJtYXhcIixudWxsOlwibnVsbFwifSxldmVudEJ1YmJsZXM6e2J1YmJsZXM6ITAsZG9lc05vdEJ1YmJsZTohMX0sZXZlbnRJc0NhbmNlbGFibGU6e2lzQ2FuY2VsYWJsZTohMCxpc05vdENhbmNlbGFibGU6ITF9LGZhaWxPblVua25vd25PcHRpb246e2ZhaWw6ITAsaWdub3JlOiExfSxmb3JtYXRPblBhZ2VMb2FkOntmb3JtYXQ6ITAsZG9Ob3RGb3JtYXQ6ITF9LGZvcm11bGFNb2RlOntlbmFibGVkOiEwLGRpc2FibGVkOiExfSxoaXN0b3J5U2l6ZTp7dmVyeVNtYWxsOjUsc21hbGw6MTAsbWVkaXVtOjIwLGxhcmdlOjUwLHZlcnlMYXJnZToxMDAsaW5zYW5lOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSfSxpbnZhbGlkQ2xhc3M6XCJhbi1pbnZhbGlkXCIsaXNDYW5jZWxsYWJsZTp7Y2FuY2VsbGFibGU6ITAsbm90Q2FuY2VsbGFibGU6ITF9LGxlYWRpbmdaZXJvOnthbGxvdzpcImFsbG93XCIsZGVueTpcImRlbnlcIixrZWVwOlwia2VlcFwifSxtYXhpbXVtVmFsdWU6e3RlblRyaWxsaW9uczpcIjEwMDAwMDAwMDAwMDAwXCIsb25lQmlsbGlvbjpcIjEwMDAwMDAwMDBcIix6ZXJvOlwiMFwifSxtaW5pbXVtVmFsdWU6e3RlblRyaWxsaW9uczpcIi0xMDAwMDAwMDAwMDAwMFwiLG9uZUJpbGxpb246XCItMTAwMDAwMDAwMFwiLHplcm86XCIwXCJ9LG1vZGlmeVZhbHVlT25XaGVlbDp7bW9kaWZ5VmFsdWU6ITAsZG9Ob3RoaW5nOiExfSxuZWdhdGl2ZUJyYWNrZXRzVHlwZU9uQmx1cjp7cGFyZW50aGVzZXM6XCIoLClcIixicmFja2V0czpcIlssXVwiLGNoZXZyb25zOlwiPCw+XCIsY3VybHlCcmFjZXM6XCJ7LH1cIixhbmdsZUJyYWNrZXRzOlwi44CILOOAiVwiLGphcGFuZXNlUXVvdGF0aW9uTWFya3M6XCLvvaIs772jXCIsaGFsZkJyYWNrZXRzOlwi4rikLOK4pVwiLHdoaXRlU3F1YXJlQnJhY2tldHM6XCLin6Ys4p+nXCIscXVvdGF0aW9uTWFya3M6XCLigLks4oC6XCIsZ3VpbGxlbWV0czpcIsKrLMK7XCIsbm9uZTpudWxsfSxuZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudDp7cHJlZml4OlwicFwiLHN1ZmZpeDpcInNcIixsZWZ0OlwibFwiLHJpZ2h0OlwiclwiLG5vbmU6bnVsbH0sbmVnYXRpdmVTaWduQ2hhcmFjdGVyOntoeXBoZW46XCItXCIsbWludXM6XCLiiJJcIixoZWF2eU1pbnVzOlwi4p6WXCIsZnVsbFdpZHRoSHlwaGVuOlwi77yNXCIsY2lyY2xlZE1pbnVzOlwi4oqWXCIsc3F1YXJlZE1pbnVzOlwi4oqfXCIsdHJpYW5nbGVNaW51czpcIuKoulwiLHBsdXNNaW51czpcIsKxXCIsbWludXNQbHVzOlwi4oiTXCIsZG90TWludXM6XCLiiLhcIixtaW51c1RpbGRlOlwi4omCXCIsbm90OlwiwqxcIn0sbm9FdmVudExpc3RlbmVyczp7bm9FdmVudHM6ITAsYWRkRXZlbnRzOiExfSxvbkludmFsaWRQYXN0ZTp7ZXJyb3I6XCJlcnJvclwiLGlnbm9yZTpcImlnbm9yZVwiLGNsYW1wOlwiY2xhbXBcIix0cnVuY2F0ZTpcInRydW5jYXRlXCIscmVwbGFjZTpcInJlcGxhY2VcIn0sb3V0cHV0Rm9ybWF0OntzdHJpbmc6XCJzdHJpbmdcIixudW1iZXI6XCJudW1iZXJcIixkb3Q6XCIuXCIsbmVnYXRpdmVEb3Q6XCItLlwiLGNvbW1hOlwiLFwiLG5lZ2F0aXZlQ29tbWE6XCItLFwiLGRvdE5lZ2F0aXZlOlwiLi1cIixjb21tYU5lZ2F0aXZlOlwiLC1cIixub25lOm51bGx9LG92ZXJyaWRlTWluTWF4TGltaXRzOntjZWlsaW5nOlwiY2VpbGluZ1wiLGZsb29yOlwiZmxvb3JcIixpZ25vcmU6XCJpZ25vcmVcIixpbnZhbGlkOlwiaW52YWxpZFwiLGRvTm90T3ZlcnJpZGU6bnVsbH0scG9zaXRpdmVTaWduQ2hhcmFjdGVyOntwbHVzOlwiK1wiLGZ1bGxXaWR0aFBsdXM6XCLvvItcIixoZWF2eVBsdXM6XCLinpVcIixkb3VibGVQbHVzOlwi4qe6XCIsdHJpcGxlUGx1czpcIuKnu1wiLGNpcmNsZWRQbHVzOlwi4oqVXCIsc3F1YXJlZFBsdXM6XCLiip5cIix0cmlhbmdsZVBsdXM6XCLiqLlcIixwbHVzTWludXM6XCLCsVwiLG1pbnVzUGx1czpcIuKIk1wiLGRvdFBsdXM6XCLiiJRcIixhbHRIZWJyZXdQbHVzOlwi76ypXCIsbm9ybWFsU3BhY2U6XCIgXCIsdGhpblNwYWNlOlwi4oCJXCIsbmFycm93Tm9CcmVha1NwYWNlOlwi4oCvXCIsbm9CcmVha1NwYWNlOlwiwqBcIn0scmF3VmFsdWVEaXZpc29yOntub25lOm51bGwscGVyY2VudGFnZToxMDAscGVybWlsbGU6MWUzLGJhc2lzUG9pbnQ6MWU0fSxyZWFkT25seTp7cmVhZE9ubHk6ITAscmVhZFdyaXRlOiExfSxyb3VuZGluZ01ldGhvZDp7aGFsZlVwU3ltbWV0cmljOlwiU1wiLGhhbGZVcEFzeW1tZXRyaWM6XCJBXCIsaGFsZkRvd25TeW1tZXRyaWM6XCJzXCIsaGFsZkRvd25Bc3ltbWV0cmljOlwiYVwiLGhhbGZFdmVuQmFua2Vyc1JvdW5kaW5nOlwiQlwiLHVwUm91bmRBd2F5RnJvbVplcm86XCJVXCIsZG93blJvdW5kVG93YXJkWmVybzpcIkRcIix0b0NlaWxpbmdUb3dhcmRQb3NpdGl2ZUluZmluaXR5OlwiQ1wiLHRvRmxvb3JUb3dhcmROZWdhdGl2ZUluZmluaXR5OlwiRlwiLHRvTmVhcmVzdDA1OlwiTjA1XCIsdG9OZWFyZXN0MDVBbHQ6XCJDSEZcIix1cFRvTmV4dDA1OlwiVTA1XCIsZG93blRvTmV4dDA1OlwiRDA1XCJ9LHNhdmVWYWx1ZVRvU2Vzc2lvblN0b3JhZ2U6e3NhdmU6ITAsZG9Ob3RTYXZlOiExfSxzZWxlY3ROdW1iZXJPbmx5OntzZWxlY3ROdW1iZXJzT25seTohMCxzZWxlY3RBbGw6ITF9LHNlbGVjdE9uRm9jdXM6e3NlbGVjdDohMCxkb05vdFNlbGVjdDohMX0sc2VyaWFsaXplU3BhY2VzOntwbHVzOlwiK1wiLHBlcmNlbnQ6XCIlMjBcIn0sc2hvd09ubHlOdW1iZXJzT25Gb2N1czp7b25seU51bWJlcnM6ITAsc2hvd0FsbDohMX0sc2hvd1Bvc2l0aXZlU2lnbjp7c2hvdzohMCxoaWRlOiExfSxzaG93V2FybmluZ3M6e3Nob3c6ITAsaGlkZTohMX0sc3R5bGVSdWxlczp7bm9uZTpudWxsLHBvc2l0aXZlTmVnYXRpdmU6e3Bvc2l0aXZlOlwiYXV0b051bWVyaWMtcG9zaXRpdmVcIixuZWdhdGl2ZTpcImF1dG9OdW1lcmljLW5lZ2F0aXZlXCJ9LHJhbmdlMFRvMTAwV2l0aDRTdGVwczp7cmFuZ2VzOlt7bWluOjAsbWF4OjI1LGNsYXNzOlwiYXV0b051bWVyaWMtcmVkXCJ9LHttaW46MjUsbWF4OjUwLGNsYXNzOlwiYXV0b051bWVyaWMtb3JhbmdlXCJ9LHttaW46NTAsbWF4Ojc1LGNsYXNzOlwiYXV0b051bWVyaWMteWVsbG93XCJ9LHttaW46NzUsbWF4OjEwMCxjbGFzczpcImF1dG9OdW1lcmljLWdyZWVuXCJ9XX0sZXZlbk9kZDp7dXNlckRlZmluZWQ6W3tjYWxsYmFjazpmdW5jdGlvbihlKXtyZXR1cm4gZSUyPT0wfSxjbGFzc2VzOltcImF1dG9OdW1lcmljLWV2ZW5cIixcImF1dG9OdW1lcmljLW9kZFwiXX1dfSxyYW5nZVNtYWxsQW5kWmVybzp7dXNlckRlZmluZWQ6W3tjYWxsYmFjazpmdW5jdGlvbihlKXtyZXR1cm4tMTw9ZSYmZTwwPzA6MD09PU51bWJlcihlKT8xOjA8ZSYmZTw9MT8yOm51bGx9LGNsYXNzZXM6W1wiYXV0b051bWVyaWMtc21hbGwtbmVnYXRpdmVcIixcImF1dG9OdW1lcmljLXplcm9cIixcImF1dG9OdW1lcmljLXNtYWxsLXBvc2l0aXZlXCJdfV19fSxzdWZmaXhUZXh0Ontub25lOlwiXCIscGVyY2VudGFnZTpcIiVcIixwZXJtaWxsZTpcIuKAsFwiLGJhc2lzUG9pbnQ6XCLigLFcIn0sc3ltYm9sV2hlblVuZm9jdXNlZDp7bm9uZTpudWxsLHBlcmNlbnRhZ2U6XCIlXCIscGVybWlsbGU6XCLigLBcIixiYXNpc1BvaW50Olwi4oCxXCJ9LHVuZm9ybWF0T25Ib3Zlcjp7dW5mb3JtYXQ6ITAsZG9Ob3RVbmZvcm1hdDohMX0sdW5mb3JtYXRPblN1Ym1pdDp7dW5mb3JtYXQ6ITAsa2VlcEN1cnJlbnRWYWx1ZTohMX0sdmFsdWVzVG9TdHJpbmdzOntub25lOm51bGwsemVyb0Rhc2g6ezA6XCItXCJ9LG9uZUFyb3VuZFplcm86e1wiLTFcIjpcIk1pblwiLDE6XCJNYXhcIn19LHdhdGNoRXh0ZXJuYWxDaGFuZ2VzOnt3YXRjaDohMCxkb05vdFdhdGNoOiExfSx3aGVlbE9uOntmb2N1czpcImZvY3VzXCIsaG92ZXI6XCJob3ZlclwifSx3aGVlbFN0ZXA6e3Byb2dyZXNzaXZlOlwicHJvZ3Jlc3NpdmVcIn19LE89ay5vcHRpb25zLE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pLmZvckVhY2goZnVuY3Rpb24oZSl7XCJ2YWx1ZXNUb1N0cmluZ3NcIj09PWU/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTy52YWx1ZXNUb1N0cmluZ3MpLmZvckVhY2goZnVuY3Rpb24oZSl7TS5pc0lFMTEoKXx8bnVsbD09PU8udmFsdWVzVG9TdHJpbmdzW2VdfHxPYmplY3QuZnJlZXplKE8udmFsdWVzVG9TdHJpbmdzW2VdKX0pOlwic3R5bGVSdWxlc1wiIT09ZSYmKE0uaXNJRTExKCl8fG51bGw9PT1PW2VdfHxPYmplY3QuZnJlZXplKE9bZV0pKX0pLE9iamVjdC5mcmVlemUoTyksT2JqZWN0LmRlZmluZVByb3BlcnR5KGssXCJvcHRpb25zXCIse2NvbmZpZ3VyYWJsZTohMSx3cml0YWJsZTohMX0pLGsuZGVmYXVsdFNldHRpbmdzPXthbGxvd0RlY2ltYWxQYWRkaW5nOmsub3B0aW9ucy5hbGxvd0RlY2ltYWxQYWRkaW5nLmFsd2F5cyxhbHdheXNBbGxvd0RlY2ltYWxDaGFyYWN0ZXI6ay5vcHRpb25zLmFsd2F5c0FsbG93RGVjaW1hbENoYXJhY3Rlci5kb05vdEFsbG93LGNhcmV0UG9zaXRpb25PbkZvY3VzOmsub3B0aW9ucy5jYXJldFBvc2l0aW9uT25Gb2N1cy5kb05vRm9yY2VDYXJldFBvc2l0aW9uLGNyZWF0ZUxvY2FsTGlzdDprLm9wdGlvbnMuY3JlYXRlTG9jYWxMaXN0LmNyZWF0ZUxpc3QsY3VycmVuY3lTeW1ib2w6ay5vcHRpb25zLmN1cnJlbmN5U3ltYm9sLm5vbmUsY3VycmVuY3lTeW1ib2xQbGFjZW1lbnQ6ay5vcHRpb25zLmN1cnJlbmN5U3ltYm9sUGxhY2VtZW50LnByZWZpeCxkZWNpbWFsQ2hhcmFjdGVyOmsub3B0aW9ucy5kZWNpbWFsQ2hhcmFjdGVyLmRvdCxkZWNpbWFsQ2hhcmFjdGVyQWx0ZXJuYXRpdmU6ay5vcHRpb25zLmRlY2ltYWxDaGFyYWN0ZXJBbHRlcm5hdGl2ZS5ub25lLGRlY2ltYWxQbGFjZXM6ay5vcHRpb25zLmRlY2ltYWxQbGFjZXMudHdvLGRlY2ltYWxQbGFjZXNSYXdWYWx1ZTprLm9wdGlvbnMuZGVjaW1hbFBsYWNlc1Jhd1ZhbHVlLnVzZURlZmF1bHQsZGVjaW1hbFBsYWNlc1Nob3duT25CbHVyOmsub3B0aW9ucy5kZWNpbWFsUGxhY2VzU2hvd25PbkJsdXIudXNlRGVmYXVsdCxkZWNpbWFsUGxhY2VzU2hvd25PbkZvY3VzOmsub3B0aW9ucy5kZWNpbWFsUGxhY2VzU2hvd25PbkZvY3VzLnVzZURlZmF1bHQsZGVmYXVsdFZhbHVlT3ZlcnJpZGU6ay5vcHRpb25zLmRlZmF1bHRWYWx1ZU92ZXJyaWRlLmRvTm90T3ZlcnJpZGUsZGlnaXRhbEdyb3VwU3BhY2luZzprLm9wdGlvbnMuZGlnaXRhbEdyb3VwU3BhY2luZy50aHJlZSxkaWdpdEdyb3VwU2VwYXJhdG9yOmsub3B0aW9ucy5kaWdpdEdyb3VwU2VwYXJhdG9yLmNvbW1hLGRpdmlzb3JXaGVuVW5mb2N1c2VkOmsub3B0aW9ucy5kaXZpc29yV2hlblVuZm9jdXNlZC5ub25lLGVtcHR5SW5wdXRCZWhhdmlvcjprLm9wdGlvbnMuZW1wdHlJbnB1dEJlaGF2aW9yLmZvY3VzLGV2ZW50QnViYmxlczprLm9wdGlvbnMuZXZlbnRCdWJibGVzLmJ1YmJsZXMsZXZlbnRJc0NhbmNlbGFibGU6ay5vcHRpb25zLmV2ZW50SXNDYW5jZWxhYmxlLmlzQ2FuY2VsYWJsZSxmYWlsT25Vbmtub3duT3B0aW9uOmsub3B0aW9ucy5mYWlsT25Vbmtub3duT3B0aW9uLmlnbm9yZSxmb3JtYXRPblBhZ2VMb2FkOmsub3B0aW9ucy5mb3JtYXRPblBhZ2VMb2FkLmZvcm1hdCxmb3JtdWxhTW9kZTprLm9wdGlvbnMuZm9ybXVsYU1vZGUuZGlzYWJsZWQsaGlzdG9yeVNpemU6ay5vcHRpb25zLmhpc3RvcnlTaXplLm1lZGl1bSxpbnZhbGlkQ2xhc3M6ay5vcHRpb25zLmludmFsaWRDbGFzcyxpc0NhbmNlbGxhYmxlOmsub3B0aW9ucy5pc0NhbmNlbGxhYmxlLmNhbmNlbGxhYmxlLGxlYWRpbmdaZXJvOmsub3B0aW9ucy5sZWFkaW5nWmVyby5kZW55LG1heGltdW1WYWx1ZTprLm9wdGlvbnMubWF4aW11bVZhbHVlLnRlblRyaWxsaW9ucyxtaW5pbXVtVmFsdWU6ay5vcHRpb25zLm1pbmltdW1WYWx1ZS50ZW5UcmlsbGlvbnMsbW9kaWZ5VmFsdWVPbldoZWVsOmsub3B0aW9ucy5tb2RpZnlWYWx1ZU9uV2hlZWwubW9kaWZ5VmFsdWUsbmVnYXRpdmVCcmFja2V0c1R5cGVPbkJsdXI6ay5vcHRpb25zLm5lZ2F0aXZlQnJhY2tldHNUeXBlT25CbHVyLm5vbmUsbmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQ6ay5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50Lm5vbmUsbmVnYXRpdmVTaWduQ2hhcmFjdGVyOmsub3B0aW9ucy5uZWdhdGl2ZVNpZ25DaGFyYWN0ZXIuaHlwaGVuLG5vRXZlbnRMaXN0ZW5lcnM6ay5vcHRpb25zLm5vRXZlbnRMaXN0ZW5lcnMuYWRkRXZlbnRzLG9uSW52YWxpZFBhc3RlOmsub3B0aW9ucy5vbkludmFsaWRQYXN0ZS5lcnJvcixvdXRwdXRGb3JtYXQ6ay5vcHRpb25zLm91dHB1dEZvcm1hdC5ub25lLG92ZXJyaWRlTWluTWF4TGltaXRzOmsub3B0aW9ucy5vdmVycmlkZU1pbk1heExpbWl0cy5kb05vdE92ZXJyaWRlLHBvc2l0aXZlU2lnbkNoYXJhY3RlcjprLm9wdGlvbnMucG9zaXRpdmVTaWduQ2hhcmFjdGVyLnBsdXMscmF3VmFsdWVEaXZpc29yOmsub3B0aW9ucy5yYXdWYWx1ZURpdmlzb3Iubm9uZSxyZWFkT25seTprLm9wdGlvbnMucmVhZE9ubHkucmVhZFdyaXRlLHJvdW5kaW5nTWV0aG9kOmsub3B0aW9ucy5yb3VuZGluZ01ldGhvZC5oYWxmVXBTeW1tZXRyaWMsc2F2ZVZhbHVlVG9TZXNzaW9uU3RvcmFnZTprLm9wdGlvbnMuc2F2ZVZhbHVlVG9TZXNzaW9uU3RvcmFnZS5kb05vdFNhdmUsc2VsZWN0TnVtYmVyT25seTprLm9wdGlvbnMuc2VsZWN0TnVtYmVyT25seS5zZWxlY3ROdW1iZXJzT25seSxzZWxlY3RPbkZvY3VzOmsub3B0aW9ucy5zZWxlY3RPbkZvY3VzLnNlbGVjdCxzZXJpYWxpemVTcGFjZXM6ay5vcHRpb25zLnNlcmlhbGl6ZVNwYWNlcy5wbHVzLHNob3dPbmx5TnVtYmVyc09uRm9jdXM6ay5vcHRpb25zLnNob3dPbmx5TnVtYmVyc09uRm9jdXMuc2hvd0FsbCxzaG93UG9zaXRpdmVTaWduOmsub3B0aW9ucy5zaG93UG9zaXRpdmVTaWduLmhpZGUsc2hvd1dhcm5pbmdzOmsub3B0aW9ucy5zaG93V2FybmluZ3Muc2hvdyxzdHlsZVJ1bGVzOmsub3B0aW9ucy5zdHlsZVJ1bGVzLm5vbmUsc3VmZml4VGV4dDprLm9wdGlvbnMuc3VmZml4VGV4dC5ub25lLHN5bWJvbFdoZW5VbmZvY3VzZWQ6ay5vcHRpb25zLnN5bWJvbFdoZW5VbmZvY3VzZWQubm9uZSx1bmZvcm1hdE9uSG92ZXI6ay5vcHRpb25zLnVuZm9ybWF0T25Ib3Zlci51bmZvcm1hdCx1bmZvcm1hdE9uU3VibWl0Omsub3B0aW9ucy51bmZvcm1hdE9uU3VibWl0LmtlZXBDdXJyZW50VmFsdWUsdmFsdWVzVG9TdHJpbmdzOmsub3B0aW9ucy52YWx1ZXNUb1N0cmluZ3Mubm9uZSx3YXRjaEV4dGVybmFsQ2hhbmdlczprLm9wdGlvbnMud2F0Y2hFeHRlcm5hbENoYW5nZXMuZG9Ob3RXYXRjaCx3aGVlbE9uOmsub3B0aW9ucy53aGVlbE9uLmZvY3VzLHdoZWVsU3RlcDprLm9wdGlvbnMud2hlZWxTdGVwLnByb2dyZXNzaXZlfSxPYmplY3QuZnJlZXplKGsuZGVmYXVsdFNldHRpbmdzKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoayxcImRlZmF1bHRTZXR0aW5nc1wiLHtjb25maWd1cmFibGU6ITEsd3JpdGFibGU6ITF9KTt2YXIgRT17ZGlnaXRHcm91cFNlcGFyYXRvcjprLm9wdGlvbnMuZGlnaXRHcm91cFNlcGFyYXRvci5kb3QsZGVjaW1hbENoYXJhY3RlcjprLm9wdGlvbnMuZGVjaW1hbENoYXJhY3Rlci5jb21tYSxkZWNpbWFsQ2hhcmFjdGVyQWx0ZXJuYXRpdmU6ay5vcHRpb25zLmRlY2ltYWxDaGFyYWN0ZXJBbHRlcm5hdGl2ZS5kb3QsY3VycmVuY3lTeW1ib2w6XCLigK/igqxcIixjdXJyZW5jeVN5bWJvbFBsYWNlbWVudDprLm9wdGlvbnMuY3VycmVuY3lTeW1ib2xQbGFjZW1lbnQuc3VmZml4LG5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50Omsub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5wcmVmaXh9LF89e2RpZ2l0R3JvdXBTZXBhcmF0b3I6ay5vcHRpb25zLmRpZ2l0R3JvdXBTZXBhcmF0b3IuY29tbWEsZGVjaW1hbENoYXJhY3RlcjprLm9wdGlvbnMuZGVjaW1hbENoYXJhY3Rlci5kb3QsY3VycmVuY3lTeW1ib2w6ay5vcHRpb25zLmN1cnJlbmN5U3ltYm9sLmRvbGxhcixjdXJyZW5jeVN5bWJvbFBsYWNlbWVudDprLm9wdGlvbnMuY3VycmVuY3lTeW1ib2xQbGFjZW1lbnQucHJlZml4LG5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50Omsub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5yaWdodH0sQz17ZGlnaXRHcm91cFNlcGFyYXRvcjprLm9wdGlvbnMuZGlnaXRHcm91cFNlcGFyYXRvci5jb21tYSxkZWNpbWFsQ2hhcmFjdGVyOmsub3B0aW9ucy5kZWNpbWFsQ2hhcmFjdGVyLmRvdCxjdXJyZW5jeVN5bWJvbDprLm9wdGlvbnMuY3VycmVuY3lTeW1ib2wueWVuLGN1cnJlbmN5U3ltYm9sUGxhY2VtZW50Omsub3B0aW9ucy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudC5wcmVmaXgsbmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQ6ay5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LnJpZ2h0fTtNLmNsb25lT2JqZWN0KEUpLmZvcm11bGFNb2RlPWsub3B0aW9ucy5mb3JtdWxhTW9kZS5lbmFibGVkO3ZhciBGPU0uY2xvbmVPYmplY3QoRSk7Ri5taW5pbXVtVmFsdWU9MDt2YXIgeD1NLmNsb25lT2JqZWN0KEUpO3gubWF4aW11bVZhbHVlPTAseC5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudD1rLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQucHJlZml4O3ZhciBWPU0uY2xvbmVPYmplY3QoRSk7Vi5kaWdpdEdyb3VwU2VwYXJhdG9yPWsub3B0aW9ucy5kaWdpdEdyb3VwU2VwYXJhdG9yLm5vcm1hbFNwYWNlO3ZhciBUPU0uY2xvbmVPYmplY3QoVik7VC5taW5pbXVtVmFsdWU9MDt2YXIgQT1NLmNsb25lT2JqZWN0KFYpO0EubWF4aW11bVZhbHVlPTAsQS5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudD1rLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQucHJlZml4O3ZhciBMPU0uY2xvbmVPYmplY3QoRSk7TC5jdXJyZW5jeVN5bWJvbD1rLm9wdGlvbnMuY3VycmVuY3lTeW1ib2wubm9uZSxMLnN1ZmZpeFRleHQ9XCLigK9cIi5jb25jYXQoay5vcHRpb25zLnN1ZmZpeFRleHQucGVyY2VudGFnZSksTC53aGVlbFN0ZXA9MWUtNCxMLnJhd1ZhbHVlRGl2aXNvcj1rLm9wdGlvbnMucmF3VmFsdWVEaXZpc29yLnBlcmNlbnRhZ2U7dmFyIEk9TS5jbG9uZU9iamVjdChMKTtJLm1pbmltdW1WYWx1ZT0wO3ZhciBCPU0uY2xvbmVPYmplY3QoTCk7Qi5tYXhpbXVtVmFsdWU9MCxCLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50PWsub3B0aW9ucy5uZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudC5wcmVmaXg7dmFyIEQ9TS5jbG9uZU9iamVjdChMKTtELmRlY2ltYWxQbGFjZXM9Mzt2YXIgUj1NLmNsb25lT2JqZWN0KEkpO1IuZGVjaW1hbFBsYWNlcz0zO3ZhciBVPU0uY2xvbmVPYmplY3QoQik7VS5kZWNpbWFsUGxhY2VzPTMsTS5jbG9uZU9iamVjdChfKS5mb3JtdWxhTW9kZT1rLm9wdGlvbnMuZm9ybXVsYU1vZGUuZW5hYmxlZDt2YXIgaj1NLmNsb25lT2JqZWN0KF8pO2oubWluaW11bVZhbHVlPTA7dmFyIHo9TS5jbG9uZU9iamVjdChfKTt6Lm1heGltdW1WYWx1ZT0wLHoubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQ9ay5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LnByZWZpeDt2YXIgSz1NLmNsb25lT2JqZWN0KHopO0submVnYXRpdmVCcmFja2V0c1R5cGVPbkJsdXI9ay5vcHRpb25zLm5lZ2F0aXZlQnJhY2tldHNUeXBlT25CbHVyLnBhcmVudGhlc2VzO3ZhciBHPU0uY2xvbmVPYmplY3QoXyk7Ry5jdXJyZW5jeVN5bWJvbD1rLm9wdGlvbnMuY3VycmVuY3lTeW1ib2wubm9uZSxHLnN1ZmZpeFRleHQ9ay5vcHRpb25zLnN1ZmZpeFRleHQucGVyY2VudGFnZSxHLndoZWVsU3RlcD0xZS00LEcucmF3VmFsdWVEaXZpc29yPWsub3B0aW9ucy5yYXdWYWx1ZURpdmlzb3IucGVyY2VudGFnZTt2YXIgVz1NLmNsb25lT2JqZWN0KEcpO1cubWluaW11bVZhbHVlPTA7dmFyIEg9TS5jbG9uZU9iamVjdChHKTtILm1heGltdW1WYWx1ZT0wLEgubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQ9ay5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LnByZWZpeDt2YXIgWj1NLmNsb25lT2JqZWN0KEcpO1ouZGVjaW1hbFBsYWNlcz0zO3ZhciBxPU0uY2xvbmVPYmplY3QoVyk7cS5kZWNpbWFsUGxhY2VzPTM7dmFyICQ9TS5jbG9uZU9iamVjdChIKTskLmRlY2ltYWxQbGFjZXM9Mzt2YXIgSj1NLmNsb25lT2JqZWN0KEUpO0ouY3VycmVuY3lTeW1ib2w9ay5vcHRpb25zLmN1cnJlbmN5U3ltYm9sLmxpcmEsay5wcmVkZWZpbmVkT3B0aW9ucz17ZXVybzpFLGV1cm9Qb3M6RixldXJvTmVnOngsZXVyb1NwYWNlOlYsZXVyb1NwYWNlUG9zOlQsZXVyb1NwYWNlTmVnOkEscGVyY2VudGFnZUVVMmRlYzpMLHBlcmNlbnRhZ2VFVTJkZWNQb3M6SSxwZXJjZW50YWdlRVUyZGVjTmVnOkIscGVyY2VudGFnZUVVM2RlYzpELHBlcmNlbnRhZ2VFVTNkZWNQb3M6UixwZXJjZW50YWdlRVUzZGVjTmVnOlUsZG9sbGFyOl8sZG9sbGFyUG9zOmosZG9sbGFyTmVnOnosZG9sbGFyTmVnQnJhY2tldHM6SyxwZXJjZW50YWdlVVMyZGVjOkcscGVyY2VudGFnZVVTMmRlY1BvczpXLHBlcmNlbnRhZ2VVUzJkZWNOZWc6SCxwZXJjZW50YWdlVVMzZGVjOloscGVyY2VudGFnZVVTM2RlY1BvczpxLHBlcmNlbnRhZ2VVUzNkZWNOZWc6JCxGcmVuY2g6RSxTcGFuaXNoOkUsTm9ydGhBbWVyaWNhbjpfLEJyaXRpc2g6e2RpZ2l0R3JvdXBTZXBhcmF0b3I6ay5vcHRpb25zLmRpZ2l0R3JvdXBTZXBhcmF0b3IuY29tbWEsZGVjaW1hbENoYXJhY3RlcjprLm9wdGlvbnMuZGVjaW1hbENoYXJhY3Rlci5kb3QsY3VycmVuY3lTeW1ib2w6ay5vcHRpb25zLmN1cnJlbmN5U3ltYm9sLnBvdW5kLGN1cnJlbmN5U3ltYm9sUGxhY2VtZW50Omsub3B0aW9ucy5jdXJyZW5jeVN5bWJvbFBsYWNlbWVudC5wcmVmaXgsbmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQ6ay5vcHRpb25zLm5lZ2F0aXZlUG9zaXRpdmVTaWduUGxhY2VtZW50LnJpZ2h0fSxTd2lzczp7ZGlnaXRHcm91cFNlcGFyYXRvcjprLm9wdGlvbnMuZGlnaXRHcm91cFNlcGFyYXRvci5hcG9zdHJvcGhlLGRlY2ltYWxDaGFyYWN0ZXI6ay5vcHRpb25zLmRlY2ltYWxDaGFyYWN0ZXIuZG90LGN1cnJlbmN5U3ltYm9sOlwi4oCvQ0hGXCIsY3VycmVuY3lTeW1ib2xQbGFjZW1lbnQ6ay5vcHRpb25zLmN1cnJlbmN5U3ltYm9sUGxhY2VtZW50LnN1ZmZpeCxuZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudDprLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQucHJlZml4fSxKYXBhbmVzZTpDLENoaW5lc2U6QyxCcmF6aWxpYW46e2RpZ2l0R3JvdXBTZXBhcmF0b3I6ay5vcHRpb25zLmRpZ2l0R3JvdXBTZXBhcmF0b3IuZG90LGRlY2ltYWxDaGFyYWN0ZXI6ay5vcHRpb25zLmRlY2ltYWxDaGFyYWN0ZXIuY29tbWEsY3VycmVuY3lTeW1ib2w6ay5vcHRpb25zLmN1cnJlbmN5U3ltYm9sLnJlYWwsY3VycmVuY3lTeW1ib2xQbGFjZW1lbnQ6ay5vcHRpb25zLmN1cnJlbmN5U3ltYm9sUGxhY2VtZW50LnByZWZpeCxuZWdhdGl2ZVBvc2l0aXZlU2lnblBsYWNlbWVudDprLm9wdGlvbnMubmVnYXRpdmVQb3NpdGl2ZVNpZ25QbGFjZW1lbnQucmlnaHR9LFR1cmtpc2g6Sixkb3REZWNpbWFsQ2hhckNvbW1hU2VwYXJhdG9yOntkaWdpdEdyb3VwU2VwYXJhdG9yOmsub3B0aW9ucy5kaWdpdEdyb3VwU2VwYXJhdG9yLmNvbW1hLGRlY2ltYWxDaGFyYWN0ZXI6ay5vcHRpb25zLmRlY2ltYWxDaGFyYWN0ZXIuZG90fSxjb21tYURlY2ltYWxDaGFyRG90U2VwYXJhdG9yOntkaWdpdEdyb3VwU2VwYXJhdG9yOmsub3B0aW9ucy5kaWdpdEdyb3VwU2VwYXJhdG9yLmRvdCxkZWNpbWFsQ2hhcmFjdGVyOmsub3B0aW9ucy5kZWNpbWFsQ2hhcmFjdGVyLmNvbW1hLGRlY2ltYWxDaGFyYWN0ZXJBbHRlcm5hdGl2ZTprLm9wdGlvbnMuZGVjaW1hbENoYXJhY3RlckFsdGVybmF0aXZlLmRvdH0saW50ZWdlcjp7ZGVjaW1hbFBsYWNlczowfSxpbnRlZ2VyUG9zOnttaW5pbXVtVmFsdWU6ay5vcHRpb25zLm1pbmltdW1WYWx1ZS56ZXJvLGRlY2ltYWxQbGFjZXM6MH0saW50ZWdlck5lZzp7bWF4aW11bVZhbHVlOmsub3B0aW9ucy5tYXhpbXVtVmFsdWUuemVybyxkZWNpbWFsUGxhY2VzOjB9LGZsb2F0OnthbGxvd0RlY2ltYWxQYWRkaW5nOmsub3B0aW9ucy5hbGxvd0RlY2ltYWxQYWRkaW5nLm5ldmVyfSxmbG9hdFBvczp7YWxsb3dEZWNpbWFsUGFkZGluZzprLm9wdGlvbnMuYWxsb3dEZWNpbWFsUGFkZGluZy5uZXZlcixtaW5pbXVtVmFsdWU6ay5vcHRpb25zLm1pbmltdW1WYWx1ZS56ZXJvLG1heGltdW1WYWx1ZTprLm9wdGlvbnMubWF4aW11bVZhbHVlLnRlblRyaWxsaW9uc30sZmxvYXROZWc6e2FsbG93RGVjaW1hbFBhZGRpbmc6ay5vcHRpb25zLmFsbG93RGVjaW1hbFBhZGRpbmcubmV2ZXIsbWluaW11bVZhbHVlOmsub3B0aW9ucy5taW5pbXVtVmFsdWUudGVuVHJpbGxpb25zLG1heGltdW1WYWx1ZTprLm9wdGlvbnMubWF4aW11bVZhbHVlLnplcm99LG51bWVyaWM6e2RpZ2l0R3JvdXBTZXBhcmF0b3I6ay5vcHRpb25zLmRpZ2l0R3JvdXBTZXBhcmF0b3Iubm9TZXBhcmF0b3IsZGVjaW1hbENoYXJhY3RlcjprLm9wdGlvbnMuZGVjaW1hbENoYXJhY3Rlci5kb3QsY3VycmVuY3lTeW1ib2w6ay5vcHRpb25zLmN1cnJlbmN5U3ltYm9sLm5vbmV9LG51bWVyaWNQb3M6e2RpZ2l0R3JvdXBTZXBhcmF0b3I6ay5vcHRpb25zLmRpZ2l0R3JvdXBTZXBhcmF0b3Iubm9TZXBhcmF0b3IsZGVjaW1hbENoYXJhY3RlcjprLm9wdGlvbnMuZGVjaW1hbENoYXJhY3Rlci5kb3QsY3VycmVuY3lTeW1ib2w6ay5vcHRpb25zLmN1cnJlbmN5U3ltYm9sLm5vbmUsbWluaW11bVZhbHVlOmsub3B0aW9ucy5taW5pbXVtVmFsdWUuemVybyxtYXhpbXVtVmFsdWU6ay5vcHRpb25zLm1heGltdW1WYWx1ZS50ZW5UcmlsbGlvbnN9LG51bWVyaWNOZWc6e2RpZ2l0R3JvdXBTZXBhcmF0b3I6ay5vcHRpb25zLmRpZ2l0R3JvdXBTZXBhcmF0b3Iubm9TZXBhcmF0b3IsZGVjaW1hbENoYXJhY3RlcjprLm9wdGlvbnMuZGVjaW1hbENoYXJhY3Rlci5kb3QsY3VycmVuY3lTeW1ib2w6ay5vcHRpb25zLmN1cnJlbmN5U3ltYm9sLm5vbmUsbWluaW11bVZhbHVlOmsub3B0aW9ucy5taW5pbXVtVmFsdWUudGVuVHJpbGxpb25zLG1heGltdW1WYWx1ZTprLm9wdGlvbnMubWF4aW11bVZhbHVlLnplcm99fSxPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhrLnByZWRlZmluZWRPcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe09iamVjdC5mcmVlemUoay5wcmVkZWZpbmVkT3B0aW9uc1tlXSl9KSxPYmplY3QuZnJlZXplKGsucHJlZGVmaW5lZE9wdGlvbnMpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShrLFwicHJlZGVmaW5lZE9wdGlvbnNcIix7Y29uZmlndXJhYmxlOiExLHdyaXRhYmxlOiExfSksdC5kZWZhdWx0PWt9XSxhLmM9bixhLmQ9ZnVuY3Rpb24oZSx0LGkpe2EubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDppfSl9LGEucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxhLnQ9ZnVuY3Rpb24odCxlKXtpZigxJmUmJih0PWEodCkpLDgmZSlyZXR1cm4gdDtpZig0JmUmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGk9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihhLnIoaSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpZm9yKHZhciBuIGluIHQpYS5kKGksbixmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0uYmluZChudWxsLG4pKTtyZXR1cm4gaX0sYS5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBhLmQodCxcImFcIix0KSx0fSxhLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LGEucD1cIlwiLGEoYS5zPTApLmRlZmF1bHQ7ZnVuY3Rpb24gYShlKXtpZihuW2VdKXJldHVybiBuW2VdLmV4cG9ydHM7dmFyIHQ9bltlXT17aTplLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGlbZV0uY2FsbCh0LmV4cG9ydHMsdCx0LmV4cG9ydHMsYSksdC5sPSEwLHQuZXhwb3J0c312YXIgaSxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdXRvTnVtZXJpYy5taW4uanMubWFwIiwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307Il0sIm5hbWVzIjpbIkF1dG9OdW1lcmljIiwicmVxdWlyZSIsImluaXRGb3JtYXR0ZWROdW1iZXIiLCJyb290RWxlbWVudCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImRvY3VtZW50IiwibnVtYmVySW5wdXRzIiwiQXJyYXkiLCJmcm9tIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImZvckVhY2giLCJudW1iZXJJbnB1dCIsImhpZGRlbklucHV0IiwiZGF0YXNldCIsInRhcmdldCIsImNvbmZpZyIsImRpZ2l0R3JvdXBTZXBhcmF0b3IiLCJncm91cFNlcGFyYXRvciIsImRlY2ltYWxDaGFyYWN0ZXIiLCJkZWNpbWFsU2VwYXJhdG9yIiwiZGVjaW1hbFBsYWNlcyIsImRlY2ltYWxSb3VuZGluZyIsImFsbG93RGVjaW1hbFBhZGRpbmciLCJkaWdpdGFsR3JvdXBTcGFjaW5nIiwibW9kaWZ5VmFsdWVPbldoZWVsIiwidmFsdWUiLCJmb3JtYXR0ZWRJbnB1dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyYXdWYWx1ZSIsIm1vZHVsZSIsImV4cG9ydHMiLCIkIiwicmVhZHkiLCJwcm9jZXNzQWpheFJlc3VsdCIsImRhdGEiLCJwYXJhbXMiLCJwYWdlIiwicmVzdWx0cyIsInZhbHVlcyIsInBhZ2luYXRpb24iLCJtb3JlIiwidG90YWwiLCJzZWxlY3QyX3NlYXJjaCIsIiRzZWxlY3QiLCJ0ZXJtIiwic2VsZWN0MiIsIiRzZWFyY2giLCJkcm9wZG93biIsInNlbGVjdGlvbiIsInZhbCIsInRyaWdnZXIiLCJhZGRBbm90aGVySW1hZ2VDb2xsZWN0aW9uIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInByb3RvdHlwZVRlbXBsYXRlIiwiY2xvc2VzdCIsImltYWdlU2V0IiwiaW1hZ2VTZXRJbmRleCIsImltYWdlQ29sbGVjdGlvbkluZGV4IiwiZmluZCIsIm5ld09wdGlvbkZvcm1IVE1MIiwicmVwbGFjZSIsInRyaW0iLCJzZXRTb3J0T3JkZXJGaWVsZFZhbHVlIiwiYXBwZW5kIiwiZ2V0IiwiZWxlbWVudCIsImFkZEFub3RoZXJJbWFnZVNldCIsImltYWdlU2V0UHJvdG90eXBlIiwiYmVmb3JlIiwiaW1hZ2VDb2xsZWN0aW9uUHJvdG90eXBlIiwicGFyc2VIVE1MIiwic29ydE9yZGVyRmllbGQiLCJhdHRyIiwiZGVsZXRlSW1hZ2VTZXQiLCJyZW1vdmUiLCJkZWxldGVJbWFnZUNvbGxlY3Rpb24iLCJlYWNoIiwiaSIsImluZGV4IiwiaW1hZ2VTZXRDb250YWluZXIiLCJjdXJyZW50SW1hZ2VTZXRJbmRleCIsIm9uIiwidGFncyIsImRyb3Bkb3duV2l0aFBhcmVudCIsImRyb3Bkb3duUGFyZW50IiwicHJlTG9hZGVkIiwiYWpheCIsInVybCIsImRhdGFUeXBlIiwiZGVsYXkiLCJjYWNoZSIsInAiLCJxIiwiaWQiLCJsb2NhbGVfY29kZSIsInByb2Nlc3NSZXN1bHRzIiwibWluaW11bUlucHV0TGVuZ3RoIiwiJGNoZWNrYm94IiwiJGlucHV0IiwicGFyZW50cyIsInByb3AiLCJoYXNDbGFzcyIsIm9mZiIsInNldFRpbWVvdXQiLCJmb2N1cyIsImtleSIsImlucHV0IiwiYXV0b2NvbXBsZXRlIiwibWluTGVuZ3RoIiwic291cmNlIiwicmVxdWVzdCIsInJlc3BvbnNlIiwic3VjY2VzcyIsIm1hcCIsIml0ZW0iLCJsYWJlbCIsInRleHQiLCJzZWxlY3QiLCJ1aSIsInN1Ym1pdCIsImUiLCJmb3JtIiwiaGlkZGVuIiwibmV4dCIsImlucHV0VmFsdWUiLCJuYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==