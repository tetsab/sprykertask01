"use strict";
(globalThis["webpackJsonp_yves_default"] = globalThis["webpackJsonp_yves_default"] || []).push([["save-new-address"],{

/***/ "./vendor/spryker-shop/customer-page/src/SprykerShop/Yves/CustomerPage/Theme/default/components/molecules/save-new-address/save-new-address.ts":
/*!*****************************************************************************************************************************************************!*\
  !*** ./vendor/spryker-shop/customer-page/src/SprykerShop/Yves/CustomerPage/Theme/default/components/molecules/save-new-address/save-new-address.ts ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SaveNewAddress)
/* harmony export */ });
/* harmony import */ var ShopUi_models_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ShopUi/models/component */ "./vendor/spryker-shop/shop-ui/src/SprykerShop/Yves/ShopUi/Theme/default/models/component.ts");

var EVENT_ADD_NEW_ADDRESS = 'add-new-address';
class SaveNewAddress extends ShopUi_models_component__WEBPACK_IMPORTED_MODULE_0__["default"] {
  constructor() {
    super(...arguments);
    this.customerShippingAddresses = void 0;
    this.customerBillingAddresses = void 0;
    this.saveNewAddressToggler = void 0;
    this.sameAsShippingToggler = void 0;
    this.addNewShippingAddress = void 0;
    this.addNewBillingAddress = void 0;
    this.newShippingAddressChecked = false;
    this.newBillingAddressChecked = false;
    this.hideClass = 'is-hidden';
  }
  readyCallback() {
    if (this.shippingAddressTogglerSelector && this.billingAddressTogglerSelector) {
      this.customerShippingAddresses = document.querySelector(this.shippingAddressTogglerSelector);
      this.customerBillingAddresses = document.querySelector(this.billingAddressTogglerSelector);
    }
    if (this.addNewShippingAddressSelector && this.addNewBillingAddressSelector) {
      this.addNewShippingAddress = document.querySelector(this.addNewShippingAddressSelector);
      this.addNewBillingAddress = document.querySelector(this.addNewBillingAddressSelector);
    }
    this.saveNewAddressToggler = document.querySelector(this.saveAddressTogglerSelector);
    this.sameAsShippingToggler = document.querySelector(this.billingSameAsShippingAddressTogglerSelector);
    this.customerAddressesExists();
  }
  customerAddressesExists() {
    if (!this.customerShippingAddresses) {
      this.showSaveNewAddress();
      return;
    }
    this.mapEvents();
    this.initSaveNewAddressState();
  }
  mapEvents() {
    if (this.addNewShippingAddress && this.addNewBillingAddress) {
      this.addNewShippingAddress.addEventListener(EVENT_ADD_NEW_ADDRESS, () => this.shippingTogglerOnChange());
      this.addNewBillingAddress.addEventListener(EVENT_ADD_NEW_ADDRESS, () => this.billingTogglerOnChange());
    }
    this.customerShippingAddresses.addEventListener('change', () => this.shippingTogglerOnChange());
    this.customerBillingAddresses.addEventListener('change', () => this.billingTogglerOnChange());
    this.sameAsShippingToggler.addEventListener('change', () => this.toggleSaveNewAddress());
  }
  shippingTogglerOnChange() {
    this.newShippingAddressChecked = this.addressTogglerChange(this.customerShippingAddresses);
    this.toggleSaveNewAddress();
  }
  billingTogglerOnChange() {
    this.newBillingAddressChecked = this.addressTogglerChange(this.customerBillingAddresses);
    this.toggleSaveNewAddress();
  }
  initSaveNewAddressState() {
    this.newShippingAddressChecked = this.isSaveNewAddressOptionSelected(this.customerShippingAddresses);
    this.newBillingAddressChecked = this.isSaveNewAddressOptionSelected(this.customerBillingAddresses);
    this.toggleSaveNewAddress();
  }
  addressTogglerChange(toggler) {
    return this.isSaveNewAddressOptionSelected(toggler);
  }
  isSaveNewAddressOptionSelected(toggler) {
    return !toggler.value;
  }
  toggleSaveNewAddress() {
    if (this.newShippingAddressChecked || this.newBillingAddressChecked && !this.sameAsShippingChecked) {
      this.showSaveNewAddress();
      return;
    }
    this.hideSaveNewAddress();
  }
  hideSaveNewAddress() {
    this.classList.add(this.hideClass);
    this.saveNewAddressToggler.disabled = true;
  }
  showSaveNewAddress() {
    this.classList.remove(this.hideClass);
    this.saveNewAddressToggler.disabled = false;
  }
  get sameAsShippingChecked() {
    return this.sameAsShippingToggler.checked;
  }
  get shippingAddressTogglerSelector() {
    return this.getAttribute('shipping-address-toggler-selector');
  }
  get billingAddressTogglerSelector() {
    return this.getAttribute('billing-address-toggler-selector');
  }
  get addNewShippingAddressSelector() {
    return this.getAttribute('add-new-shipping-address-selector');
  }
  get addNewBillingAddressSelector() {
    return this.getAttribute('add-new-billing-address-selector');
  }
  get billingSameAsShippingAddressTogglerSelector() {
    return this.getAttribute('billing-same-as-shipping-toggler-selector');
  }
  get saveAddressTogglerSelector() {
    return this.getAttribute('save-address-toggler-selector');
  }
}

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0lBQ2xDLElBQUksQ0FBQ04scUJBQXFCLENBQUNnQyxRQUFRLEdBQUcsSUFBSTtFQUM5QztFQUVBZixrQkFBa0JBLENBQUEsRUFBUztJQUN2QixJQUFJLENBQUNhLFNBQVMsQ0FBQ0csTUFBTSxDQUFDLElBQUksQ0FBQzNCLFNBQVMsQ0FBQztJQUNyQyxJQUFJLENBQUNOLHFCQUFxQixDQUFDZ0MsUUFBUSxHQUFHLEtBQUs7RUFDL0M7RUFFQSxJQUFJSixxQkFBcUJBLENBQUEsRUFBWTtJQUNqQyxPQUFPLElBQUksQ0FBQzNCLHFCQUFxQixDQUFDaUMsT0FBTztFQUM3QztFQUVBLElBQUkxQiw4QkFBOEJBLENBQUEsRUFBVztJQUN6QyxPQUFPLElBQUksQ0FBQzJCLFlBQVksQ0FBQyxtQ0FBbUMsQ0FBQztFQUNqRTtFQUVBLElBQUkxQiw2QkFBNkJBLENBQUEsRUFBVztJQUN4QyxPQUFPLElBQUksQ0FBQzBCLFlBQVksQ0FBQyxrQ0FBa0MsQ0FBQztFQUNoRTtFQUVBLElBQUl2Qiw2QkFBNkJBLENBQUEsRUFBVztJQUN4QyxPQUFPLElBQUksQ0FBQ3VCLFlBQVksQ0FBQyxtQ0FBbUMsQ0FBQztFQUNqRTtFQUVBLElBQUl0Qiw0QkFBNEJBLENBQUEsRUFBVztJQUN2QyxPQUFPLElBQUksQ0FBQ3NCLFlBQVksQ0FBQyxrQ0FBa0MsQ0FBQztFQUNoRTtFQUVBLElBQUlwQiwyQ0FBMkNBLENBQUEsRUFBVztJQUN0RCxPQUFPLElBQUksQ0FBQ29CLFlBQVksQ0FBQywyQ0FBMkMsQ0FBQztFQUN6RTtFQUVBLElBQUlyQiwwQkFBMEJBLENBQUEsRUFBVztJQUNyQyxPQUFPLElBQUksQ0FBQ3FCLFlBQVksQ0FBQywrQkFBK0IsQ0FBQztFQUM3RDtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3ByeWtlci1iMmMtZGVtby1zaG9wLy4vdmVuZG9yL3NwcnlrZXItc2hvcC9jdXN0b21lci1wYWdlL3NyYy9TcHJ5a2VyU2hvcC9ZdmVzL0N1c3RvbWVyUGFnZS9UaGVtZS9kZWZhdWx0L2NvbXBvbmVudHMvbW9sZWN1bGVzL3NhdmUtbmV3LWFkZHJlc3Mvc2F2ZS1uZXctYWRkcmVzcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29tcG9uZW50IGZyb20gJ1Nob3BVaS9tb2RlbHMvY29tcG9uZW50JztcblxuY29uc3QgRVZFTlRfQUREX05FV19BRERSRVNTID0gJ2FkZC1uZXctYWRkcmVzcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNhdmVOZXdBZGRyZXNzIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjdXN0b21lclNoaXBwaW5nQWRkcmVzc2VzOiBIVE1MRm9ybUVsZW1lbnQ7XG4gICAgY3VzdG9tZXJCaWxsaW5nQWRkcmVzc2VzOiBIVE1MRm9ybUVsZW1lbnQ7XG4gICAgc2F2ZU5ld0FkZHJlc3NUb2dnbGVyOiBIVE1MSW5wdXRFbGVtZW50O1xuICAgIHNhbWVBc1NoaXBwaW5nVG9nZ2xlcjogSFRNTElucHV0RWxlbWVudDtcbiAgICBhZGROZXdTaGlwcGluZ0FkZHJlc3M6IEhUTUxCdXR0b25FbGVtZW50O1xuICAgIGFkZE5ld0JpbGxpbmdBZGRyZXNzOiBIVE1MQnV0dG9uRWxlbWVudDtcblxuICAgIG5ld1NoaXBwaW5nQWRkcmVzc0NoZWNrZWQgPSBmYWxzZTtcbiAgICBuZXdCaWxsaW5nQWRkcmVzc0NoZWNrZWQgPSBmYWxzZTtcbiAgICByZWFkb25seSBoaWRlQ2xhc3M6IHN0cmluZyA9ICdpcy1oaWRkZW4nO1xuXG4gICAgcHJvdGVjdGVkIHJlYWR5Q2FsbGJhY2soKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnNoaXBwaW5nQWRkcmVzc1RvZ2dsZXJTZWxlY3RvciAmJiB0aGlzLmJpbGxpbmdBZGRyZXNzVG9nZ2xlclNlbGVjdG9yKSB7XG4gICAgICAgICAgICB0aGlzLmN1c3RvbWVyU2hpcHBpbmdBZGRyZXNzZXMgPSA8SFRNTEZvcm1FbGVtZW50PihcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2hpcHBpbmdBZGRyZXNzVG9nZ2xlclNlbGVjdG9yKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuY3VzdG9tZXJCaWxsaW5nQWRkcmVzc2VzID0gPEhUTUxGb3JtRWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuYmlsbGluZ0FkZHJlc3NUb2dnbGVyU2VsZWN0b3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuYWRkTmV3U2hpcHBpbmdBZGRyZXNzU2VsZWN0b3IgJiYgdGhpcy5hZGROZXdCaWxsaW5nQWRkcmVzc1NlbGVjdG9yKSB7XG4gICAgICAgICAgICB0aGlzLmFkZE5ld1NoaXBwaW5nQWRkcmVzcyA9IDxIVE1MQnV0dG9uRWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuYWRkTmV3U2hpcHBpbmdBZGRyZXNzU2VsZWN0b3IpO1xuICAgICAgICAgICAgdGhpcy5hZGROZXdCaWxsaW5nQWRkcmVzcyA9IDxIVE1MQnV0dG9uRWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuYWRkTmV3QmlsbGluZ0FkZHJlc3NTZWxlY3Rvcik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNhdmVOZXdBZGRyZXNzVG9nZ2xlciA9IDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5zYXZlQWRkcmVzc1RvZ2dsZXJTZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuc2FtZUFzU2hpcHBpbmdUb2dnbGVyID0gPEhUTUxJbnB1dEVsZW1lbnQ+KFxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLmJpbGxpbmdTYW1lQXNTaGlwcGluZ0FkZHJlc3NUb2dnbGVyU2VsZWN0b3IpXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5jdXN0b21lckFkZHJlc3Nlc0V4aXN0cygpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjdXN0b21lckFkZHJlc3Nlc0V4aXN0cygpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmN1c3RvbWVyU2hpcHBpbmdBZGRyZXNzZXMpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd1NhdmVOZXdBZGRyZXNzKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1hcEV2ZW50cygpO1xuICAgICAgICB0aGlzLmluaXRTYXZlTmV3QWRkcmVzc1N0YXRlKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG1hcEV2ZW50cygpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuYWRkTmV3U2hpcHBpbmdBZGRyZXNzICYmIHRoaXMuYWRkTmV3QmlsbGluZ0FkZHJlc3MpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkTmV3U2hpcHBpbmdBZGRyZXNzLmFkZEV2ZW50TGlzdGVuZXIoRVZFTlRfQUREX05FV19BRERSRVNTLCAoKSA9PiB0aGlzLnNoaXBwaW5nVG9nZ2xlck9uQ2hhbmdlKCkpO1xuICAgICAgICAgICAgdGhpcy5hZGROZXdCaWxsaW5nQWRkcmVzcy5hZGRFdmVudExpc3RlbmVyKEVWRU5UX0FERF9ORVdfQUREUkVTUywgKCkgPT4gdGhpcy5iaWxsaW5nVG9nZ2xlck9uQ2hhbmdlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXN0b21lclNoaXBwaW5nQWRkcmVzc2VzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHRoaXMuc2hpcHBpbmdUb2dnbGVyT25DaGFuZ2UoKSk7XG4gICAgICAgIHRoaXMuY3VzdG9tZXJCaWxsaW5nQWRkcmVzc2VzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHRoaXMuYmlsbGluZ1RvZ2dsZXJPbkNoYW5nZSgpKTtcbiAgICAgICAgdGhpcy5zYW1lQXNTaGlwcGluZ1RvZ2dsZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gdGhpcy50b2dnbGVTYXZlTmV3QWRkcmVzcygpKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2hpcHBpbmdUb2dnbGVyT25DaGFuZ2UoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubmV3U2hpcHBpbmdBZGRyZXNzQ2hlY2tlZCA9IHRoaXMuYWRkcmVzc1RvZ2dsZXJDaGFuZ2UodGhpcy5jdXN0b21lclNoaXBwaW5nQWRkcmVzc2VzKTtcbiAgICAgICAgdGhpcy50b2dnbGVTYXZlTmV3QWRkcmVzcygpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBiaWxsaW5nVG9nZ2xlck9uQ2hhbmdlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLm5ld0JpbGxpbmdBZGRyZXNzQ2hlY2tlZCA9IHRoaXMuYWRkcmVzc1RvZ2dsZXJDaGFuZ2UodGhpcy5jdXN0b21lckJpbGxpbmdBZGRyZXNzZXMpO1xuICAgICAgICB0aGlzLnRvZ2dsZVNhdmVOZXdBZGRyZXNzKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGluaXRTYXZlTmV3QWRkcmVzc1N0YXRlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLm5ld1NoaXBwaW5nQWRkcmVzc0NoZWNrZWQgPSB0aGlzLmlzU2F2ZU5ld0FkZHJlc3NPcHRpb25TZWxlY3RlZCh0aGlzLmN1c3RvbWVyU2hpcHBpbmdBZGRyZXNzZXMpO1xuICAgICAgICB0aGlzLm5ld0JpbGxpbmdBZGRyZXNzQ2hlY2tlZCA9IHRoaXMuaXNTYXZlTmV3QWRkcmVzc09wdGlvblNlbGVjdGVkKHRoaXMuY3VzdG9tZXJCaWxsaW5nQWRkcmVzc2VzKTtcbiAgICAgICAgdGhpcy50b2dnbGVTYXZlTmV3QWRkcmVzcygpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhZGRyZXNzVG9nZ2xlckNoYW5nZSh0b2dnbGVyKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzU2F2ZU5ld0FkZHJlc3NPcHRpb25TZWxlY3RlZCh0b2dnbGVyKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaXNTYXZlTmV3QWRkcmVzc09wdGlvblNlbGVjdGVkKHRvZ2dsZXI6IEhUTUxGb3JtRWxlbWVudCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gIXRvZ2dsZXIudmFsdWU7XG4gICAgfVxuXG4gICAgdG9nZ2xlU2F2ZU5ld0FkZHJlc3MoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLm5ld1NoaXBwaW5nQWRkcmVzc0NoZWNrZWQgfHwgKHRoaXMubmV3QmlsbGluZ0FkZHJlc3NDaGVja2VkICYmICF0aGlzLnNhbWVBc1NoaXBwaW5nQ2hlY2tlZCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd1NhdmVOZXdBZGRyZXNzKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmhpZGVTYXZlTmV3QWRkcmVzcygpO1xuICAgIH1cblxuICAgIGhpZGVTYXZlTmV3QWRkcmVzcygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKHRoaXMuaGlkZUNsYXNzKTtcbiAgICAgICAgdGhpcy5zYXZlTmV3QWRkcmVzc1RvZ2dsZXIuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHNob3dTYXZlTmV3QWRkcmVzcygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuaGlkZUNsYXNzKTtcbiAgICAgICAgdGhpcy5zYXZlTmV3QWRkcmVzc1RvZ2dsZXIuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQgc2FtZUFzU2hpcHBpbmdDaGVja2VkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zYW1lQXNTaGlwcGluZ1RvZ2dsZXIuY2hlY2tlZDtcbiAgICB9XG5cbiAgICBnZXQgc2hpcHBpbmdBZGRyZXNzVG9nZ2xlclNlbGVjdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgnc2hpcHBpbmctYWRkcmVzcy10b2dnbGVyLXNlbGVjdG9yJyk7XG4gICAgfVxuXG4gICAgZ2V0IGJpbGxpbmdBZGRyZXNzVG9nZ2xlclNlbGVjdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgnYmlsbGluZy1hZGRyZXNzLXRvZ2dsZXItc2VsZWN0b3InKTtcbiAgICB9XG5cbiAgICBnZXQgYWRkTmV3U2hpcHBpbmdBZGRyZXNzU2VsZWN0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCdhZGQtbmV3LXNoaXBwaW5nLWFkZHJlc3Mtc2VsZWN0b3InKTtcbiAgICB9XG5cbiAgICBnZXQgYWRkTmV3QmlsbGluZ0FkZHJlc3NTZWxlY3RvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoJ2FkZC1uZXctYmlsbGluZy1hZGRyZXNzLXNlbGVjdG9yJyk7XG4gICAgfVxuXG4gICAgZ2V0IGJpbGxpbmdTYW1lQXNTaGlwcGluZ0FkZHJlc3NUb2dnbGVyU2VsZWN0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCdiaWxsaW5nLXNhbWUtYXMtc2hpcHBpbmctdG9nZ2xlci1zZWxlY3RvcicpO1xuICAgIH1cblxuICAgIGdldCBzYXZlQWRkcmVzc1RvZ2dsZXJTZWxlY3RvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoJ3NhdmUtYWRkcmVzcy10b2dnbGVyLXNlbGVjdG9yJyk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIkNvbXBvbmVudCIsIkVWRU5UX0FERF9ORVdfQUREUkVTUyIsIlNhdmVOZXdBZGRyZXNzIiwiY29uc3RydWN0b3IiLCJhcmd1bWVudHMiLCJjdXN0b21lclNoaXBwaW5nQWRkcmVzc2VzIiwiY3VzdG9tZXJCaWxsaW5nQWRkcmVzc2VzIiwic2F2ZU5ld0FkZHJlc3NUb2dnbGVyIiwic2FtZUFzU2hpcHBpbmdUb2dnbGVyIiwiYWRkTmV3U2hpcHBpbmdBZGRyZXNzIiwiYWRkTmV3QmlsbGluZ0FkZHJlc3MiLCJuZXdTaGlwcGluZ0FkZHJlc3NDaGVja2VkIiwibmV3QmlsbGluZ0FkZHJlc3NDaGVja2VkIiwiaGlkZUNsYXNzIiwicmVhZHlDYWxsYmFjayIsInNoaXBwaW5nQWRkcmVzc1RvZ2dsZXJTZWxlY3RvciIsImJpbGxpbmdBZGRyZXNzVG9nZ2xlclNlbGVjdG9yIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWRkTmV3U2hpcHBpbmdBZGRyZXNzU2VsZWN0b3IiLCJhZGROZXdCaWxsaW5nQWRkcmVzc1NlbGVjdG9yIiwic2F2ZUFkZHJlc3NUb2dnbGVyU2VsZWN0b3IiLCJiaWxsaW5nU2FtZUFzU2hpcHBpbmdBZGRyZXNzVG9nZ2xlclNlbGVjdG9yIiwiY3VzdG9tZXJBZGRyZXNzZXNFeGlzdHMiLCJzaG93U2F2ZU5ld0FkZHJlc3MiLCJtYXBFdmVudHMiLCJpbml0U2F2ZU5ld0FkZHJlc3NTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzaGlwcGluZ1RvZ2dsZXJPbkNoYW5nZSIsImJpbGxpbmdUb2dnbGVyT25DaGFuZ2UiLCJ0b2dnbGVTYXZlTmV3QWRkcmVzcyIsImFkZHJlc3NUb2dnbGVyQ2hhbmdlIiwiaXNTYXZlTmV3QWRkcmVzc09wdGlvblNlbGVjdGVkIiwidG9nZ2xlciIsInZhbHVlIiwic2FtZUFzU2hpcHBpbmdDaGVja2VkIiwiaGlkZVNhdmVOZXdBZGRyZXNzIiwiY2xhc3NMaXN0IiwiYWRkIiwiZGlzYWJsZWQiLCJyZW1vdmUiLCJjaGVja2VkIiwiZ2V0QXR0cmlidXRlIl0sInNvdXJjZVJvb3QiOiIifQ==